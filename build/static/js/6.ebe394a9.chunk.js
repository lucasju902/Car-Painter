(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[6],{1090:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(15),c=a(359),o=a(32),l=a(0),i=a(35),s=a(584),d=a.n(s),u=a(78),j=a(14),b=a(321),h=a(26),p=a(82),O=a(137),f=a(323),y=a(130),x=a(319),m=a(347),g=a(1099),_=a(1053),w=a(1048),C=a(1101),v=a(1051),k=a(1052),I=a(1049),S=a(1050),F=a(6),L=Object(o.c)(y.a).withConfig({displayName:"Toolbar__Typography",componentId:"sc-1sow5sy-0"})(f.b),R=Object(o.c)(w.a).withConfig({displayName:"Toolbar__ToggleButton",componentId:"sc-1sow5sy-1"})(f.b),B=Object(o.c)(x.a).withConfig({displayName:"Toolbar__Button",componentId:"sc-1sow5sy-2"})(f.b),T=Object(o.c)(m.a).withConfig({displayName:"Toolbar__IconButton",componentId:"sc-1sow5sy-3"})(f.b),D=o.c.div.withConfig({displayName:"Toolbar__Wrapper",componentId:"sc-1sow5sy-4"})(["width:100%;height:50px;display:flex;padding:10px 20px;background:#151515;z-index:1201;"]),N=Object(o.c)(g.a).withConfig({displayName:"Toolbar__CustomOutlinedInput",componentId:"sc-1sow5sy-5"})([".MuiOutlinedInput-input{padding:6px 14px;border-bottom:none;width:40px;}"]),M=function(e){var t=e.onZoomIn,a=e.onZoomOut,n=e.onChangePaintingGuides,r=e.onChangeBoardRotation,c=Object(i.d)(),o=Object(i.e)((function(e){return e.boardReducer.paintingGuides})),l=Object(i.e)((function(e){return e.boardReducer.zoom})),s=Object(i.e)((function(e){return e.boardReducer.boardRotate})),d=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?(e=s+90)>=360&&(e=0):(e=s-90)<0&&(e=270),r(e)};return Object(F.jsx)(D,{children:Object(F.jsxs)(b.a,{display:"flex",justifyContent:"space-between",alignContent:"center",width:"100%",children:[Object(F.jsxs)(b.a,{display:"flex",justifyContent:"start",alignContent:"center",children:[Object(F.jsx)(L,{variant:"subtitle1",mr:2,children:"Painting Guides:"}),Object(F.jsxs)(C.a,{value:o,onChange:function(e,t){n(t)},"aria-label":"Painting Guides",children:[Object(F.jsx)(R,{value:h.d.CARMASK,"aria-label":"car-mask",children:Object(F.jsx)(L,{variant:"caption",children:"car mask"})}),Object(F.jsx)(R,{value:h.d.WIREFRAME,"aria-label":"wireframe",children:Object(F.jsx)(L,{variant:"caption",children:"wireframe"})}),Object(F.jsx)(R,{value:h.d.SPONSORBLOCKS,"aria-label":"sponsor-blocks",children:Object(F.jsx)(L,{variant:"caption",children:"sponsor blocks"})}),Object(F.jsx)(R,{value:h.d.NUMBERBLOCKS,"aria-label":"number-blocks",children:Object(F.jsx)(L,{variant:"caption",children:"number blocks"})}),Object(F.jsx)(R,{value:h.d.GRID,"aria-label":"grid",children:Object(F.jsx)(L,{variant:"caption",children:"grid"})})]})]}),Object(F.jsxs)(b.a,{display:"flex",justifyContent:"flex-end",alignContent:"center",children:[Object(F.jsx)(B,{mr:2,variant:"outlined",children:"SHORTCUTS"}),Object(F.jsx)(B,{mr:2,variant:"outlined",children:"SIM PREVIEW"}),Object(F.jsx)(T,{onClick:function(){return d(!1)},children:Object(F.jsx)(I.a,{})}),Object(F.jsx)(T,{onClick:function(){return d(!0)},children:Object(F.jsx)(S.a,{})}),Object(F.jsx)(T,{onClick:a,children:Object(F.jsx)(v.a,{})}),Object(F.jsx)(T,{onClick:t,mr:1,children:Object(F.jsx)(k.a,{})}),Object(F.jsx)(N,{id:"zoom-value",value:100*l,onChange:function(e){c(Object(O.f)(parseInt(e.target.value||0)/100))},endAdornment:Object(F.jsx)(_.a,{position:"end",children:"%"}),labelWidth:0})]})]})})},z=a(418),P=a(876),E=a(2),X=a.n(E),A=a(3),Y=a(482),W=a(624),K=a(486),U=a.n(K),V=a(377),G=function(e){var t=e.src,a=e.tellSize,r=(e.isSelected,e.onSelect),o=e.onChange,i=e.filterColor,s=e.frameSize,d=e.allowFit,u=Object(Y.a)(e,["src","tellSize","isSelected","onSelect","onChange","filterColor","frameSize","allowFit"]),j=Object(l.useRef)(null),b=Object(l.useRef)(),h=Object(l.useState)(null),p=Object(c.a)(h,2),O=p[0],f=p[1],y=[];i&&i.length&&y.push(U.a.Filters.RGBA);var x=function(e){return j.current?Math.max(1,j.current.width/e.width(),j.current.height/e.height()):1};Object(l.useEffect)((function(){return g(),function(){j.current&&j.current.removeEventListener("load",m)}}),[]),Object(l.useEffect)((function(){b.current&&(i&&i.length?b.current.cache({pixelRatio:x(b.current),imageSmoothingEnabled:!0}):b.current.clearCache())}),[i]);var m=function(){var e=Object(A.a)(X.a.mark((function e(){var n,r,c,l,h,p,O;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!d||j.current.width<=s.width/2&&j.current.height<=s.height/2?j.current.width:s.width/2,r=!d||j.current.width<=s.width/2&&j.current.height<=s.height/2?j.current.height:s.width/2*j.current.height/j.current.width,c=u.width||n,l=u.height||r,!t.toLowerCase().includes(".svg")||j.current.width&&j.current.height){e.next=19;break}return h=document.createElement("canvas"),p=h.getContext("2d"),e.next=9,W.a.from(p,t,{enableRedraw:!0});case 9:return O=e.sent,console.log(O),c=c||O.documentElement.node.width.baseVal.value||200,l=l||O.documentElement.node.height.baseVal.value||200,O.resize(c,l,"none"),e.next=16,O.render();case 16:f(h),e.next=20;break;case 19:f(j.current);case 20:!o||u.width||u.height||o({left:Object(V.d)(u.x-c/2),top:Object(V.d)(u.y-l/2),width:Object(V.d)(c),height:Object(V.d)(l)}),i&&i.length&&b.current.cache({pixelRatio:x(b.current),imageSmoothingEnabled:!0}),a&&a({width:c,height:l});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(A.a)(X.a.mark((function e(){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new window.Image).src=t+"?timestamp=".concat((new Date).toISOString()),a.crossOrigin="anonymous",j.current=a,j.current.addEventListener("load",m);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsx)(z.a,Object(n.a)(Object(n.a)({},u),{},{image:O,onClick:r,onTap:r,ref:b,draggable:o,filters:y.length?y:null,red:i&&i.length?Object(V.c)(i).r:null,green:i&&i.length?Object(V.c)(i).g:null,blue:i&&i.length?Object(V.c)(i).b:null,alpha:i&&i.length?Object(V.c)(i).a/255:null,onDragStart:function(e){r()},onDragEnd:function(e){o&&o({left:Object(V.d)(e.target.x()),top:Object(V.d)(e.target.y())})},onTransformEnd:function(e){if(o){var t=b.current,a=t.scaleX(),n=t.scaleY();console.log("scaleX, scaleY: ",a,n),t.scaleX(a>0?1:-1),t.scaleY(n>0?1:-1),o({left:Object(V.d)(t.x()),top:Object(V.d)(t.y()),width:Object(V.d)(Math.max(1,t.width()*Math.abs(a))),height:Object(V.d)(Math.max(1,t.height()*Math.abs(n))),rotation:Object(V.d)(t.rotation())||0,flop:a>0?0:1,flip:n>0?0:1}),i&&i.length?t.cache({pixelRatio:x(b.current),imageSmoothingEnabled:!0}):t.clearCache()}}}))},q=a(72),H=function(e){var t=e.paintingGuides,a=e.currentCarMake,n=e.handleImageSize,r=e.frameSize,c=e.guideData,o=c.grid_padding||10,l=c.grid_stroke||.1;return Object(F.jsxs)(F.Fragment,{children:[t.includes(h.d.CARMASK)?Object(F.jsx)(G,{src:"".concat(q.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/mask.png"),tellSize:n,filterColor:c.carmask_color,opacity:c.carmask_opacity,listening:!1}):Object(F.jsx)(F.Fragment,{}),t.includes(h.d.WIREFRAME)?Object(F.jsx)(G,{src:"".concat(q.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/wireframe.png"),tellSize:n,filterColor:c.wireframe_color,opacity:c.wireframe_opacity,listening:!1}):Object(F.jsx)(F.Fragment,{}),t.includes(h.d.GRID)?Object(F.jsxs)(F.Fragment,{children:[Array.from(Array(Math.round(r.width/o)),(function(e,t){return Object(F.jsx)(z.c,{points:[Math.round(t*o),0,Math.round(t*o),r.width],stroke:c.grid_color||"#ddd",opacity:c.grid_opacity||1,strokeWidth:l,listening:!1},"x-".concat(t))})),Array.from(Array(Math.round(r.height/o)),(function(e,t){return Object(F.jsx)(z.c,{points:[0,Math.round(t*o),r.height,Math.round(t*o)],stroke:c.grid_color||"#ddd",opacity:c.grid_opacity||1,strokeWidth:l,listening:!1},"y-".concat(t))}))]}):Object(F.jsx)(F.Fragment,{})]})},Z=function(e){var t=e.paintingGuides,a=e.currentCarMake,n=e.handleImageSize,r=e.guideData;return Object(F.jsxs)(F.Fragment,{children:[t.includes(h.d.SPONSORBLOCKS)?Object(F.jsx)(G,{src:"".concat(q.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/sponsor_blocks.png"),tellSize:n,filterColor:r.sponsor_color,opacity:r.sponsor_opacity,listening:!1}):Object(F.jsx)(F.Fragment,{}),t.includes(h.d.NUMBERBLOCKS)?Object(F.jsx)(G,{src:"".concat(q.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/number_blocks.png"),tellSize:n,filterColor:r.numberblock_color,opacity:r.numberblock_opacity,listening:!1}):Object(F.jsx)(F.Fragment,{})]})},J=a(74),$=a.n(J),Q=function(e){var t=e.layers,a=e.currentCarMake,n=e.handleImageSize;return Object(F.jsx)(F.Fragment,{children:$.a.orderBy(t.filter((function(e){return e.layer_type===h.c.CAR&&e.layer_visible})),["layer_order"],["desc"]).map((function(e){return Object(F.jsx)(G,{src:q.a.assetsURL+"/templates/"+a.folder_directory.replace(" ","_")+"/".concat(e.layer_data.img),tellSize:n,filterColor:e.layer_data.color,listening:!1},e.id)}))})},ee=function(e){var t=e.layers,a=e.handleImageSize;return Object(F.jsx)(F.Fragment,{children:$.a.orderBy(t.filter((function(e){return e.layer_type===h.c.BASE&&e.layer_visible})),["layer_order","desc"]).map((function(e){return Object(F.jsx)(G,{src:"".concat(q.a.assetsURL,"/bases/").concat(e.layer_data.id,"/").concat(e.layer_data.img),tellSize:a,opacity:e.layer_data.opacity,filterColor:e.layer_data.color,listening:!1},e.id)}))})},te=function(e){var t=e.layers,a=e.currentLayer,n=e.setCurrentLayer,r=e.frameSize,c=e.boardRotate,o=e.onChange;return Object(F.jsx)(F.Fragment,{children:$.a.orderBy(t.filter((function(e){return e.layer_type===h.c.OVERLAY&&e.layer_visible})),["layer_order"],["desc"]).map((function(e){var t=e.layer_data.shadowOffsetX,l=e.layer_data.shadowOffsetY;return 90===c?(t=-e.layer_data.shadowOffsetY,l=e.layer_data.shadowOffsetX):180===c?(t=-e.layer_data.shadowOffsetX,l=-e.layer_data.shadowOffsetY):270===c&&(t=e.layer_data.shadowOffsetY,l=-e.layer_data.shadowOffsetX),Object(F.jsx)(G,{name:e.id.toString(),src:"".concat(q.a.assetsURL,"/").concat(e.layer_data.source_file),x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),allowFit:!0,filterColor:e.layer_data.color,width:e.layer_data.width,height:e.layer_data.height,rotation:e.layer_data.rotation,boardRotate:c,opacity:e.layer_data.opacity,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:t,shadowOffsetY:l,onSelect:function(){return n(e)},isSelected:a&&a.id===e.id,listening:!e.layer_locked,frameSize:r,onChange:function(t){return o(e,t)}},e.id)}))})},ae=function(e){var t=e.fontFamily,a=e.fontFile,r=e.loadedFontList,o=(e.loadedList,e.isSelected,e.shadowColor),i=e.shadowBlur,s=e.shadowOpacity,d=e.shadowOffsetX,u=e.shadowOffsetY,j=e.onSelect,b=e.onChange,h=e.onFontLoad,p=Object(Y.a)(e,["fontFamily","fontFile","loadedFontList","loadedList","isSelected","shadowColor","shadowBlur","shadowOpacity","shadowOffsetX","shadowOffsetY","onSelect","onChange","onFontLoad"]),O=Object(l.useState)(null),f=Object(c.a)(O,2),y=f[0],x=f[1],m=Object(l.useRef)();Object(l.useEffect)((function(){t&&a&&(r.includes(t)?x(t):g())}),[t,a]);var g=function(){new FontFace(t,a).load().then((function(e){document.fonts.add(e),h(t),x(t)})).catch((function(e){console.warn(e,t)}))};return Object(F.jsx)(z.f,Object(n.a)(Object(n.a)({},p),{},{fontFamily:y,onClick:j,onTap:j,ref:m,shadowColor:m.current?o:null,shadowBlur:m.current?i:null,shadowOpacity:m.current?s:null,shadowOffsetX:m.current?d:null,shadowOffsetY:m.current?u:null,draggable:b,onDragStart:function(e){j()},onDragEnd:function(e){if(b){var t=m.current;b({left:Object(V.d)(e.target.x()),top:Object(V.d)(e.target.y()),width:Object(V.d)(Math.max(5,t.width())),height:Object(V.d)(Math.max(5,t.height()))})}},onTransformEnd:function(e){if(b){var t=m.current,a=t.scaleX(),n=t.scaleY();b({left:Object(V.d)(t.x()),top:Object(V.d)(t.y()),width:Object(V.d)(Math.max(5,t.width())),height:Object(V.d)(Math.max(5,t.height())),rotation:Object(V.d)(t.rotation())||0,scaleX:Object(V.d)(Math.max(.01,a)),scaleY:Object(V.d)(Math.max(.01,n)),flop:a>0?0:1,flip:n>0?0:1})}}}))},ne=function(e){var t=e.layers,a=e.loadedFontList,n=e.fonts,r=e.frameSize,c=e.currentLayer,o=e.setCurrentLayer,l=e.boardRotate,i=e.onChange,s=e.onFontLoad,d=t.filter((function(e){return(e.layer_type===h.c.LOGO||e.layer_type===h.c.UPLOAD||e.layer_type===h.c.TEXT)&&e.layer_visible}));return Object(F.jsx)(F.Fragment,{children:$.a.orderBy(d,["layer_order"],["desc"]).map((function(e){var t=e.layer_data.shadowOffsetX,d=e.layer_data.shadowOffsetY;if(90===l?(t=-e.layer_data.shadowOffsetY,d=e.layer_data.shadowOffsetX):180===l?(t=-e.layer_data.shadowOffsetX,d=-e.layer_data.shadowOffsetY):270===l&&(t=e.layer_data.shadowOffsetY,d=-e.layer_data.shadowOffsetX),e.layer_type!==h.c.TEXT)return Object(F.jsx)(G,{name:e.id.toString(),src:"".concat(q.a.assetsURL,"/").concat(e.layer_data.source_file),x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),allowFit:!0,width:e.layer_data.width,height:e.layer_data.height,frameSize:r,rotation:e.layer_data.rotation,boardRotate:l,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:t,shadowOffsetY:d,opacity:e.layer_data.opacity,onSelect:function(){return o(e)},isSelected:c&&c.id===e.id,listening:!e.layer_locked,onChange:function(t){return i(e,t)}},e.id);var u=n.length?n.find((function(t){return t.id===e.layer_data.font})):{};return Object(F.jsx)(ae,{name:e.id.toString(),text:e.layer_data.text,fontFamily:u.font_name,fontFile:u.font_file?"url(".concat(q.a.assetsURL,"/").concat(u.font_file,")"):null,loadedFontList:a,onFontLoad:s,fontSize:e.layer_data.size,fill:e.layer_data.color,strokeWidth:e.layer_data.stroke,stroke:e.layer_data.scolor,strokeEnabled:!0,x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),offsetX:0,offsetY:0,opacity:e.layer_data.opacity,rotation:e.layer_data.rotation,scaleX:(e.layer_data.scaleX||1)*(1===e.layer_data.flop?-1:1),scaleY:(e.layer_data.scaleY||1)*(1===e.layer_data.flip?-1:1),shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:t,shadowOffsetY:d,onSelect:function(){return o(e)},isSelected:c&&c.id===e.id,listening:!e.layer_locked,onChange:function(t){return i(e,t)}},e.id)}))})},re=function(e){var t=e.selectedLayer,a=e.pressedKey,r=Object(l.useRef)();Object(l.useEffect)((function(){!function(){if(t){var e=r.current.getStage().findOne("."+t.id);if(e===r.current.node())return;e?r.current.nodes([e]):r.current.detach(),r.current.getLayer().batchDraw()}}()}));var c=function(e,t){return function(e,t,a){var r=Math.round(a.x+(e.x-a.x)*Math.cos(t)-(e.y-a.y)*Math.sin(t)),c=Math.round(a.y+(e.x-a.x)*Math.sin(t)+(e.y-a.y)*Math.cos(t));return Object(n.a)(Object(n.a)({},e),{},{rotation:e.rotation+t,x:r,y:c})}(e,t,function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e))};return t?Object(F.jsx)(z.g,{ref:r,keepRatio:!(!t.layer_data.sizeLocked&&!t.layer_data.scaleLocked&&"shift"!==a),enabledAnchors:t.layer_data.sizeLocked||t.layer_data.scaleLocked||"shift"===a?["top-left","top-right","bottom-left","bottom-right"]:["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],boundBoxFunc:function(e,t){var n=function(e){var t=e<0?2*Math.PI+e:e,a=Math.PI/12;return Math.round(t/a)*a}(t.rotation)-e.rotation;return"shift"===a?t.rotation-e.rotation===0?t:Math.abs(n)>0?c(e,n):e:t}}):Object(F.jsx)(F.Fragment,{})},ce=a(138),oe=a(59),le=function(){var e=Object(l.useRef)(null),t=Object(i.d)(),a=Object(P.a)(),r=a.width,c=a.height,o=a.ref,s=Object(i.e)((function(e){return e.boardReducer.frameSize})),d=Object(i.e)((function(e){return e.boardReducer.zoom})),u=Object(i.e)((function(e){return e.boardReducer.paintingGuides})),j=Object(i.e)((function(e){return e.boardReducer.pressedKey})),h=Object(i.e)((function(e){return e.boardReducer.boardRotate})),p=Object(i.e)((function(e){return e.carMakeReducer.current})),f=Object(i.e)((function(e){return e.schemeReducer.current})),y=Object(i.e)((function(e){return e.layerReducer.list})),x=Object(i.e)((function(e){return e.fontReducer.list})),m=Object(i.e)((function(e){return e.fontReducer.loadedList})),g=Object(i.e)((function(e){return e.layerReducer.current})),_=function(e){e.target===e.target.getStage()&&g&&t(Object(oe.k)(null))},w=function(e){(s.width<e.width||s.height<e.height)&&t(Object(O.c)({width:Math.max(s.width,e.width),height:Math.max(s.height,e.height)}))},C=function(e,a){t(Object(oe.m)(Object(n.a)(Object(n.a)({},e),{},{layer_data:Object(n.a)(Object(n.a)({},e.layer_data),a)})))},v=function(e){t(Object(oe.k)(e))};return Object(F.jsx)(b.a,{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"auto",ref:o,children:Object(F.jsx)(z.e,{width:r,height:c,onMouseDown:_,onMousemove:function(e){},onMouseup:function(e){},onTouchStart:_,onWheel:function(a){if(a.evt.preventDefault(),null!==e.current&&a.evt.ctrlKey){var n=e.current,r=n.scaleX(),c=n.getPointerPosition(),o=c.x,l=c.y,i={x:(o-n.x())/r,y:(l-n.y())/r},s=Math.max(Math.min(a.evt.deltaY>0?r/1.2:1.2*r,10),.25);t(Object(O.f)(s));var d={x:o-i.x*s,y:l-i.y*s};n.position(d),n.batchDraw()}},scaleX:d||1,scaleY:d||1,rotation:h,x:r/2,y:c/2,offsetX:r/2,offsetY:c/2,ref:e,draggable:!0,children:Object(F.jsxs)(z.b,{children:[Object(F.jsx)(z.d,{x:0,y:0,width:s.width,height:s.height,fill:"transparent"===f.base_color?f.base_color:"#"+f.base_color,listening:!1}),Object(F.jsx)(ee,{layers:y,handleImageSize:w}),Object(F.jsx)(Z,{currentCarMake:p,paintingGuides:u,handleImageSize:w,guideData:f.guide_data}),Object(F.jsx)(Q,{layers:y,currentCarMake:p,handleImageSize:w}),Object(F.jsx)(te,{layers:y,handleImageSize:w,frameSize:s,boardRotate:h,currentLayer:g,setCurrentLayer:v,onChange:C}),Object(F.jsx)(ne,{layers:y,fonts:x,loadedFontList:m,currentLayer:g,frameSize:s,boardRotate:h,setCurrentLayer:v,onChange:C,onFontLoad:function(e){t(Object(ce.c)(e))}}),Object(F.jsx)(H,{currentCarMake:p,paintingGuides:u,handleImageSize:w,frameSize:s,guideData:f.guide_data}),Object(F.jsx)(re,{selectedLayer:g,pressedKey:j})]})})})},ie=a(1018),se=a(136),de=a(1063),ue=a(1072),je=a(481),be=a(480),he=a(1065),pe=a(1097),Oe=a(1068),fe=a(1055),ye=a(1098),xe=a(1069),me=a(1070),ge=a(1071),_e=a(1067),we=a(1054),Ce=a(1102),ve=a(1056),ke=Object(o.c)(y.a).withConfig({displayName:"SliderInput__Typography",componentId:"sc-7loe1z-0"})(f.b),Ie=Object(o.c)(we.a).withConfig({displayName:"SliderInput__CustomInput",componentId:"sc-7loe1z-1"})([".MuiInputBase-inputMarginDense{padding-top:4px;padding-bottom:5px;width:50px;}"]),Se=Object(o.c)(b.a).withConfig({displayName:"SliderInput__SliderWrapper",componentId:"sc-7loe1z-2"})(["width:80px;margin-left:8px;margin-right:8px;height:28px;"]),Fe=Object(o.c)(fe.a).withConfig({displayName:"SliderInput__Wrapper",componentId:"sc-7loe1z-3"})(["height:100%;align-items:center;"]),Le=function(e){var t=e.label,a=e.min,n=e.max,r=e.value,c=e.setValue,o=e.step;return Object(F.jsxs)(Fe,{container:!0,children:[Object(F.jsx)(fe.a,{item:!0,xs:6,children:Object(F.jsx)(ke,{variant:"body1",color:"textSecondary",mr:2,children:t})}),Object(F.jsx)(fe.a,{item:!0,xs:6,children:Object(F.jsxs)(b.a,{display:"flex",alignItems:"center",children:[Object(F.jsx)(Se,{children:Object(F.jsx)(Ce.a,{min:a,max:n,step:o,value:r,onChange:function(e,t){return c(t)},"aria-labelledby":"shape-size",ValueLabelComponent:function(e){return Object(F.jsx)(ve.a,{open:e.open,enterTouchDelay:0,placement:"top",title:e.value,children:e.children})}})}),Object(F.jsx)(Ie,{value:r,margin:"dense",type:"number",step:o||1,onChange:function(e){return c(""===e.target.value?a||0:Number(e.target.value))},onBlur:function(){r<a?c(a):r>n&&c(n)},inputProps:{min:a,max:n,"aria-labelledby":"input-slider"}})]})})]})},Re=a(1020),Be=Object(o.c)(de.a).withConfig({displayName:"ColorPickerInput__ColorInputField",componentId:"sc-98haji-0"})(["width:80px;"]),Te=function(e){var t=e.value,a=e.onChange,n=e.onInputChange,r=e.error,c=e.helperText;return Object(F.jsxs)(b.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(F.jsxs)(b.a,{display:"flex",alignItems:"center",children:[Object(F.jsx)(Re.a,{value:t||"",onChange:function(e){return a(e.css.backgroundColor)},palette:h.e,deferred:!0,hideTextfield:!0}),Object(F.jsx)(Be,{value:t||"",onChange:function(e){return n(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&a(e.target.value)}})]}),r?Object(F.jsx)(y.a,{color:"secondary",variant:"body2",children:c}):Object(F.jsx)(F.Fragment,{})]})},De=Object(o.c)(x.a).withConfig({displayName:"SchemeSettingsDialog__Button",componentId:"sc-1bdw1wi-0"})(f.b),Ne=Object(o.c)(y.a).withConfig({displayName:"SchemeSettingsDialog__Typography",componentId:"sc-1bdw1wi-1"})(f.b),Me=Object(o.c)(he.a).withConfig({displayName:"SchemeSettingsDialog__CustomAccordionSummary",componentId:"sc-1bdw1wi-2"})(["background:#3f3f3f;border-radius:5px;"]),ze=function(e){var t=e.label,a=e.colorKey,n=e.opacityKey,r=e.errors,o=(e.handleBlur,e.handleChange,e.setFieldValue),i=(e.touched,e.values),s=e.extraChildren,d=Object(l.useState)(!0),u=Object(c.a)(d,2),j=u[0],h=u[1];return Object(F.jsxs)(pe.a,{expanded:j,onChange:function(){return h(!j)},children:[Object(F.jsx)(Me,{expandIcon:Object(F.jsx)(_e.a,{}),children:Object(F.jsx)(Ne,{children:t})}),Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",mb:1,children:[Object(F.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(F.jsx)(fe.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(F.jsx)(Ne,{variant:"body1",color:"textSecondary",mr:2,children:"Color"}),Object(F.jsx)(Te,{value:i[a],onChange:function(e){return o(a,e)},onInputChange:function(e){return o(a,e)},error:Boolean(r[a]),helperText:r[a]})]})}),Object(F.jsx)(fe.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Le,{label:"Opacity",min:0,max:1,step:.01,value:i[n],setValue:function(e){return o(n,e)}})})]}),s]})})]})},Pe=function(e){var t=e.onCancel,a=e.open,r=e.onApply,c=Object(i.e)((function(e){return e.schemeReducer.current.guide_data}));return Object(F.jsxs)(ye.a,{"aria-labelledby":"insert-text-title",open:a,onClose:t,fullWidth:!0,maxWidth:"sm",children:[Object(F.jsx)(xe.a,{id:"insert-text-title",children:"Settings"}),Object(F.jsx)(be.b,{initialValues:{carmask_color:c.carmask_color||"",carmask_opacity:c.carmask_opacity||1,wireframe_color:c.wireframe_color||"",wireframe_opacity:c.wireframe_opacity||1,sponsor_color:c.sponsor_color||"",sponsor_opacity:c.sponsor_opacity||1,numberblock_color:c.numberblock_color||"",numberblock_opacity:c.numberblock_opacity||1,grid_color:c.grid_color||"",grid_opacity:c.grid_opacity||1,grid_padding:c.grid_padding||10,grid_stroke:c.grid_stroke||.1},validationSchema:je.b().shape({carmask_color:je.c().nullable().test("color-validation","Incorrect Color Format",V.a),wireframe_color:je.c().nullable().test("color-validation","Incorrect Color Format",V.a),sponsor_color:je.c().nullable().test("color-validation","Incorrect Color Format",V.a),numberblock_color:je.c().nullable().test("color-validation","Incorrect Color Format",V.a),grid_color:je.c().nullable().test("color-validation","Incorrect Color Format",V.a)}),validate:function(e){return console.log(e),{}},onSubmit:r,children:function(e){return Object(F.jsxs)(be.a,{onSubmit:e.handleSubmit,noValidate:!0,children:[Object(F.jsxs)(me.a,{dividers:!0,id:"insert-text-dialog-content",children:[Object(F.jsx)(ze,Object(n.a)({label:"Car Mask",colorKey:"carmask_color",opacityKey:"carmask_opacity"},e)),Object(F.jsx)(ze,Object(n.a)({label:"Wireframe",colorKey:"wireframe_color",opacityKey:"wireframe_opacity"},e)),Object(F.jsx)(ze,Object(n.a)({label:"Sponsor Blocks",colorKey:"sponsor_color",opacityKey:"sponsor_opacity"},e)),Object(F.jsx)(ze,Object(n.a)({label:"Number Blocks",colorKey:"numberblock_color",opacityKey:"numberblock_opacity"},e)),Object(F.jsx)(ze,Object(n.a)(Object(n.a)({label:"Grid",colorKey:"grid_color",opacityKey:"grid_opacity"},e),{},{extraChildren:Object(F.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(F.jsx)(fe.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Le,{label:"Column Size",min:5,max:50,step:1,value:e.values.grid_padding,setValue:function(t){return e.setFieldValue("grid_padding",t)}})}),Object(F.jsx)(fe.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Le,{label:"Stroke Width",min:.01,max:3,step:.01,value:e.values.grid_stroke,setValue:function(t){return e.setFieldValue("grid_stroke",t)}})})]})}))]}),Object(F.jsxs)(ge.a,{children:[Object(F.jsx)(De,{onClick:t,color:"secondary",children:"Cancel"}),Object(F.jsx)(De,{type:"submit",color:"primary",variant:"outlined",disabled:e.isSubmitting||!e.isValid,children:"Apply"})]})]})}})]})},Ee=function(){var e=Object(i.d)(),t=Object(l.useState)(!1),a=Object(c.a)(t,2),r=a[0],o=a[1],s=Object(l.useState)(!1),d=Object(c.a)(s,2),u=d[0],j=d[1],h=Object(i.e)((function(e){return e.schemeReducer.current}));return Object(F.jsxs)(b.a,{display:"flex",justifyContent:"space-between",alignItems:"center",px:1,mb:2,children:[Object(F.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(F.jsx)(de.a,{value:h?h.name:"",onChange:function(t){e(Object(se.g)(t.target.value)),o(!0)}}),r?Object(F.jsx)(x.a,{onClick:function(){e(Object(se.b)(h.id,h.name)),o(!1)},variant:"outlined",children:"Save"}):Object(F.jsx)(F.Fragment,{})]}),Object(F.jsx)(m.a,{onClick:function(){return j(!0)},children:Object(F.jsx)(ue.a,{})}),Object(F.jsx)(Pe,{open:u,onApply:function(t){e(Object(se.h)(Object(n.a)(Object(n.a)({},h),{},{guide_data:t}))),j(!1)},onCancel:function(){return j(!1)}})]})},Xe=a(43),Ae=a(10),Ye=a(985),We=a(1077),Ke=a(1078),Ue=a(1079),Ve=a(1066),Ge=a(1081),qe=a(1080),He=a(988),Ze=a(1061),Je=a(1073),$e=a(1074),Qe=a(1075),et=a(1076),tt=Object(o.c)(b.a).withConfig({displayName:"PartItem__Wrapper",componentId:"sc-1vufzst-0"})(["cursor:pointer;&.sortable-chosen{background:rgba(255,255,255,0.2);}&.activeItem{background:rgba(0,0,0,0.5);}"]),at=function(e){var t=e.layer_visible,a=e.layer_locked,n=e.text,r=e.toggleVisible,c=e.toggleLocked,o=e.selected,l=e.disableLock,i=e.onSelect;return Object(F.jsx)(tt,{p:2,mb:1,display:"flex",width:"100%",border:1,borderColor:"grey.700",borderRadius:5,onClick:i,className:Object(Ae.a)(o&&"activeItem"),children:Object(F.jsxs)(fe.a,{container:!0,justify:"space-between",alignItems:"center",spacing:2,children:[Object(F.jsx)(fe.a,{item:!0,xs:10,children:Object(F.jsxs)(fe.a,{container:!0,wrap:"nowrap",alignItems:"center",spacing:2,children:[Object(F.jsx)(fe.a,{item:!0,xs:2,children:Object(F.jsx)(m.a,{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r()},size:"small",children:t?Object(F.jsx)(Je.a,{}):Object(F.jsx)($e.a,{})})}),Object(F.jsx)(fe.a,{item:!0,xs:10,children:Object(F.jsx)(y.a,{noWrap:!0,children:n})})]})}),l?Object(F.jsx)(F.Fragment,{}):Object(F.jsx)(fe.a,{item:!0,xs:2,children:Object(F.jsx)(m.a,{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),c()},size:"small",children:a?Object(F.jsx)(Qe.a,{}):Object(F.jsx)(et.a,{})})})]})})},nt=Object(Ze.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),rt=Object(o.c)(x.a).withConfig({displayName:"PartGroup__Button",componentId:"d20ix9-0"})(f.b),ct=Object(o.c)(We.a).withConfig({displayName:"PartGroup__ButtonGroup",componentId:"d20ix9-1"})(f.b),ot=Object(o.c)(rt).withConfig({displayName:"PartGroup__AddButton",componentId:"d20ix9-2"})(["min-width:40px;padding:3px 5px;.MuiButton-startIcon{margin-right:2px;}.MuiButton-endIcon{margin:0;}.fa-lg{font-size:1.3333333333em !important;}"]),lt=function(e){var t=nt(),a=Object(i.d)(),r=Object(l.useState)(!0),o=Object(c.a)(r,2),s=o[0],d=o[1],u=Object(i.e)((function(e){return e.layerReducer.current})),j=e.layerList,h=e.title,p=e.actions,O=e.extraChildren,f=e.disableLock,y=e.disableDnd,x=$.a.orderBy(j,["layer_order"],["asc"]);Object(l.useEffect)((function(){for(var e in x)x[e].layer_order!==parseInt(e)+1&&a(Object(oe.m)(Object(n.a)(Object(n.a)({},x[e]),{},{layer_order:parseInt(e)+1})))}),[j.length]);var g=function(e,t){var r=j.find((function(t){return t.id===e}));a(Object(oe.m)(Object(n.a)(Object(n.a)({},r),{},Object(Xe.a)({},t,r[t]?0:1))))};return Object(F.jsx)(b.a,{mb:2,children:Object(F.jsxs)(Ke.a,{children:[Object(F.jsx)(Ue.a,{title:h,action:Object(F.jsxs)(b.a,{display:"flex",children:[p?Object(F.jsx)(ct,{mr:1,children:p.map((function(e,t){return Object(F.jsx)(ot,{onClick:e.onClick,size:"small",startIcon:Object(F.jsx)(qe.a,{}),endIcon:Object(F.jsx)(He.a,{icon:e.icon,size:"lg"}),variant:"outlined"},t)}))}):Object(F.jsx)(F.Fragment,{}),Object(F.jsx)(m.a,{onClick:function(){d((function(e){return!e}))},className:Object(Ae.a)(t.expand,Object(Xe.a)({},t.expandOpen,s)),children:Object(F.jsx)(_e.a,{})})]})}),Object(F.jsx)(Ve.a,{in:s,children:Object(F.jsxs)(Ge.a,{children:[Object(F.jsx)(Ye.ReactSortable,{list:x,setList:function(e){var t=function(t){var r=j.find((function(a){return a.id==e[t].id}));r&&r.layer_order!==parseInt(t)+1&&a(Object(oe.m)(Object(n.a)(Object(n.a)({},r),{},{layer_order:parseInt(t)+1})))};for(var r in e)t(r)},animation:150,onChoose:function(e){return console.log(e)},onSelect:function(e){return console.log(e)},sort:!y,children:x.map((function(e){return Object(F.jsx)(at,{text:e.layer_data.name,layer_visible:e.layer_visible,layer_locked:e.layer_locked,toggleVisible:function(){return g(e.id,"layer_visible")},toggleLocked:function(){return g(e.id,"layer_locked")},selected:u&&u.id===e.id,onSelect:function(){return t=e,void a(Object(oe.k)(t));var t},disableLock:f},e.id)}))}),O]})})]})})},it=a(440),st=a(134),dt=a(1082),ut=a(1083),jt=a(1084),bt=Object(o.c)(x.a).withConfig({displayName:"BasePaintDialog__Button",componentId:"sc-1dconu8-0"})(f.b),ht=Object(o.c)(it.a).withConfig({displayName:"BasePaintDialog__CustomInfiniteScroll",componentId:"sc-1dconu8-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),pt=Object(o.c)(dt.a).withConfig({displayName:"BasePaintDialog__CustomGridList",componentId:"sc-1dconu8-2"})(["overflow:hidden !important;margin:0 !important;"]),Ot=Object(o.c)(ut.a).withConfig({displayName:"BasePaintDialog__CustomGridListTile",componentId:"sc-1dconu8-3"})(["cursor:pointer;"]),ft=o.c.img.withConfig({displayName:"BasePaintDialog__CustomImg",componentId:"sc-1dconu8-4"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),yt=function(e){var t=Object(l.useState)(15),a=Object(c.a)(t,2),n=a[0],r=a[1],o=e.basePaints,i=e.onCancel,s=e.open,d=e.onOpenBase;return Object(F.jsxs)(ye.a,{"aria-labelledby":"base-paints-title",open:s,onClose:i,children:[Object(F.jsx)(xe.a,{id:"base-paints-title",children:"Select Base Paint"}),Object(F.jsx)(me.a,{dividers:!0,id:"base-paint-dialog-content",children:Object(F.jsx)(ht,{dataLength:n,next:function(){r(n+15)},hasMore:n<o.length,loader:Object(F.jsx)(st.a,{}),scrollableTarget:"base-paint-dialog-content",children:Object(F.jsx)(pt,{cellHeight:178,cols:3,children:o.slice(0,n).map((function(e){return Object(F.jsxs)(Ot,{cols:1,onClick:function(){return d(e)},children:[Object(F.jsx)(ft,{src:"".concat(q.a.assetsURL,"/bases/").concat(e.id,"/preview.jpg"),alt:e.base_description}),Object(F.jsx)(jt.a,{title:e.base_name,subtitle:e.base_description})]},e.id)}))})})}),Object(F.jsx)(ge.a,{children:Object(F.jsx)(bt,{onClick:i,color:"primary",children:"Cancel"})})]})},xt=a(1100),mt=a(990),gt=a.n(mt),_t=Object(Ze.a)((function(e){return{search:Object(Xe.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},border:"1px solid #8A8A8A",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}})),wt=function(e){var t=e.value,a=e.onChange,n=_t();return Object(F.jsxs)("div",{className:n.search,children:[Object(F.jsx)("div",{className:n.searchIcon,children:Object(F.jsx)(gt.a,{})}),Object(F.jsx)(xt.a,{placeholder:"Search",classes:{root:n.inputRoot,input:n.inputInput},value:t,inputProps:{"aria-label":"search"},onChange:function(e){a(e.target.value)}})]})},Ct=Object(o.c)(x.a).withConfig({displayName:"ShapeDialog__Button",componentId:"sc-12nk2gq-0"})(f.b),vt=Object(o.c)(it.a).withConfig({displayName:"ShapeDialog__CustomInfiniteScroll",componentId:"sc-12nk2gq-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),kt=Object(o.c)(dt.a).withConfig({displayName:"ShapeDialog__CustomGridList",componentId:"sc-12nk2gq-2"})(["overflow:hidden !important;margin:0 !important;"]),It=Object(o.c)(ut.a).withConfig({displayName:"ShapeDialog__CustomGridListTile",componentId:"sc-12nk2gq-3"})(["cursor:pointer;"]),St=Object(o.c)(me.a).withConfig({displayName:"ShapeDialog__CustomDialogContent",componentId:"sc-12nk2gq-4"})(["width:600px;"]),Ft=o.c.img.withConfig({displayName:"ShapeDialog__CustomImg",componentId:"sc-12nk2gq-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),Lt=function(e){var t=Object(l.useState)(15),a=Object(c.a)(t,2),n=a[0],r=a[1],o=Object(l.useState)(""),i=Object(c.a)(o,2),s=i[0],d=i[1],u=e.shapes,j=e.onCancel,h=e.open,p=e.onOpenShape,O=u.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase())}));return Object(F.jsxs)(ye.a,{"aria-labelledby":"shape-title",open:h,onClose:j,children:[Object(F.jsx)(xe.a,{id:"shape-title",children:"Insert Shape"}),Object(F.jsxs)(St,{dividers:!0,children:[Object(F.jsx)(b.a,{mb:2,children:Object(F.jsx)(wt,{value:s,onChange:function(e){return d(e)}})}),Object(F.jsx)(b.a,{id:"shape-dialog-content",overflow:"auto",height:"70vh",children:Object(F.jsx)(vt,{dataLength:n,next:function(){r(n+15)},hasMore:n<O.length,loader:Object(F.jsx)(st.a,{}),scrollableTarget:"shape-dialog-content",children:Object(F.jsx)(kt,{cellHeight:178,cols:3,children:O.slice(0,n).map((function(e){return Object(F.jsxs)(It,{cols:1,onClick:function(){return p(e)},children:[Object(F.jsx)(Ft,{src:"".concat(q.a.assetsURL,"/").concat(e.overlay_thumb),alt:e.name}),Object(F.jsx)(jt.a,{title:e.name,subtitle:e.description})]},e.id)}))})})})]}),Object(F.jsx)(ge.a,{children:Object(F.jsx)(Ct,{onClick:j,color:"primary",children:"Cancel"})})]})},Rt=a(1092),Bt=a(1085),Tt=a(16),Dt=Object(o.c)(x.a).withConfig({displayName:"LogoDialog__Button",componentId:"sc-39n1mp-0"})(f.b),Nt=Object(o.c)(y.a).withConfig({displayName:"LogoDialog__Typography",componentId:"sc-39n1mp-1"})(f.b),Mt=Object(o.c)(it.a).withConfig({displayName:"LogoDialog__CustomInfiniteScroll",componentId:"sc-39n1mp-2"})([".infinite-scroll-component{overflow:hidden !important;}"]),zt=Object(o.c)(dt.a).withConfig({displayName:"LogoDialog__CustomGridList",componentId:"sc-39n1mp-3"})(["overflow:hidden !important;margin:0 !important;"]),Pt=Object(o.c)(ut.a).withConfig({displayName:"LogoDialog__CustomGridListTile",componentId:"sc-39n1mp-4"})(["cursor:pointer;"]),Et=Object(o.c)(me.a).withConfig({displayName:"LogoDialog__CustomDialogContent",componentId:"sc-39n1mp-5"})(["width:600px;"]),Xt=o.c.img.withConfig({displayName:"LogoDialog__CustomImg",componentId:"sc-39n1mp-6"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),At=Object(Tt.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:40,width:"100%",backgroundColor:"#635ee7"}}})((function(e){return Object(F.jsx)(Rt.a,Object(n.a)(Object(n.a)({},e),{},{TabIndicatorProps:{children:Object(F.jsx)("span",{})}}))})),Yt=Object(Tt.a)((function(e){return{root:{textTransform:"none",color:"#fff",fontWeight:e.typography.fontWeightRegular,fontSize:"1rem",marginRight:0,padding:"6px 5px",minWidth:60,"&:focus":{opacity:1}}}}))((function(e){return Object(F.jsx)(Bt.a,Object(n.a)({disableRipple:!0},e))})),Wt=function(e){var t=e.children,a=e.value,r=e.index,c=Object(Y.a)(e,["children","value","index"]);return Object(F.jsx)("div",Object(n.a)(Object(n.a)({role:"tabpanel",hidden:a!==r,id:"logo-tabpanel-".concat(r),"aria-labelledby":"logo-tab-".concat(r)},c),{},{children:a===r&&Object(F.jsx)(F.Fragment,{children:t})}))};function Kt(e){return{id:"logo-tab-".concat(e),"aria-controls":"logo-tabpanel-".concat(e)}}var Ut=function(e){var t=Object(l.useState)(15),a=Object(c.a)(t,2),r=a[0],o=a[1],i=Object(l.useState)(15),s=Object(c.a)(i,2),d=s[0],u=s[1],j=Object(l.useState)(0),h=Object(c.a)(j,2),p=h[0],O=h[1],f=Object(l.useState)(""),y=Object(c.a)(f,2),x=y[0],m=y[1],g=e.logos,_=e.onCancel,w=e.open,C=e.onOpenLogo,v=g.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())&&"flag"!==e.type})),k=g.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())&&"flag"===e.type}));return Object(F.jsxs)(ye.a,{"aria-labelledby":"logo-title",open:w,onClose:_,children:[Object(F.jsx)(xe.a,{id:"logo-title",children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(F.jsx)(Nt,{variant:"h5",mr:2,children:"Insert:"}),Object(F.jsxs)(At,{value:p,onChange:function(e,t){O(t),m("")},"aria-label":"logo tab",children:[Object(F.jsx)(Yt,Object(n.a)({label:"Logo"},Kt(0))),Object(F.jsx)(Yt,Object(n.a)({label:"Flag"},Kt(1)))]})]})}),Object(F.jsxs)(Et,{dividers:!0,children:[Object(F.jsx)(b.a,{mb:2,children:Object(F.jsx)(wt,{value:x,onChange:function(e){return m(e)}})}),Object(F.jsx)(Wt,{value:p,index:0,children:Object(F.jsx)(b.a,{id:"logo-dialog-content",overflow:"auto",height:"70vh",children:Object(F.jsx)(Mt,{dataLength:r,next:function(){o(r+15)},hasMore:r<v.length,loader:Object(F.jsx)(st.a,{}),scrollableTarget:"logo-dialog-content",children:Object(F.jsx)(zt,{cellHeight:178,cols:3,children:v.slice(0,r).map((function(e){return Object(F.jsxs)(Pt,{cols:1,onClick:function(){return C(e)},children:[Object(F.jsx)(Xt,{src:"".concat(q.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object(F.jsx)(jt.a,{title:e.name})]},e.id)}))})})})}),Object(F.jsx)(Wt,{value:p,index:1,children:Object(F.jsx)(b.a,{id:"flag-dialog-content",overflow:"auto",height:"70vh",children:Object(F.jsx)(Mt,{dataLength:d,next:function(){u(d+15)},hasMore:d<k.length,loader:Object(F.jsx)(st.a,{}),scrollableTarget:"flag-dialog-content",children:Object(F.jsx)(zt,{cellHeight:178,cols:3,children:k.slice(0,d).map((function(e){return Object(F.jsxs)(Pt,{cols:1,onClick:function(){return C(e)},children:[Object(F.jsx)(Xt,{src:"".concat(q.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object(F.jsx)(jt.a,{title:e.name})]},e.id)}))})})})})]}),Object(F.jsx)(ge.a,{children:Object(F.jsx)(Dt,{onClick:_,color:"primary",children:"Cancel"})})]})},Vt=Object(o.c)(x.a).withConfig({displayName:"ConfirmDialog__Button",componentId:"sc-1cd3vhn-0"})(f.b),Gt=function(e){var t=e.text,a=e.open,n=e.onCancel,r=e.onConfirm;return Object(F.jsxs)(ye.a,{"aria-labelledby":"confirm-title",open:a,children:[Object(F.jsx)(xe.a,{id:"confirm-title",children:"Confirm"}),Object(F.jsx)(me.a,{dividers:!0,children:Object(F.jsx)(y.a,{variant:"body1",children:t})}),Object(F.jsxs)(ge.a,{children:[Object(F.jsx)(Vt,{onClick:n,color:"primary",children:"Cancel"}),Object(F.jsx)(Vt,{onClick:r,color:"default",variant:"outlined",autoFocus:!0,children:"Confirm"})]})]})},qt=Object(o.c)(x.a).withConfig({displayName:"YesNoDialog__Button",componentId:"uvsbdx-0"})(f.b),Ht=Object(o.c)(b.a).withConfig({displayName:"YesNoDialog__TextWrapper",componentId:"uvsbdx-1"})(["font-size:1rem;"]),Zt=function(e){var t=e.text,a=e.open,n=e.onYes,r=e.onNo;return Object(F.jsxs)(ye.a,{"aria-labelledby":"confirm-title",open:a,children:[Object(F.jsx)(xe.a,{id:"confirm-title",children:"Confirm"}),Object(F.jsx)(me.a,{dividers:!0,children:Object(F.jsx)(Ht,{children:t})}),Object(F.jsxs)(ge.a,{children:[Object(F.jsx)(qt,{onClick:n,color:"secondary",variant:"outlined",autoFocus:!0,children:"Yes"}),Object(F.jsx)(qt,{onClick:r,color:"primary",variant:"outlined",children:"No"})]})]})},Jt=a(1086),$t=a(1019),Qt=a(140),ea=a(9),ta=a(49),aa=Object(o.c)(x.a).withConfig({displayName:"UploadDialog__Button",componentId:"vk7mct-0"})(f.b),na=Object(o.c)(it.a).withConfig({displayName:"UploadDialog__CustomInfiniteScroll",componentId:"vk7mct-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),ra=Object(o.c)(dt.a).withConfig({displayName:"UploadDialog__CustomGridList",componentId:"vk7mct-2"})(["overflow:hidden !important;margin:0 !important;"]),ca=Object(o.c)(ut.a).withConfig({displayName:"UploadDialog__CustomGridListTile",componentId:"vk7mct-3"})(["cursor:pointer;"]),oa=Object(o.c)(me.a).withConfig({displayName:"UploadDialog__CustomDialogContent",componentId:"vk7mct-4"})(["width:600px;"]),la=o.c.img.withConfig({displayName:"UploadDialog__CustomImg",componentId:"vk7mct-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),ia=Object(o.c)(m.a).withConfig({displayName:"UploadDialog__DeleteButton",componentId:"vk7mct-6"})(["color:#ccc;"]),sa=function(e){var t=Object(i.d)(),a=Object(i.e)((function(e){return e.authReducer.user})),n=Object(i.e)((function(e){return e.schemeReducer.current})),r=Object(l.useState)(null),o=Object(c.a)(r,2),s=o[0],d=o[1],u=Object(l.useState)([]),j=Object(c.a)(u,2),h=j[0],p=j[1],O=Object(l.useState)(15),f=Object(c.a)(O,2),y=f[0],x=f[1],m=Object(l.useState)([]),g=Object(c.a)(m,2),_=g[0],w=g[1],C=Object(l.useState)(1),v=Object(c.a)(C,2),k=v[0],I=v[1],S=e.uploads,L=e.onCancel,R=e.open,B=e.onOpenUpload,T=function(e){return e.substring(e.lastIndexOf("uploads/")+"uploads/".length,e.lastIndexOf("."))},D=function(){var e=Object(A.a)(X.a.mark((function e(){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Deleting: ",s),e.prev=1,e.next=4,ta.a.getSchemeListByUploadID(s.id);case 4:(a=e.sent).length?p(a):(t(Object(Qt.b)(s,!0)),d(null)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(Object(ea.b)({message:e.t0.message})),d(null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(t(Object(oe.h)(s.id)),t(Object(oe.k)(null))),t(Object(Qt.b)(s,e)),d(null),p([])};return Object(F.jsxs)(ye.a,{"aria-labelledby":"upload-title",open:R,onClose:L,children:[Object(F.jsx)(xe.a,{id:"upload-title",children:"My Uploads"}),Object(F.jsxs)(oa,{dividers:!0,children:[Object(F.jsx)($t.a,{onChange:function(e){w(e),console.log(e)},value:_,showFileNamesInPreview:!0,showFileNames:!0,maxFiles:10},k),_.length?Object(F.jsx)(b.a,{mt:1,width:"100%",display:"flex",justifyContent:"center",children:Object(F.jsx)(aa,{variant:"contained",color:"primary",onClick:function(){console.log(_),t(Object(Qt.d)(a.id,n.id,_)),w([]),I(k+1)},children:"Save To My Upload List"})}):Object(F.jsx)(F.Fragment,{}),Object(F.jsx)(b.a,{id:"upload-dialog-content",overflow:"auto",height:"40vh",mt:1,children:Object(F.jsx)(na,{dataLength:y,next:function(){x(y+15)},hasMore:y<S.length,loader:Object(F.jsx)(st.a,{}),scrollableTarget:"upload-dialog-content",children:Object(F.jsx)(ra,{cellHeight:178,cols:3,children:S.slice(0,y).map((function(e){return Object(F.jsxs)(ca,{cols:1,onClick:function(){return B(e)},children:[Object(F.jsx)(la,{src:"".concat(q.a.assetsURL,"/").concat(e.file_name),alt:T(e.file_name)}),Object(F.jsx)(jt.a,{title:T(e.file_name),actionIcon:Object(F.jsx)(ia,{onClick:function(t){return function(e,t){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),d(t)}(t,e)},children:Object(F.jsx)(Jt.a,{})})})]},e.id)}))})})})]}),Object(F.jsx)(ge.a,{children:Object(F.jsx)(aa,{onClick:L,color:"primary",children:"Cancel"})}),Object(F.jsx)(Gt,{text:s?'Are you sure to delete "'.concat(T(s.file_name),'"?'):"",open:!!s,onCancel:function(){return d(null)},onConfirm:D}),Object(F.jsx)(Zt,{text:h.length?Object(F.jsxs)(F.Fragment,{children:["The Projects below have the associated file:",Object(F.jsx)("ul",{children:h.map((function(e,t){return Object(F.jsx)("li",{children:e.name},t)}))}),"Would you like delete all of them?"]}):"",open:!!h.length,onYes:function(){return N(!0)},onNo:function(){return N(!1)}})]})},da=a(1059),ua=a(1103),ja=a(1091),ba=a(1105),ha=Object(o.c)(ja.a).withConfig({displayName:"FontSelect__Select",componentId:"sc-79nr26-0"})(f.b),pa=Object(o.c)(ha).withConfig({displayName:"FontSelect__CustomSelect",componentId:"sc-79nr26-1"})([".MuiSelect-selectMenu{display:flex;align-items:center;height:2rem;}"]),Oa=o.c.img.withConfig({displayName:"FontSelect__FontImage",componentId:"sc-79nr26-2"})(["width:506px;filter:invert(1);"]),fa=function(e){var t=e.fontList,a=e.value,n=e.onChange;return Object(F.jsx)(pa,{labelId:"font-select-label",id:"font-select-outlined",value:a,onChange:n,label:"Font",mb:4,renderValue:function(e){var a=t.find((function(t){return t.id===e}));return a?Object(F.jsx)(Oa,{src:"".concat(q.a.assetsURL,"/").concat(a.font_preview),alt:a.font_name}):Object(F.jsx)(F.Fragment,{children:"Select Font"})},children:t.map((function(e){return Object(F.jsx)(ba.a,{value:e.id,children:Object(F.jsx)(Oa,{src:"".concat(q.a.assetsURL,"/").concat(e.font_preview),alt:e.font_name})},e.id)}))})},ya=Object(o.c)(x.a).withConfig({displayName:"TextDialog__Button",componentId:"sc-18v4ol9-0"})(f.b),xa=Object(o.c)(de.a).withConfig({displayName:"TextDialog__TextField",componentId:"sc-18v4ol9-1"})(f.b),ma=Object(o.c)(y.a).withConfig({displayName:"TextDialog__Typography",componentId:"sc-18v4ol9-2"})(f.b),ga=Object(o.c)(xa).withConfig({displayName:"TextDialog__CustomeTextField",componentId:"sc-18v4ol9-3"})([".MuiInputBase-input{height:2rem;}"]),_a=Object(o.c)(b.a).withConfig({displayName:"TextDialog__TextPreviewWrapper",componentId:"sc-18v4ol9-4"})(["background:white;overflow:auto;"]),wa=Object(o.c)(b.a).withConfig({displayName:"TextDialog__TextPreview",componentId:"sc-18v4ol9-5"})(["color:",";-webkit-text-stroke-width:","px;-webkit-text-stroke-color:",";font-size:","px;font-family:",";transform:rotate(","deg);"],(function(e){return e.color}),(function(e){return e.stroke}),(function(e){return e.scolor}),(function(e){return e.size}),(function(e){return e.font}),(function(e){return e.rotate})),Ca=function(e){var t=e.fontList,a=e.errors,n=e.handleBlur,r=e.handleChange,c=e.setFieldValue,o=e.touched,s=e.values,d=Object(i.d)(),u=Object(i.e)((function(e){return e.fontReducer.loadedList}));return Object(l.useEffect)((function(){var e,a,n=t.length?t.find((function(e){return e.id===s.font})):null;n&&!u.includes(n.font_name)&&(e=n.font_name,a="url(".concat(q.a.assetsURL,"/").concat(n.font_file,")"),new FontFace(e,a).load().then((function(t){document.fonts.add(t),d(Object(ce.c)(e))})).catch((function(t){console.warn(t,e)})))}),[s.font]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ga,{name:"text",label:"Text",placeholder:"Input Text here",variant:"outlined",value:s.text,error:Boolean(o.text&&a.text),helperText:o.text&&a.text,onBlur:n,onChange:r,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}),Object(F.jsxs)(da.a,{variant:"outlined",children:[Object(F.jsx)(ua.a,{id:"font-select-label",children:"Font"}),Object(F.jsx)(fa,{value:s.font,onChange:function(e){return c("font",e.target.value)},fontList:t})]}),Object(F.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(F.jsx)(fe.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Le,{label:"Font Size",min:6,max:72,value:s.size,setValue:function(e){return c("size",e)}})}),Object(F.jsx)(fe.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(F.jsx)(ma,{variant:"body1",color:"textSecondary",mr:2,children:"Font Color"}),Object(F.jsx)(Te,{value:s.color,onChange:function(e){return c("color",e)},onInputChange:function(e){return c("color",e)},error:Boolean(a.color),helperText:a.color})]})})]}),Object(F.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(F.jsx)(fe.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Le,{label:"Stroke Width",min:0,max:10,value:s.stroke,setValue:function(e){return c("stroke",e)}})}),Object(F.jsx)(fe.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(F.jsx)(ma,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"}),Object(F.jsx)(Te,{value:s.scolor,onChange:function(e){return c("scolor",e)},onInputChange:function(e){return c("scolor",e)},error:Boolean(a.scolor),helperText:a.scolor})]})})]}),Object(F.jsx)(fe.a,{container:!0,spacing:2,children:Object(F.jsx)(fe.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Le,{label:"Rotation",min:-179,max:179,value:s.rotation,setValue:function(e){return c("rotation",e)}})})}),Object(F.jsx)(_a,{width:"100%",height:"200px",my:2,display:"flex",justifyContent:"center",alignItems:"center",children:Object(F.jsx)(wa,{color:s.color,stroke:s.stroke,scolor:s.scolor,size:s.size,rotate:s.rotation,font:t.find((function(e){return e.id===s.font})).font_name,children:s.text})})]})},va=function(e){var t=e.fontList,a=e.onCancel,r=e.open,c=e.onCreate;return Object(F.jsxs)(ye.a,{"aria-labelledby":"insert-text-title",open:r,onClose:a,children:[Object(F.jsx)(xe.a,{id:"insert-text-title",children:"Insert Text"}),Object(F.jsx)(be.b,{initialValues:{text:"",font:1,size:14,color:"#000000",stroke:0,scolor:"#000000",rotation:0},validationSchema:je.b().shape({text:je.c().required("Required"),color:je.c().nullable().test("color-validation","Incorrect Color Format",V.a),scolor:je.c().nullable().test("color-validation","Incorrect Color Format",V.a)}),validate:function(e){return console.log(e),{}},onSubmit:c,children:function(e){return Object(F.jsxs)(be.a,{onSubmit:e.handleSubmit,children:[Object(F.jsx)(me.a,{dividers:!0,id:"insert-text-dialog-content",children:Object(F.jsx)(Ca,Object(n.a)(Object(n.a)({},e),{},{fontList:t}))}),Object(F.jsxs)(ge.a,{children:[Object(F.jsx)(ya,{onClick:a,color:"secondary",children:"Cancel"}),Object(F.jsx)(ya,{type:"submit",color:"primary",variant:"outlined",disabled:e.isSubmitting,children:"Create"})]})]})}})]})},ka=Object(o.c)(b.a).withConfig({displayName:"sideBar__Wrapper",componentId:"sc-10zcfrv-0"})(["width:350px;background:#666666;overflow:auto;"]),Ia=Object(o.c)(x.a).withConfig({displayName:"sideBar__ColorApplyButton",componentId:"sc-10zcfrv-1"})(["padding:3px 15px 5px;"]),Sa=function(e){var t=e.dialog,a=e.setDialog,n=e.focusBoard,r=Object(i.d)(),o=Object(i.e)((function(e){return e.schemeReducer.current})),s=Object(i.e)((function(e){return e.layerReducer.list})),d=Object(i.e)((function(e){return e.overlayReducer.list})),u=Object(i.e)((function(e){return e.logoReducer.list})),j=Object(i.e)((function(e){return e.uploadReducer.list})),p=Object(i.e)((function(e){return e.fontReducer.list})),O=Object(i.e)((function(e){return e.boardReducer.frameSize})),f=Object(i.e)((function(e){return e.basePaintReducer.list})),y="transparent"===o.base_color?o.base_color:"#"+o.base_color,x=Object(l.useState)(y),m=Object(c.a)(x,2),g=m[0],_=m[1],w=Object(l.useState)(!1),C=Object(c.a)(w,2),v=C[0],k=C[1];return Object(F.jsxs)(ka,{p:3,children:[Object(F.jsx)(Ee,{}),Object(F.jsx)(lt,{title:"Car Parts",layerList:s.filter((function(e){return e.layer_type===h.c.CAR})),disableLock:!0,disableDnd:!0}),Object(F.jsx)(lt,{title:"Logos & Text",layerList:s.filter((function(e){return e.layer_type===h.c.LOGO||e.layer_type===h.c.TEXT||e.layer_type===h.c.UPLOAD})),actions:[{onClick:function(){return a(h.b.UPLOAD)},icon:ie.b},{onClick:function(){return a(h.b.LOGO)},icon:ie.d},{onClick:function(){return a(h.b.TEXT)},icon:ie.c}]}),Object(F.jsx)(lt,{title:"Shapes",layerList:s.filter((function(e){return e.layer_type===h.c.OVERLAY})),actions:[{onClick:function(){return a(h.b.SHAPE)},icon:ie.e}]}),Object(F.jsx)(lt,{title:"Base Paint",layerList:s.filter((function(e){return e.layer_type===h.c.BASE})),actions:[{onClick:function(){return a(h.b.BASEPAINT)},icon:ie.a}],disableLock:!0,extraChildren:Object(F.jsxs)(b.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(F.jsx)(Te,{value:g,onChange:function(e){r(Object(se.a)(o.id,e)),_(e),k(!1)},onInputChange:function(e){_(e),k(e!==y)}}),v?Object(F.jsx)(Ia,{onClick:function(){r(Object(se.a)(o.id,g)),k(!1)},variant:"outlined",children:"Apply"}):Object(F.jsx)(F.Fragment,{})]})}),Object(F.jsx)(yt,{open:t===h.b.BASEPAINT,basePaints:f,onOpenBase:function(e){r(Object(oe.e)(o.id,e)),a(null),n()},onCancel:function(){return a(null)}}),Object(F.jsx)(Lt,{open:t===h.b.SHAPE,shapes:d,onOpenShape:function(e){r(Object(oe.c)(o.id,e,O)),a(null),n()},onCancel:function(){return a(null)}}),Object(F.jsx)(Ut,{open:t===h.b.LOGO,logos:u,onOpenLogo:function(e){r(Object(oe.b)(o.id,e,O)),a(null),n()},onCancel:function(){return a(null)}}),Object(F.jsx)(sa,{open:t===h.b.UPLOAD,uploads:j,onOpenUpload:function(e){r(Object(oe.d)(o.id,e,O)),a(null),n()},onCancel:function(){return a(null)}}),Object(F.jsx)(va,{open:t===h.b.TEXT,fontList:p,onCreate:function(e){r(Object(oe.f)(o.id,e,O)),a(null),n()},onCancel:function(){return a(null)}})]})},Fa=Object(o.c)(de.a).withConfig({displayName:"GeneralProperty__CustomeTextField",componentId:"sc-55yoxm-0"})([".MuiInputBase-input{height:2rem;}"]),La=function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=(e.setFieldValue,e.touched),o=e.values,i=e.toggleField,s=Object(l.useState)(!0),d=Object(c.a)(s,2),u=d[0],j=d[1];return"{}"!==JSON.stringify(t)&&console.log(t),h.a[o.layer_type].includes("layer_data.name")||h.a[o.layer_type].includes("layer_data.text")?Object(F.jsxs)(pe.a,{expanded:u,onChange:function(){return j(!u)},children:[Object(F.jsx)(he.a,{expandIcon:Object(F.jsx)(_e.a,{}),children:Object(F.jsx)(y.a,{children:"General"})}),Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[h.a[o.layer_type].includes("layer_data.name")?Object(F.jsx)(Fa,{name:"layer_data.name",label:"Name",variant:"outlined",value:o.layer_data.name,error:Boolean(r.layer_data&&r.layer_data.name&&t.layer_data&&t.layer_data.name),helperText:r.layer_data&&r.layer_data.name&&t.layer_data&&t.layer_data.name,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(F.jsx)(F.Fragment,{}),h.a[o.layer_type].includes("layer_data.text")?Object(F.jsx)(Fa,{name:"layer_data.text",label:"Text",variant:"outlined",value:o.layer_data.text,error:Boolean(r.layer_data&&r.layer_data.text&&t.layer_data&&t.layer_data.text),helperText:r.layer_data&&r.layer_data.text&&t.layer_data&&t.layer_data.text,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(F.jsx)(F.Fragment,{}),h.a[o.layer_type].includes("layer_visible")?Object(F.jsxs)(b.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object(F.jsx)(y.a,{variant:"body1",color:"textSecondary",mr:2,children:"Visibility"}),Object(F.jsx)(m.a,{onClick:function(){return i("layer_visible")},size:"small",children:o.layer_visible?Object(F.jsx)(Je.a,{}):Object(F.jsx)($e.a,{})})]}):Object(F.jsx)(F.Fragment,{}),h.a[o.layer_type].includes("layer_locked")?Object(F.jsxs)(b.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object(F.jsx)(y.a,{variant:"body1",color:"textSecondary",mr:2,children:"Locking"}),Object(F.jsx)(m.a,{onClick:function(){return i("layer_locked")},size:"small",children:o.layer_locked?Object(F.jsx)(Qe.a,{}):Object(F.jsx)(et.a,{})})]}):Object(F.jsx)(F.Fragment,{})]})})]}):Object(F.jsx)(F.Fragment,{})},Ra=a(1087),Ba=a(1088),Ta=Object(o.c)(de.a).withConfig({displayName:"SizeProperty__CustomeTextField",componentId:"sc-8yv6lk-0"})([".MuiInputBase-input{height:2rem;}"]),Da=Object(o.c)(m.a).withConfig({displayName:"SizeProperty__CustomIconButton",componentId:"sc-8yv6lk-1"})(["margin:0 5px;height:50px;"]),Na=function(e){var t=e.errors,a=e.handleBlur,n=(e.handleChange,e.setFieldValue),r=e.touched,o=e.values,i=e.toggleLayerDataField,s=e.currentLayer,d=e.pressedKey,u=Object(l.useState)(!0),j=Object(c.a)(u,2),p=j[0],O=j[1],f="shift"===d;return h.a[o.layer_type].includes("layer_data.width")||h.a[o.layer_type].includes("layer_data.height")||h.a[o.layer_type].includes("layer_data.scaleX")||h.a[o.layer_type].includes("layer_data.scaleY")?Object(F.jsxs)(pe.a,{expanded:p,onChange:function(){return O(!p)},children:[Object(F.jsx)(he.a,{expandIcon:Object(F.jsx)(_e.a,{}),children:Object(F.jsx)(y.a,{children:"Size"})}),Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[Object(F.jsxs)(b.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[h.a[o.layer_type].includes("layer_data.width")?Object(F.jsx)(Ta,{name:"layer_data.width",label:"Width",variant:"outlined",type:"number",value:Object(V.d)(o.layer_data.width),error:Boolean(r.layer_data&&r.layer_data.width&&t.layer_data&&t.layer_data.width),helperText:r.layer_data&&r.layer_data.width&&t.layer_data&&t.layer_data.width,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;o.layer_data.sizeLocked&&n("layer_data.height",t*s.layer_data.height/s.layer_data.width),n("layer_data.width",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(F.jsx)(F.Fragment,{}),h.a[o.layer_type].includes("layer_data.width")&&h.a[o.layer_type].includes("layer_data.height")?Object(F.jsx)(Da,{onClick:function(){return i("sizeLocked")},children:o.layer_data.sizeLocked||f?Object(F.jsx)(Ra.a,{}):Object(F.jsx)(Ba.a,{})}):Object(F.jsx)(F.Fragment,{}),h.a[o.layer_type].includes("layer_data.height")?Object(F.jsx)(Ta,{name:"layer_data.height",label:"Height",variant:"outlined",type:"number",value:Object(V.d)(o.layer_data.height),error:Boolean(r.layer_data&&r.layer_data.height&&t.layer_data&&t.layer_data.height),helperText:r.layer_data&&r.layer_data.height&&t.layer_data&&t.layer_data.height,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;o.layer_data.sizeLocked&&n("layer_data.width",t*s.layer_data.width/s.layer_data.height),n("layer_data.height",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(F.jsx)(F.Fragment,{})]}),Object(F.jsxs)(b.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[h.a[o.layer_type].includes("layer_data.scaleX")?Object(F.jsx)(Ta,{name:"layer_data.scaleX",label:"ScaleX",variant:"outlined",type:"number",value:Object(V.d)(o.layer_data.scaleX),error:Boolean(r.layer_data&&r.layer_data.scaleX&&t.layer_data&&t.layer_data.scaleX),helperText:r.layer_data&&r.layer_data.scaleX&&t.layer_data&&t.layer_data.scaleX,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;o.layer_data.scaleLocked&&n("layer_data.scaleY",t*s.layer_data.scaleY/s.layer_data.scaleX),n("layer_data.scaleX",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(F.jsx)(F.Fragment,{}),h.a[o.layer_type].includes("layer_data.scaleX")&&h.a[o.layer_type].includes("layer_data.scaleY")?Object(F.jsx)(Da,{onClick:function(){return i("scaleLocked")},children:o.layer_data.scaleLocked||f?Object(F.jsx)(Ra.a,{}):Object(F.jsx)(Ba.a,{})}):Object(F.jsx)(F.Fragment,{}),h.a[o.layer_type].includes("layer_data.scaleY")?Object(F.jsx)(Ta,{name:"layer_data.scaleY",label:"ScaleY",variant:"outlined",type:"number",value:Object(V.d)(o.layer_data.scaleY),error:Boolean(r.layer_data&&r.layer_data.scaleY&&t.layer_data&&t.layer_data.scaleY),helperText:r.layer_data&&r.layer_data.scaleY&&t.layer_data&&t.layer_data.scaleY,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;o.layer_data.scaleLocked&&n("layer_data.scaleX",t*s.layer_data.scaleX/s.layer_data.scaleY),n("layer_data.scaleY",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(F.jsx)(F.Fragment,{})]})]})})]}):Object(F.jsx)(F.Fragment,{})},Ma=Object(o.c)(de.a).withConfig({displayName:"PositionProperty__CustomeTextField",componentId:"sc-16v7yid-0"})([".MuiInputBase-input{height:2rem;}"]),za=function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=(e.setFieldValue,e.touched),o=e.values,i=Object(l.useState)(!0),s=Object(c.a)(i,2),d=s[0],u=s[1];return h.a[o.layer_type].includes("layer_data.left")||h.a[o.layer_type].includes("layer_data.top")?Object(F.jsxs)(pe.a,{expanded:d,onChange:function(){return u(!d)},children:[Object(F.jsx)(he.a,{expandIcon:Object(F.jsx)(_e.a,{}),children:Object(F.jsx)(y.a,{children:"Position"})}),Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[h.a[o.layer_type].includes("layer_data.left")?Object(F.jsx)(Ma,{name:"layer_data.left",label:"Left",variant:"outlined",type:"number",value:Object(V.d)(o.layer_data.left),error:Boolean(r.layer_data&&r.layer_data.left&&t.layer_data&&t.layer_data.left),helperText:r.layer_data&&r.layer_data.left&&t.layer_data&&t.layer_data.left,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(F.jsx)(F.Fragment,{}),h.a[o.layer_type].includes("layer_data.top")?Object(F.jsx)(Ma,{name:"layer_data.top",label:"Top",variant:"outlined",type:"number",value:Object(V.d)(o.layer_data.top),error:Boolean(r.layer_data&&r.layer_data.top&&t.layer_data&&t.layer_data.top),helperText:r.layer_data&&r.layer_data.top&&t.layer_data&&t.layer_data.top,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(F.jsx)(F.Fragment,{})]})})]}):Object(F.jsx)(F.Fragment,{})},Pa=Object(o.c)(da.a).withConfig({displayName:"FontProperty__FormControl",componentId:"sc-8xx6kn-0"})(f.b),Ea=function(e){var t=e.errors,a=(e.handleBlur,e.handleChange,e.setFieldValue),n=(e.touched,e.values),r=e.fontList,o=Object(l.useState)(!0),i=Object(c.a)(o,2),s=i[0],d=i[1];return h.a[n.layer_type].includes("layer_data.font")?Object(F.jsxs)(pe.a,{expanded:s,onChange:function(){return d(!s)},children:[Object(F.jsx)(he.a,{expandIcon:Object(F.jsx)(_e.a,{}),children:Object(F.jsx)(y.a,{children:"Font"})}),Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[h.a[n.layer_type].includes("layer_data.font")?Object(F.jsxs)(Pa,{variant:"outlined",mt:2,children:[Object(F.jsx)(ua.a,{id:"font-select-label",children:"Font"}),Object(F.jsx)(fa,{value:n.layer_data.font,onChange:function(e){return a("layer_data.font",e.target.value)},fontList:r})]}):Object(F.jsx)(F.Fragment,{}),h.a[n.layer_type].includes("layer_data.color")?Object(F.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(F.jsx)(fe.a,{item:!0,xs:6,children:Object(F.jsx)(y.a,{variant:"body1",color:"textSecondary",mr:2,children:"Font Color"})}),Object(F.jsx)(fe.a,{item:!0,xs:6,children:Object(F.jsx)(Te,{value:n.layer_data.color,onChange:function(e){return a("layer_data.color",e)},onInputChange:function(e){return a("layer_data.color",e)},error:Boolean(t.layer_data&&t.layer_data.color),helperText:t.layer_data&&t.layer_data.color})})]}):Object(F.jsx)(F.Fragment,{}),h.a[n.layer_type].includes("layer_data.size")?Object(F.jsx)(Le,{label:"Font Size",min:6,max:72,value:n.layer_data.size,setValue:function(e){return a("layer_data.size",e)}}):Object(F.jsx)(F.Fragment,{})]})})]}):Object(F.jsx)(F.Fragment,{})},Xa=function(e){var t=e.errors,a=(e.handleBlur,e.handleChange,e.setFieldValue),n=(e.touched,e.values),r=Object(l.useState)(!0),o=Object(c.a)(r,2),i=o[0],s=o[1];return h.a[n.layer_type].includes("layer_data.stroke")||h.a[n.layer_type].includes("layer_data.scolor")?Object(F.jsxs)(pe.a,{expanded:i,onChange:function(){return s(!i)},children:[Object(F.jsx)(he.a,{expandIcon:Object(F.jsx)(_e.a,{}),children:Object(F.jsx)(y.a,{children:"Stroke"})}),Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[h.a[n.layer_type].includes("layer_data.scolor")?Object(F.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(F.jsx)(fe.a,{item:!0,xs:6,children:Object(F.jsx)(y.a,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"})}),Object(F.jsx)(fe.a,{item:!0,xs:6,children:Object(F.jsx)(Te,{value:n.layer_data.scolor,onChange:function(e){return a("layer_data.scolor",e)},onInputChange:function(e){return a("layer_data.scolor",e)},error:Boolean(t.layer_data&&t.layer_data.scolor),helperText:t.layer_data&&t.layer_data.scolor})})]}):Object(F.jsx)(F.Fragment,{}),h.a[n.layer_type].includes("layer_data.stroke")?Object(F.jsx)(Le,{label:"Stroke Width",min:0,max:10,value:n.layer_data.stroke,setValue:function(e){return a("layer_data.stroke",e)}}):Object(F.jsx)(F.Fragment,{})]})})]}):Object(F.jsx)(F.Fragment,{})},Aa=function(e){var t=e.errors,a=(e.handleBlur,e.handleChange,e.setFieldValue),n=(e.touched,e.values),r=Object(l.useState)(!0),o=Object(c.a)(r,2),i=o[0],s=o[1];return h.a[n.layer_type].includes("layer_data.color")||h.a[n.layer_type].includes("layer_data.opacity")?Object(F.jsxs)(pe.a,{expanded:i,onChange:function(){return s(!i)},children:[Object(F.jsx)(he.a,{expandIcon:Object(F.jsx)(_e.a,{}),children:Object(F.jsx)(y.a,{children:"Color/Opacity"})}),Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[h.a[n.layer_type].includes("layer_data.color")&&n.layer_type!==h.c.TEXT?Object(F.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(F.jsx)(fe.a,{item:!0,xs:6,children:Object(F.jsx)(y.a,{variant:"body1",color:"textSecondary",mr:2,children:"Color"})}),Object(F.jsx)(fe.a,{item:!0,xs:6,children:Object(F.jsx)(Te,{value:n.layer_data.color,onChange:function(e){return a("layer_data.color",e)},onInputChange:function(e){return a("layer_data.color",e)},error:Boolean(t.layer_data&&t.layer_data.color),helperText:t.layer_data&&t.layer_data.color})})]}):Object(F.jsx)(F.Fragment,{}),h.a[n.layer_type].includes("layer_data.opacity")?Object(F.jsx)(Le,{label:"Opacity",min:0,max:1,step:.01,value:n.layer_data.opacity,setValue:function(e){return a("layer_data.opacity",e)}}):Object(F.jsx)(F.Fragment,{})]})})]}):Object(F.jsx)(F.Fragment,{})},Ya=a(1089),Wa=a(1094),Ka=function(e){e.errors,e.handleBlur,e.handleChange;var t=e.setFieldValue,a=(e.touched,e.values),n=Object(l.useState)(!0),r=Object(c.a)(n,2),o=r[0],i=r[1];return h.a[a.layer_type].includes("layer_data.rotation")||h.a[a.layer_type].includes("layer_data.flip")||h.a[a.layer_type].includes("layer_data.flop")?Object(F.jsxs)(pe.a,{expanded:o,onChange:function(){return i(!o)},children:[Object(F.jsx)(he.a,{expandIcon:Object(F.jsx)(_e.a,{}),children:Object(F.jsx)(y.a,{children:"Rotation"})}),Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[h.a[a.layer_type].includes("layer_data.rotation")?Object(F.jsx)(Le,{label:"Rotation",min:-179,max:179,value:Math.round(a.layer_data.rotation),setValue:function(e){return t("layer_data.rotation",e)}}):Object(F.jsx)(F.Fragment,{}),Object(F.jsxs)(b.a,{display:"flex",justifyContent:"space-around",children:[h.a[a.layer_type].includes("layer_data.flop")?Object(F.jsx)(da.a,{component:"fieldset",children:Object(F.jsx)(Ya.a,{control:Object(F.jsx)(Wa.a,{color:"primary",checked:Boolean(a.layer_data.flop),onChange:function(e){return t("layer_data.flop",e.target.checked?1:0)}}),label:"Flop",labelPlacement:"start"})}):Object(F.jsx)(F.Fragment,{}),h.a[a.layer_type].includes("layer_data.flip")?Object(F.jsx)(da.a,{component:"fieldset",children:Object(F.jsx)(Ya.a,{control:Object(F.jsx)(Wa.a,{color:"primary",checked:Boolean(a.layer_data.flip),onChange:function(e){return t("layer_data.flip",e.target.checked?1:0)}}),label:"Flip",labelPlacement:"start"})}):Object(F.jsx)(F.Fragment,{})]})]})})]}):Object(F.jsx)(F.Fragment,{})},Ua=Object(o.c)(de.a).withConfig({displayName:"ShadowProperty__CustomeTextField",componentId:"sc-1d6vteb-0"})([".MuiInputBase-input{height:2rem;}"]),Va=function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=e.setFieldValue,o=e.touched,i=e.values,s=Object(l.useState)(!0),d=Object(c.a)(s,2),u=d[0],j=d[1];return h.a[i.layer_type].includes("layer_data.shadowColor")||h.a[i.layer_type].includes("layer_data.shadowBlur")||h.a[i.layer_type].includes("layer_data.shadowOpacity")||h.a[i.layer_type].includes("layer_data.shadowOffsetX")||h.a[i.layer_type].includes("layer_data.shadowOffsetY")?Object(F.jsxs)(pe.a,{expanded:u,onChange:function(){return j(!u)},children:[Object(F.jsx)(he.a,{expandIcon:Object(F.jsx)(_e.a,{}),children:Object(F.jsx)(y.a,{children:"Shadow"})}),Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[h.a[i.layer_type].includes("layer_data.shadowColor")?Object(F.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(F.jsx)(fe.a,{item:!0,xs:6,children:Object(F.jsx)(y.a,{variant:"body1",color:"textSecondary",mr:2,children:"Shadow Color"})}),Object(F.jsx)(fe.a,{item:!0,xs:6,children:Object(F.jsx)(Te,{value:i.layer_data.shadowColor,onChange:function(e){return r("layer_data.shadowColor",e)},onInputChange:function(e){return r("layer_data.shadowColor",e)},error:Boolean(t.layer_data&&t.layer_data.shadowColor),helperText:t.layer_data&&t.layer_data.shadowColor})})]}):Object(F.jsx)(F.Fragment,{}),h.a[i.layer_type].includes("layer_data.shadowBlur")?Object(F.jsx)(Ua,{name:"layer_data.shadowBlur",label:"Shadow Blur",variant:"outlined",type:"number",value:Object(V.d)(i.layer_data.shadowBlur),error:Boolean(o.layer_data&&o.layer_data.shadowBlur&&t.layer_data&&t.layer_data.shadowBlur),helperText:o.layer_data&&o.layer_data.shadowBlur&&t.layer_data&&t.layer_data.shadowBlur,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(F.jsx)(F.Fragment,{}),h.a[i.layer_type].includes("layer_data.shadowOpacity")?Object(F.jsx)(Le,{label:"Shadow Opacity",min:0,max:1,step:.01,value:i.layer_data.shadowOpacity,setValue:function(e){return r("layer_data.shadowOpacity",e)}}):Object(F.jsx)(F.Fragment,{}),h.a[i.layer_type].includes("layer_data.shadowOffsetX")?Object(F.jsx)(Ua,{name:"layer_data.shadowOffsetX",label:"Shadow OffsetX",variant:"outlined",type:"number",value:Object(V.d)(i.layer_data.shadowOffsetX),error:Boolean(o.layer_data&&o.layer_data.shadowOffsetX&&t.layer_data&&t.layer_data.shadowOffsetX),helperText:o.layer_data&&o.layer_data.shadowOffsetX&&t.layer_data&&t.layer_data.shadowOffsetX,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(F.jsx)(F.Fragment,{}),h.a[i.layer_type].includes("layer_data.shadowOffsetY")?Object(F.jsx)(Ua,{name:"layer_data.shadowOffsetY",label:"Shadow OffsetY",variant:"outlined",type:"number",value:Object(V.d)(i.layer_data.shadowOffsetY),error:Boolean(o.layer_data&&o.layer_data.shadowOffsetY&&t.layer_data&&t.layer_data.shadowOffsetY),helperText:o.layer_data&&o.layer_data.shadowOffsetY&&t.layer_data&&t.layer_data.shadowOffsetY,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(F.jsx)(F.Fragment,{})]})})]}):Object(F.jsx)(F.Fragment,{})},Ga=Object(o.c)(b.a).withConfig({displayName:"propertyBar__Wrapper",componentId:"sc-1e4csol-0"})(["width:350px;position:fixed;right:0;top:0;background:#666666;height:calc(100% - 50px);overflow:auto;"]),qa=function(){var e=Object(i.d)(),t=Object(i.e)((function(e){return e.layerReducer.current})),a=Object(i.e)((function(e){return e.fontReducer.list})),r=Object(i.e)((function(e){return e.boardReducer.pressedKey})),c=function(a){e(Object(oe.m)(Object(n.a)(Object(n.a)({},t),{},Object(Xe.a)({},a,t[a]?0:1))))},o=function(a){e(Object(oe.m)(Object(n.a)(Object(n.a)({},t),{},{layer_data:Object(n.a)(Object(n.a)({},t.layer_data),{},Object(Xe.a)({},a,t.layer_data[a]?0:1))})))},l=function(e){for(var a in e.layer_data)if(e.layer_data[a]!=t.layer_data[a])return!0;for(var n in e)if("layer_data"!=n&&e[n]!=t[n])return!0;return!1};if(t){var s=$.a.pick({layer_visible:1,layer_locked:0,layer_data:$.a.pick({name:"",text:"",width:0,height:0,left:0,top:0,rotation:0,flop:0,flip:0,scaleX:1,scaleY:1,stroke:0,font:0,size:0,scolor:"#000000",color:null,opacity:1,shadowColor:null,shadowBlur:0,shadowOpacity:1,shadowOffsetX:0,shadowOffsetY:0},h.a[t.layer_type].filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")})))},h.a[t.layer_type].filter((function(e){return!e.includes("layer_data.")})));return Object(F.jsx)(Ga,{py:5,px:3,children:Object(F.jsx)(be.b,{initialValues:Object(n.a)(Object(n.a)(Object(n.a)({},s),t),{},{layer_data:Object(n.a)(Object(n.a)({},s.layer_data),t.layer_data)}),validationSchema:je.b({layer_order:je.a(),layer_visible:je.a(),layer_locked:je.a(),layer_data:je.b({name:je.c().required("Required"),text:je.c().test("text-validation","Required",(function(e){return e&&e.length||t.layer_type!==h.c.TEXT})),width:je.a().moreThan(0,"Must be greater than 0").test("width-validation","Required",(function(e){return e||t.layer_type===h.c.TEXT||t.layer_type===h.c.CAR||t.layer_type===h.c.BASE})),height:je.a().moreThan(0,"Must be greater than 0").test("height-validation","Required",(function(e){return e||t.layer_type===h.c.TEXT||t.layer_type===h.c.CAR||t.layer_type===h.c.BASE})),left:je.a(),top:je.a(),rotation:je.a().moreThan(-181,"Must be greater than -181").lessThan(181,"Must be less than 181"),flop:je.a(),flip:je.a(),scaleX:je.a().moreThan(0,"Must be greater than 0"),scaleY:je.a().moreThan(0,"Must be greater than 0"),color:je.c().nullable().test("color-validation","Incorrect Color Format",V.a),size:je.a(),scolor:je.c().nullable().test("color-validation","Incorrect Color Format",V.a),stroke:je.a(),font:je.a(),opacity:je.a(),shadowColor:je.c().nullable().test("color-validation","Incorrect Color Format",V.a),shadowBlur:je.a(),shadowOpacity:je.a(),shadowOffsetX:je.a(),shadowOffsetY:je.a()})}),enableReinitialize:!0,validate:function(e){return console.log(e),{}},onSubmit:function(t){e(Object(oe.m)(t))},children:function(e){return Object(F.jsxs)(be.a,{onSubmit:e.handleSubmit,noValidate:!0,children:[Object(F.jsxs)(b.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"34px",children:[Object(F.jsx)(y.a,{variant:"h5",noWrap:!0,children:"Properties"}),e.isValid&&l(e.values)?Object(F.jsx)(x.a,{type:"submit",color:"primary",variant:"outlined",children:"Apply"}):Object(F.jsx)(F.Fragment,{})]}),Object(F.jsx)(La,Object(n.a)(Object(n.a)({},e),{},{toggleField:c})),Object(F.jsx)(Ea,Object(n.a)(Object(n.a)({},e),{},{fontList:a})),Object(F.jsx)(Aa,Object(n.a)({},e)),Object(F.jsx)(Xa,Object(n.a)({},e)),Object(F.jsx)(Na,Object(n.a)(Object(n.a)({},e),{},{toggleLayerDataField:o,currentLayer:t,pressedKey:r})),Object(F.jsx)(za,Object(n.a)({},e)),Object(F.jsx)(Ka,Object(n.a)({},e)),Object(F.jsx)(Va,Object(n.a)({},e))]})}})})}return Object(F.jsx)(F.Fragment,{})},Ha=a(180),Za=a(181),Ja=Object(o.c)(b.a).withConfig({displayName:"scheme__Wrapper",componentId:"sc-188wpva-0"})(["background-color:",";"],(function(e){return e.background}));t.default=function(){var e=Object(i.d)(),t=Object(j.g)(),a=Object(l.useState)(""),o=Object(c.a)(a,2),s=o[0],f=o[1],y=Object(l.useState)(null),x=Object(c.a)(y,2),m=x[0],g=x[1],_=Object(l.useRef)(0),w=Object(l.useRef)(0),C=Object(i.e)((function(e){return e.authReducer.user})),v=Object(i.e)((function(e){return e.schemeReducer.current})),k=Object(i.e)((function(e){return e.layerReducer.current})),I=Object(i.e)((function(e){return e.layerReducer.clipboard})),S=Object(i.e)((function(e){return e.overlayReducer.list})),L=Object(i.e)((function(e){return e.logoReducer.list})),R=Object(i.e)((function(e){return e.fontReducer.list})),B=Object(i.e)((function(e){return e.boardReducer.zoom})),T=Object(i.e)((function(e){return e.boardReducer.pressedKey})),D=Object(i.e)((function(e){return e.boardReducer.boardRotate})),N=Object(i.e)((function(e){return e.boardReducer.paintingGuides})),z=Object(i.e)((function(e){return e.schemeReducer.loading})),P=Object(i.e)((function(e){return e.carMakeReducer.loading})),E=Object(i.e)((function(e){return e.fontReducer.loading})),X=Object(i.e)((function(e){return e.uploadReducer.initialized})),A=function(){e(Object(O.f)(Math.max(Math.min(1.25*B,10),.25)))},Y=function(){e(Object(O.f)(Math.max(Math.min(B/1.25,10),.25)))},W=function(t){e(Object(O.d)(t))},K=function(e){var t=Object(r.a)(N),a=t.indexOf(e);a>-1?t.splice(a,1):t.push(e),W(t)},U=function(t,a){if(console.log("KeyEvent: ",t,a),"INPUT"!==a.target.tagName&&"keydown"===a.type&&(T!==t&&e(Object(O.e)(t)),"del"!==t&&"backspace"!==t||!k||k.layer_type===h.c.CAR?"esc"===t&&k?e(Object(oe.k)(null)):"+"===a.key&&a.shiftKey?A():"_"===a.key&&a.shiftKey?Y():")"===a.key&&a.shiftKey?e(Object(O.f)(1)):"c"===a.key&&(a.ctrlKey||a.metaKey)&&k?e(Object(oe.j)(k)):"v"===a.key&&(a.ctrlKey||a.metaKey)&&I?e(Object(oe.a)(I)):"1"===t?K(h.d.CARMASK):"2"===t?K(h.d.WIREFRAME):"3"===t?K(h.d.SPONSORBLOCKS):"4"===t?K(h.d.NUMBERBLOCKS):"5"===t?K(h.d.GRID):"t"===t?g(h.b.TEXT):"s"===t?g(h.b.SHAPE):"l"===t?g(h.b.LOGO):"b"===t&&g(h.b.BASEPAINT):f('Are you sure to delete "'.concat(k.layer_data.name,'"?'))),"INPUT"!==a.target.tagName&&("keyup"===a.type&&e(Object(O.e)(null)),["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(a.key)&&k&&![h.c.CAR,h.c.BASE].includes(k.layer_type))){var r=a.shiftKey?10:1,c="ArrowLeft"===a.key?-r:"ArrowRight"===a.key?r:0,o="ArrowUp"===a.key?-r:"ArrowDown"===a.key?r:0,l=c,i=o;if(90===D?(l=o,i=-c):180===D?(l=-c,i=-o):270===D&&(l=-o,i=c),"keyup"===a.type){var s=Object(n.a)({},k.layer_data);w.current!=_.current&&(s.left=k.layer_data.left+l,s.top=k.layer_data.top+i),e(Object(oe.m)(Object(n.a)(Object(n.a)({},k),{},{layer_data:s})))}else w.current!=_.current&&(w.current=Object.assign(_.current),e(Object(oe.n)(Object(n.a)(Object(n.a)({},k),{},{layer_data:Object(n.a)(Object(n.a)({},k.layer_data),{},{left:k.layer_data.left+l,top:k.layer_data.top+i})}))))}};return Object(l.useEffect)((function(){C&&C.id&&t.id&&(v||e(Object(se.e)(t.id)),X||e(Object(Qt.c)(C.id)),S.length||e(Object(Ha.b)()),L.length||e(Object(Za.b)()),R.length||e(Object(ce.b)()))}),[C]),Object(l.useEffect)((function(){var e=setInterval((function(){_.current+=1}),200);return function(){return clearInterval(e)}}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(u.b,{title:v?v.name:null}),z||P||E||!v?Object(F.jsx)(p.a,{}):Object(F.jsxs)(b.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:[Object(F.jsx)(d.a,{handleKeys:["all"],onKeyEvent:U}),Object(F.jsx)(d.a,{handleKeys:["all"],handleEventType:"keyup",onKeyEvent:U}),Object(F.jsxs)(b.a,{width:"100%",height:"calc(100% - 50px)",display:"flex",children:[Object(F.jsx)(Sa,{dialog:m,setDialog:g,focusBoard:function(){setTimeout((function(){return document.activeElement.blur()}),1e3)}}),Object(F.jsx)(Ja,{width:"calc(100% - 350px)",background:"#282828",overflow:"hidden",children:Object(F.jsx)(le,{})}),Object(F.jsx)(qa,{})]}),Object(F.jsx)(M,{onZoomIn:A,onZoomOut:Y,onChangePaintingGuides:W,onChangeBoardRotation:function(t){e(Object(O.b)(t))}})]}),Object(F.jsx)(Gt,{text:s,open:0!==s.length,onCancel:function(){return f("")},onConfirm:function(){e(Object(oe.i)(k)),f("")}})]})}},377:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return i}));a(74);var n=a(545),r=a.n(n),c=function(e){var t=(new Date).getTime()/1e3-new Date(e).getTime();if(t<60)return"".concat(Math.round(t)," seconds ago");var a=t/60;if(a<60)return"".concat(Math.round(a)," minutes ago");var n=a/60;if(n<24)return"".concat(Math.round(n)," hours ago");var r=n/24;return"".concat(Math.round(r)," days ago")},o=function(e){var t=e.length>7?/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e):/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:e.length>7?parseInt(t[4],16):255}:null},l=function(e){return Math.round(100*(e+Number.EPSILON))/100},i=function(e){return!e||!e.length||r()(e)}}}]);
//# sourceMappingURL=6.ebe394a9.chunk.js.map