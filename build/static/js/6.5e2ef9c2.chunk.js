(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[6],{1096:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(16),o=a(358),c=a(33),l=a(0),i=a(36),s=a(586),d=a.n(s),u=a(78),j=a(15),b=a(321),h=a(11),f=a(82),y=a(136),O=a(60),p=a(323),g=a(130),m=a(319),x=a(347),_=a(1097),w=a(1106),C=a(1108),v=a(1066),S=a(1054),k=a(1107),L=a(486),R=a(1058),I=a(1064),F=a(1065),B=a(1059),T=a(1060),E=a(1061),D=a(1062),M=a(1063),P=a(489),N=a(588),A=a(1050),W=a(1103),Y=a(1052),z=a(1053),X=a(6),G={DELETE:"Delete Layer",ENTER:"Complete Drawing",1:"Toggle Car Mask Guide",2:"Toggle Wireframe Guide",3:"Toggle Sponsor Block Guide",4:"Toggle Number Block Guide",5:"Toggle Grid Guide",T:"Insert Text",S:"Insert Overlay",L:"Insert Logo",B:"Insert Basepaint","\u2191":"Move Layer Up","\u2193":"Move Layer Down","\u2190":"Move Lyer Left","\u2192":"Move Lyer Right","Shift \u2191":"10x Move Layer Up","Shift \u2193":"10x Move Layer Down","Shift \u2190":"10x Move Lyer Left","Shift \u2192":"10x Move Lyer Right","Shift +":"Zoom In","Shift -":"Zoom Out","Shift 0":"Zoom To 100%","Shift D":"Default Mouse Mode","Shift B":"Brush Drawing Mode","Shift R":"Rectangle Drawing Mode","Shift C":"Circle Drawing Mode","Shift E":"Ellipse Drawing Mode","Shift S":"Star Drawing Mode","Shift G":"Ring Drawing Mode","Shift O":"Regular-Polygon Drawing Mode","Shift W":"Wedge Drawing Mode","Shift A":"Arc Drawing Mode","Shift P":"Polygon Drawing Mode","Shift L":"Line Drawing Mode","Shift >":"Arrow Drawing Mode","Ctrl/Meta C":"Copy Layer To Clipboard","Ctrl/Meta V":"Paste Layer From Clipboard"},U=Object(c.c)(A.a).withConfig({displayName:"ShortCutsDialog__Grid",componentId:"sc-3fzz2e-0"})(p.b),K=Object(c.c)(g.a).withConfig({displayName:"ShortCutsDialog__KeyText",componentId:"sc-3fzz2e-1"})(["color:#ca812c;background:#000000;width:fit-content;padding:0px 10px;border-radius:3px;"]),V=Object(c.c)(g.a).withConfig({displayName:"ShortCutsDialog__DescriptionText",componentId:"sc-3fzz2e-2"})(["width:fit-content;padding:0px;"]),H=function(e){var t=e.onCancel,a=e.open;return Object(X.jsxs)(W.a,{"aria-labelledby":"short-cuts-title",open:a,onClose:t,fullWidth:!0,maxWidth:"sm",children:[Object(X.jsx)(Y.a,{id:"short-cuts-title",children:"ShortCuts"}),Object(X.jsx)(z.a,{dividers:!0,id:"short-cuts-dialog-content",children:Object.keys(G).map((function(e,t){return Object(X.jsxs)(U,{container:!0,mb:2,children:[Object(X.jsx)(U,{item:!0,xs:6,children:Object(X.jsx)(K,{children:e})}),Object(X.jsx)(U,{item:!0,xs:6,children:Object(X.jsx)(V,{children:G[e]})})]},t)}))})]})},q=Object(c.c)(g.a).withConfig({displayName:"Toolbar__Typography",componentId:"sc-1sow5sy-0"})(p.b),J=Object(c.c)(S.a).withConfig({displayName:"Toolbar__ToggleButton",componentId:"sc-1sow5sy-1"})(p.b),Z=Object(c.c)(m.a).withConfig({displayName:"Toolbar__Button",componentId:"sc-1sow5sy-2"})(p.b),$=Object(c.c)(x.a).withConfig({displayName:"Toolbar__IconButton",componentId:"sc-1sow5sy-3"})(p.b),Q=Object(c.c)(_.a).withConfig({displayName:"Toolbar__CustomSelect",componentId:"sc-1sow5sy-4"})([".MuiSelect-select{padding-left:10px;}margin:0 10px;"]),ee=c.c.div.withConfig({displayName:"Toolbar__Wrapper",componentId:"sc-1sow5sy-5"})(["width:100%;height:50px;display:flex;padding:10px 20px;background:#151515;z-index:1201;"]),te=Object(c.c)(w.a).withConfig({displayName:"Toolbar__CustomOutlinedInput",componentId:"sc-1sow5sy-6"})([".MuiOutlinedInput-input{padding:6px 14px;border-bottom:none;width:40px;}"]),ae=Object(c.c)(L.a).withConfig({displayName:"Toolbar__CustomFontAwesomeIcon",componentId:"sc-1sow5sy-7"})(["transform:",";"],(function(e){return"true"===e.isstretch?"scaleX(1.2) scaleY(0.8)":"none"})),ne=[{value:h.e.DEFAULT,icon:Object(X.jsx)(ae,{icon:P.h})},{value:h.e.RECT,icon:Object(X.jsx)(ae,{icon:P.k})},{value:h.e.CIRCLE,icon:Object(X.jsx)(ae,{icon:P.b})},{value:h.e.ELLIPSE,icon:Object(X.jsx)(ae,{icon:P.b,isstretch:"true"})},{value:h.e.STAR,icon:Object(X.jsx)(ae,{icon:P.l})},{value:h.e.RING,icon:Object(X.jsx)(ae,{icon:P.c})},{value:h.e.REGULARPOLYGON,icon:Object(X.jsx)(R.a,{size:17})},{value:h.e.WEDGE,icon:Object(X.jsx)(B.a,{fontSize:"small"})},{value:h.e.ARC,icon:Object(X.jsx)(ae,{icon:N.a})},{value:h.e.POLYGON,icon:Object(X.jsx)(ae,{icon:P.d})},{value:h.e.LINE,icon:Object(X.jsx)(T.a,{})},{value:h.e.ARROW,icon:Object(X.jsx)(E.a,{fontSize:"small"})},{value:h.e.PEN,icon:Object(X.jsx)(ae,{icon:P.i})}],re="SHORTCUTS",oe=function(e){var t=e.onZoomIn,a=e.onZoomOut,n=e.onChangePaintingGuides,r=e.onChangeBoardRotation,c=Object(i.d)(),s=Object(l.useState)(null),d=Object(o.a)(s,2),u=d[0],j=d[1],f=Object(i.e)((function(e){return e.boardReducer.paintingGuides})),p=Object(i.e)((function(e){return e.boardReducer.zoom})),g=Object(i.e)((function(e){return e.boardReducer.boardRotate})),m=Object(i.e)((function(e){return e.boardReducer.mouseMode})),x=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?(e=g+90)>=360&&(e=0):(e=g-90)<0&&(e=270),r(e)};return Object(X.jsxs)(ee,{children:[Object(X.jsxs)(b.a,{display:"flex",justifyContent:"space-between",alignContent:"center",width:"100%",children:[Object(X.jsxs)(b.a,{display:"flex",justifyContent:"start",alignContent:"center",children:[Object(X.jsx)(q,{variant:"subtitle1",mr:2,children:"Painting Guides:"}),Object(X.jsxs)(k.a,{value:f,onChange:function(e,t){n(t)},"aria-label":"Painting Guides",children:[Object(X.jsx)(J,{value:h.f.CARMASK,"aria-label":"car-mask",children:Object(X.jsx)(q,{variant:"caption",children:"car mask"})}),Object(X.jsx)(J,{value:h.f.WIREFRAME,"aria-label":"wireframe",children:Object(X.jsx)(q,{variant:"caption",children:"wireframe"})}),Object(X.jsx)(J,{value:h.f.SPONSORBLOCKS,"aria-label":"sponsor-blocks",children:Object(X.jsx)(q,{variant:"caption",children:"sponsor blocks"})}),Object(X.jsx)(J,{value:h.f.NUMBERBLOCKS,"aria-label":"number-blocks",children:Object(X.jsx)(q,{variant:"caption",children:"number blocks"})}),Object(X.jsx)(J,{value:h.f.GRID,"aria-label":"grid",children:Object(X.jsx)(q,{variant:"caption",children:"grid"})})]})]}),Object(X.jsxs)(b.a,{display:"flex",justifyContent:"flex-end",alignContent:"center",children:[Object(X.jsx)(Q,{value:m,onChange:function(e){c(Object(y.d)(e.target.value)),e.target.value!==h.e.DEFAULT&&c(Object(O.m)(null))},renderValue:function(e){var t=ne.find((function(t){return t.value===e}));return t?t.icon:Object(X.jsx)(X.Fragment,{})},children:ne.map((function(e){return Object(X.jsx)(C.a,{value:e.value,children:e.icon},e.value)}))}),Object(X.jsx)(Z,{mr:2,variant:"outlined",onClick:function(){return j(re)},children:"SHORTCUTS"}),Object(X.jsx)(Z,{mr:2,variant:"outlined",children:"SIM PREVIEW"}),Object(X.jsx)($,{onClick:function(){return x(!1)},children:Object(X.jsx)(D.a,{})}),Object(X.jsx)($,{onClick:function(){return x(!0)},children:Object(X.jsx)(M.a,{})}),Object(X.jsx)($,{onClick:a,children:Object(X.jsx)(I.a,{})}),Object(X.jsx)($,{onClick:t,mr:1,children:Object(X.jsx)(F.a,{})}),Object(X.jsx)(te,{id:"zoom-value",value:100*p,onChange:function(e){c(Object(y.g)(parseInt(e.target.value||0)/100))},endAdornment:Object(X.jsx)(v.a,{position:"end",children:"%"}),labelWidth:0})]})]}),Object(X.jsx)(H,{open:u===re,onCancel:function(){return j(null)}})]})},ce=a(589),le=a.n(ce),ie=a(408),se=a(881),de=a(2),ue=a.n(de),je=a(3),be=a(442),he=a(629),fe=a(490),ye=a.n(fe),Oe=a(369),pe=function(e){var t=e.src,a=e.tellSize,r=e.onSelect,c=e.onChange,i=e.filterColor,s=e.frameSize,d=e.allowFit,u=e.layer_data,j=Object(be.a)(e,["src","tellSize","onSelect","onChange","filterColor","frameSize","allowFit","layer_data"]),b=Object(l.useRef)(null),h=Object(l.useRef)(),f=Object(l.useState)(null),y=Object(o.a)(f,2),O=y[0],p=y[1],g=[];i&&i.length&&g.push(ye.a.Filters.RGBA);var m=function(e){return b.current?Math.max(1,b.current.width/e.width(),b.current.height/e.height()):1};Object(l.useEffect)((function(){return _(),function(){b.current&&b.current.removeEventListener("load",x)}}),[]),Object(l.useEffect)((function(){h.current&&(i&&i.length?h.current.cache({pixelRatio:m(h.current),imageSmoothingEnabled:!0}):h.current.clearCache())}),[i]);var x=function(){var e=Object(je.a)(ue.a.mark((function e(){var n,r,o,l,u,f,y;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!d||b.current.width<=s.width/2&&b.current.height<=s.height/2?b.current.width:s.width/2,r=!d||b.current.width<=s.width/2&&b.current.height<=s.height/2?b.current.height:s.width/2*b.current.height/b.current.width,o=j.width||n,l=j.height||r,!t.toLowerCase().includes(".svg")||b.current.width&&b.current.height){e.next=19;break}return u=document.createElement("canvas"),f=u.getContext("2d"),e.next=9,he.a.from(f,t,{enableRedraw:!0});case 9:return y=e.sent,console.log(y),o=o||y.documentElement.node.width.baseVal.value||200,l=l||y.documentElement.node.height.baseVal.value||200,y.resize(o,l,"none"),e.next=16,y.render();case 16:p(u),e.next=20;break;case 19:p(b.current);case 20:!c||j.width||j.height||c({left:Object(Oe.f)(j.x-o/2),top:Object(Oe.f)(j.y-l/2),width:Object(Oe.f)(o),height:Object(Oe.f)(l)}),i&&i.length&&h.current.cache({pixelRatio:m(h.current),imageSmoothingEnabled:!0}),a&&a({width:o,height:l});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(je.a)(ue.a.mark((function e(){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new window.Image).src=t+"?timestamp=".concat((new Date).toISOString()),a.crossOrigin="anonymous",b.current=a,b.current.addEventListener("load",x);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(X.jsx)(ie.f,Object(n.a)(Object(n.a)({},j),{},{image:O,onClick:r,onTap:r,ref:h,draggable:c,filters:g.length?g:null,red:i&&i.length?Object(Oe.e)(i).r:null,green:i&&i.length?Object(Oe.e)(i).g:null,blue:i&&i.length?Object(Oe.e)(i).b:null,alpha:i&&i.length?Object(Oe.e)(i).a/255:null,onDragStart:function(e){r()},onDragEnd:function(e){c&&c({left:Object(Oe.f)(e.target.x()),top:Object(Oe.f)(e.target.y())})},onTransformEnd:function(e){if(c){var t=h.current,a=t.scaleX(),n=t.scaleY();console.log("scaleX, scaleY: ",a,n),t.scaleX(a>0?1:-1),t.scaleY(n>0?1:-1);var r=Math.abs(1!==Math.abs(Object(Oe.f)(n))?n:a);c({left:Object(Oe.f)(t.x()),top:Object(Oe.f)(t.y()),width:Object(Oe.f)(Math.max(1,t.width()*Math.abs(a))),height:Object(Oe.f)(Math.max(1,t.height()*Math.abs(n))),rotation:Object(Oe.f)(t.rotation())||0,flop:a>0?0:1,flip:n>0?0:1,shadowBlur:Object(Oe.f)(t.shadowBlur()*r),shadowOffsetX:Object(Oe.f)(u.shadowOffsetX*Math.abs(a)),shadowOffsetY:Object(Oe.f)(u.shadowOffsetY*Math.abs(n))}),i&&i.length?t.cache({pixelRatio:m(h.current),imageSmoothingEnabled:!0}):t.clearCache()}},perfectDrawEnabled:!1,shadowForStrokeEnabled:!1}))},ge=a(73),me=function(e){var t=e.paintingGuides,a=e.currentCarMake,n=e.handleImageSize,r=e.frameSize,o=e.guideData,c=o.grid_padding||10,l=o.grid_stroke||.1;return Object(X.jsxs)(X.Fragment,{children:[t.includes(h.f.CARMASK)?Object(X.jsx)(pe,{src:"".concat(ge.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/mask.png"),tellSize:n,filterColor:o.carmask_color,opacity:o.carmask_opacity,listening:!1}):Object(X.jsx)(X.Fragment,{}),t.includes(h.f.WIREFRAME)?Object(X.jsx)(pe,{src:"".concat(ge.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/wireframe.png"),tellSize:n,filterColor:o.wireframe_color,opacity:o.wireframe_opacity,listening:!1}):Object(X.jsx)(X.Fragment,{}),t.includes(h.f.GRID)?Object(X.jsxs)(X.Fragment,{children:[Array.from(Array(Math.round(r.width/c)),(function(e,t){return Object(X.jsx)(ie.h,{points:[Math.round(t*c),0,Math.round(t*c),r.width],stroke:o.grid_color||"#ddd",opacity:o.grid_opacity||1,strokeWidth:l,listening:!1},"x-".concat(t))})),Array.from(Array(Math.round(r.height/c)),(function(e,t){return Object(X.jsx)(ie.h,{points:[0,Math.round(t*c),r.height,Math.round(t*c)],stroke:o.grid_color||"#ddd",opacity:o.grid_opacity||1,strokeWidth:l,listening:!1},"y-".concat(t))}))]}):Object(X.jsx)(X.Fragment,{})]})},xe=function(e){var t=e.paintingGuides,a=e.currentCarMake,n=e.handleImageSize,r=e.guideData;return Object(X.jsxs)(X.Fragment,{children:[t.includes(h.f.SPONSORBLOCKS)?Object(X.jsx)(pe,{src:"".concat(ge.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/sponsor_blocks.png"),tellSize:n,filterColor:r.sponsor_color,opacity:r.sponsor_opacity,listening:!1}):Object(X.jsx)(X.Fragment,{}),t.includes(h.f.NUMBERBLOCKS)?Object(X.jsx)(pe,{src:"".concat(ge.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/number_blocks.png"),tellSize:n,filterColor:r.numberblock_color,opacity:r.numberblock_opacity,listening:!1}):Object(X.jsx)(X.Fragment,{})]})},_e=a(58),we=a.n(_e),Ce=function(e){var t=e.layers,a=e.currentCarMake,n=e.handleImageSize;return Object(X.jsx)(X.Fragment,{children:we.a.orderBy(t.filter((function(e){return e.layer_type===h.d.CAR&&e.layer_visible})),["layer_order"],["desc"]).map((function(e){return Object(X.jsx)(pe,{src:ge.a.assetsURL+"/templates/"+a.folder_directory.replace(" ","_")+"/".concat(e.layer_data.img),tellSize:n,filterColor:e.layer_data.color,listening:!1},e.id)}))})},ve=function(e){var t=e.layers,a=e.handleImageSize;return Object(X.jsx)(X.Fragment,{children:we.a.orderBy(t.filter((function(e){return e.layer_type===h.d.BASE&&e.layer_visible})),["layer_order","desc"]).map((function(e){return Object(X.jsx)(pe,{src:"".concat(ge.a.assetsURL,"/bases/").concat(e.layer_data.id,"/").concat(e.layer_data.img),tellSize:a,opacity:e.layer_data.opacity,filterColor:e.layer_data.color,listening:!1},e.id)}))})},Se=function(e){var t=e.layers,a=e.setCurrentLayer,n=e.frameSize,r=e.mouseMode,o=e.boardRotate,c=e.onChange;return Object(X.jsx)(X.Fragment,{children:we.a.orderBy(t.filter((function(e){return e.layer_type===h.d.OVERLAY&&e.layer_visible})),["layer_order"],["desc"]).map((function(e){var t=Object(Oe.d)(o,{x:e.layer_data.shadowOffsetX,y:e.layer_data.shadowOffsetY});return Object(X.jsx)(pe,{name:e.id.toString(),src:"".concat(ge.a.assetsURL,"/").concat(e.layer_data.source_file),x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),allowFit:!0,filterColor:e.layer_data.color,width:e.layer_data.width,height:e.layer_data.height,rotation:e.layer_data.rotation,boardRotate:o,opacity:e.layer_data.opacity,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:t.x,shadowOffsetY:t.y,onSelect:function(){return a(e)},listening:!e.layer_locked&&r===h.e.DEFAULT,frameSize:n,layer_data:e.layer_data,onChange:function(t){return c(e,t)}},e.id)}))})},ke=function(e){var t=e.fontFamily,a=e.fontFile,r=e.loadedFontList,c=(e.loadedList,e.isSelected,e.shadowColor),i=e.shadowBlur,s=e.shadowOpacity,d=e.shadowOffsetX,u=e.shadowOffsetY,j=e.onSelect,b=e.onChange,h=e.onFontLoad,f=Object(be.a)(e,["fontFamily","fontFile","loadedFontList","loadedList","isSelected","shadowColor","shadowBlur","shadowOpacity","shadowOffsetX","shadowOffsetY","onSelect","onChange","onFontLoad"]),y=Object(l.useState)(null),O=Object(o.a)(y,2),p=O[0],g=O[1],m=Object(l.useRef)();Object(l.useEffect)((function(){t&&a&&(r.includes(t)?g(t):x())}),[t,a]);var x=function(){new FontFace(t,a).load().then((function(e){document.fonts.add(e),h(t),g(t)})).catch((function(e){console.warn(e,t)}))};return Object(X.jsx)(ie.n,Object(n.a)(Object(n.a)({},f),{},{fontFamily:p,onClick:j,onTap:j,ref:m,shadowColor:m.current?c:null,shadowBlur:m.current?i:null,shadowOpacity:m.current?s:null,shadowOffsetX:m.current?d:null,shadowOffsetY:m.current?u:null,draggable:b,onDragStart:function(e){j()},onDragEnd:function(e){if(b){var t=m.current;b({left:Object(Oe.f)(e.target.x()),top:Object(Oe.f)(e.target.y()),width:Object(Oe.f)(Math.max(5,t.width())),height:Object(Oe.f)(Math.max(5,t.height()))})}},onTransformEnd:function(e){if(b){var t=m.current,a=t.scaleX(),n=t.scaleY();b({left:Object(Oe.f)(t.x()),top:Object(Oe.f)(t.y()),width:Object(Oe.f)(Math.max(5,t.width())),height:Object(Oe.f)(Math.max(5,t.height())),rotation:Object(Oe.f)(t.rotation())||0,scaleX:Object(Oe.f)(Math.max(.01,a)),scaleY:Object(Oe.f)(Math.max(.01,n)),flop:a>0?0:1,flip:n>0?0:1})}},perfectDrawEnabled:!1,shadowForStrokeEnabled:!1}))},Le=function(e){var t=e.layers,a=e.loadedFontList,n=e.fonts,r=e.frameSize,o=e.mouseMode,c=e.setCurrentLayer,l=e.boardRotate,i=e.onChange,s=e.onFontLoad,d=t.filter((function(e){return(e.layer_type===h.d.LOGO||e.layer_type===h.d.UPLOAD||e.layer_type===h.d.TEXT)&&e.layer_visible}));return Object(X.jsx)(X.Fragment,{children:we.a.orderBy(d,["layer_order"],["desc"]).map((function(e){var t=Object(Oe.d)(l,{x:e.layer_data.shadowOffsetX,y:e.layer_data.shadowOffsetY});if(e.layer_type!==h.d.TEXT)return Object(X.jsx)(pe,{name:e.id.toString(),src:"".concat(ge.a.assetsURL,"/").concat(e.layer_data.source_file),x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),allowFit:!0,width:e.layer_data.width,height:e.layer_data.height,frameSize:r,rotation:e.layer_data.rotation,boardRotate:l,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:t.x,shadowOffsetY:t.y,opacity:e.layer_data.opacity,layer_data:e.layer_data,onSelect:function(){return c(e)},listening:!e.layer_locked&&o===h.e.DEFAULT,onChange:function(t){return i(e,t)}},e.id);var d=n.length?n.find((function(t){return t.id===e.layer_data.font})):{};return Object(X.jsx)(ke,{name:e.id.toString(),text:e.layer_data.text,fontFamily:d.font_name,fontFile:d.font_file?"url(".concat(ge.a.assetsURL,"/").concat(d.font_file,")"):null,loadedFontList:a,onFontLoad:s,fontSize:e.layer_data.size,fill:e.layer_data.color,strokeWidth:e.layer_data.stroke,stroke:e.layer_data.scolor,strokeEnabled:!0,x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),offsetX:0,offsetY:0,opacity:e.layer_data.opacity,rotation:e.layer_data.rotation,scaleX:(e.layer_data.scaleX||1)*(1===e.layer_data.flop?-1:1),scaleY:(e.layer_data.scaleY||1)*(1===e.layer_data.flip?-1:1),shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:t.x,shadowOffsetY:t.y,onSelect:function(){return c(e)},listening:!e.layer_locked&&o===h.e.DEFAULT,onChange:function(t){return i(e,t)}},e.id)}))})},Re=function(e){var t=e.type,a=e.x,r=e.y,o=e.width,c=e.height,i=e.radius,s=e.points,d=e.lineCap,u=e.lineJoin,j=e.pointerLength,b=e.pointerWidth,f=e.innerRadius,y=e.outerRadius,O=e.cornerRadius,p=e.numPoints,g=e.angle,m=e.onSelect,x=e.onChange,_=e.shadowColor,w=e.shadowBlur,C=e.shadowOpacity,v=e.shadowOffsetX,S=e.shadowOffsetY,k=e.layer_data,L=Object(be.a)(e,["type","x","y","width","height","radius","points","lineCap","lineJoin","pointerLength","pointerWidth","innerRadius","outerRadius","cornerRadius","numPoints","angle","onSelect","onChange","shadowColor","shadowBlur","shadowOpacity","shadowOffsetX","shadowOffsetY","layer_data"]),R=Object(l.useRef)(),I=function(e){m()},F=function(e){if(x){var a=h.a[h.d.SHAPE][t];x(we.a.pick({left:Object(Oe.f)(e.target.x()),top:Object(Oe.f)(e.target.y())},a.filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")}))))}},B=function(e){if(x){var a=h.a[h.d.SHAPE][t],n=R.current,r=n.scaleX(),o=n.scaleY(),c=t!==h.e.ELLIPSE?n.width():n.radiusX(),l=t!==h.e.ELLIPSE?n.height():n.radiusY(),i=Math.abs(1!==Math.abs(Object(Oe.f)(o))?o:r);n.scaleX(r>0?1:-1),n.scaleY(o>0?1:-1),x(we.a.pick({left:Object(Oe.f)(n.x()),top:Object(Oe.f)(n.y()),width:Object(Oe.f)(Math.max(1,c*Math.abs(r))),height:Object(Oe.f)(Math.max(1,l*Math.abs(o))),radius:n.radius?Object(Oe.f)(Math.max(1,n.radius()*Math.abs(o))):0,innerRadius:n.innerRadius?Object(Oe.f)(Math.max(1,n.innerRadius()*Math.abs(o))):0,outerRadius:n.outerRadius?Object(Oe.f)(Math.max(1,n.outerRadius()*Math.abs(o))):0,rotation:Object(Oe.f)(n.rotation())||0,flop:r>0?0:1,flip:o>0?0:1,stroke:Object(Oe.f)(n.strokeWidth()*i),shadowBlur:Object(Oe.f)(n.shadowBlur()*i),shadowOffsetX:Object(Oe.f)(k.shadowOffsetX*Math.abs(r)),shadowOffsetY:Object(Oe.f)(k.shadowOffsetY*Math.abs(o)),cornerTopLeft:Object(Oe.f)(k.cornerTopLeft*i),cornerTopRight:Object(Oe.f)(k.cornerTopRight*i),cornerBottomLeft:Object(Oe.f)(k.cornerBottomLeft*i),cornerBottomRight:Object(Oe.f)(k.cornerBottomRight*i),points:s.map((function(e,t){return t%2===0?Object(Oe.f)(e*Math.abs(r)):Object(Oe.f)(e*Math.abs(o))}))},a.filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")}))))}};switch(t){case h.e.RECT:return Object(X.jsx)(ie.i,Object(n.a)(Object(n.a)({},L),{},{ref:R,shadowColor:R.current?_:null,shadowBlur:R.current?w:null,shadowOpacity:R.current?C:null,shadowOffsetX:R.current?v:null,shadowOffsetY:R.current?S:null,cornerRadius:O,x:a,y:r,width:o,height:c,draggable:x,onClick:m,onDragStart:I,onDragEnd:F,onTransformEnd:B,shadowForStrokeEnabled:!1}));case h.e.CIRCLE:return Object(X.jsx)(ie.c,Object(n.a)(Object(n.a)({},L),{},{ref:R,x:a,y:r,radius:i,shadowColor:R.current?_:null,shadowBlur:R.current?w:null,shadowOpacity:R.current?C:null,shadowOffsetX:R.current?v:null,shadowOffsetY:R.current?S:null,draggable:x,onClick:m,onDragStart:I,onDragEnd:F,onTransformEnd:B,shadowForStrokeEnabled:!1}));case h.e.ELLIPSE:return Object(X.jsx)(ie.d,Object(n.a)(Object(n.a)({},L),{},{ref:R,x:a,y:r,radiusX:o,radiusY:c,shadowColor:R.current?_:null,shadowBlur:R.current?w:null,shadowOpacity:R.current?C:null,shadowOffsetX:R.current?v:null,shadowOffsetY:R.current?S:null,draggable:x,onClick:m,onDragStart:I,onDragEnd:F,onTransformEnd:B,shadowForStrokeEnabled:!1}));case h.e.STAR:return Object(X.jsx)(ie.m,Object(n.a)(Object(n.a)({},L),{},{ref:R,x:a,y:r,innerRadius:f,outerRadius:y,numPoints:p,shadowColor:R.current?_:null,shadowBlur:R.current?w:null,shadowOpacity:R.current?C:null,shadowOffsetX:R.current?v:null,shadowOffsetY:R.current?S:null,draggable:x,onClick:m,onDragStart:I,onDragEnd:F,onTransformEnd:B,shadowForStrokeEnabled:!1}));case h.e.RING:return Object(X.jsx)(ie.k,Object(n.a)(Object(n.a)({},L),{},{ref:R,x:a,y:r,innerRadius:f,outerRadius:y,shadowColor:R.current?_:null,shadowBlur:R.current?w:null,shadowOpacity:R.current?C:null,shadowOffsetX:R.current?v:null,shadowOffsetY:R.current?S:null,draggable:x,onClick:m,onDragStart:I,onDragEnd:F,onTransformEnd:B,shadowForStrokeEnabled:!1}));case h.e.REGULARPOLYGON:return Object(X.jsx)(ie.j,Object(n.a)(Object(n.a)({},L),{},{ref:R,x:a,y:r,radius:i,sides:p,shadowColor:R.current?_:null,shadowBlur:R.current?w:null,shadowOpacity:R.current?C:null,shadowOffsetX:R.current?v:null,shadowOffsetY:R.current?S:null,draggable:x,onClick:m,onDragStart:I,onDragEnd:F,onTransformEnd:B,shadowForStrokeEnabled:!1}));case h.e.WEDGE:return Object(X.jsx)(ie.p,Object(n.a)(Object(n.a)({},L),{},{ref:R,x:a,y:r,radius:i,angle:g,shadowColor:R.current?_:null,shadowBlur:R.current?w:null,shadowOpacity:R.current?C:null,shadowOffsetX:R.current?v:null,shadowOffsetY:R.current?S:null,draggable:x,onClick:m,onDragStart:I,onDragEnd:F,onTransformEnd:B,shadowForStrokeEnabled:!1}));case h.e.ARC:return Object(X.jsx)(ie.a,Object(n.a)(Object(n.a)({},L),{},{ref:R,x:a,y:r,innerRadius:f,outerRadius:y,angle:g,shadowColor:R.current?_:null,shadowBlur:R.current?w:null,shadowOpacity:R.current?C:null,shadowOffsetX:R.current?v:null,shadowOffsetY:R.current?S:null,draggable:x,onClick:m,onDragStart:I,onDragEnd:F,onTransformEnd:B,shadowForStrokeEnabled:!1}));case h.e.LINE:case h.e.PEN:return Object(X.jsx)(ie.h,Object(n.a)(Object(n.a)({},L),{},{ref:R,x:a,y:r,points:s,lineCap:d,lineJoin:u,shadowColor:R.current?_:null,shadowBlur:R.current?w:null,shadowOpacity:R.current?C:null,shadowOffsetX:R.current?v:null,shadowOffsetY:R.current?S:null,draggable:x,onClick:m,onDragStart:I,onDragEnd:F,onTransformEnd:B}));case h.e.POLYGON:return Object(X.jsx)(ie.h,Object(n.a)(Object(n.a)({},L),{},{ref:R,x:a,y:r,points:s,lineCap:d,lineJoin:u,shadowColor:R.current?_:null,shadowBlur:R.current?w:null,shadowOpacity:R.current?C:null,shadowOffsetX:R.current?v:null,shadowOffsetY:R.current?S:null,draggable:x,closed:!0,onClick:m,onDragStart:I,onDragEnd:F,onTransformEnd:B}));case h.e.ARROW:return Object(X.jsx)(ie.b,Object(n.a)(Object(n.a)({},L),{},{ref:R,x:a,y:r,points:s,lineCap:d,lineJoin:u,pointerLength:j,pointerWidth:b,shadowColor:R.current?_:null,shadowBlur:R.current?w:null,shadowOpacity:R.current?C:null,shadowOffsetX:R.current?v:null,shadowOffsetY:R.current?S:null,draggable:x,onClick:m,onDragStart:I,onDragEnd:F,onTransformEnd:B}));default:return Object(X.jsx)(X.Fragment,{})}},Ie=function(e){var t=e.layers,a=e.drawingLayer,n=e.setCurrentLayer,r=e.boardRotate,o=e.mouseMode,c=e.onChange;return Object(X.jsxs)(X.Fragment,{children:[we.a.orderBy(t.filter((function(e){return e.layer_type===h.d.SHAPE&&e.layer_visible})),["layer_order"],["desc"]).map((function(e){var t=Object(Oe.d)(r,{x:e.layer_data.shadowOffsetX,y:e.layer_data.shadowOffsetY});return Object(X.jsx)(Re,{type:e.layer_data.type,x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),width:e.layer_data.width,height:e.layer_data.height,radius:e.layer_data.radius,points:e.layer_data.points?Object(Oe.g)(e.layer_data.points):[],pointerLength:e.layer_data.pointerLength,pointerWidth:e.layer_data.pointerWidth,lineCap:e.layer_data.lineCap,lineJoin:e.layer_data.lineJoin,innerRadius:e.layer_data.innerRadius,outerRadius:e.layer_data.outerRadius,numPoints:e.layer_data.numPoints,cornerRadius:[e.layer_data.cornerTopLeft,e.layer_data.cornerTopRight,e.layer_data.cornerBottomLeft,e.layer_data.cornerBottomRight],rotation:e.layer_data.rotation,angle:e.layer_data.angle,opacity:e.layer_data.opacity,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:t.x,shadowOffsetY:t.y,fill:e.layer_data.color,strokeWidth:e.layer_data.stroke,stroke:e.layer_data.scolor,strokeEnabled:!0,name:e.id.toString(),layer_data:e.layer_data,perfectDrawEnabled:!1,onSelect:function(){return n(e)},listening:!e.layer_locked&&o===h.e.DEFAULT,onChange:function(t){return c(e,t)}},e.id)})),a?Object(X.jsx)(Re,{type:a.layer_data.type,x:parseFloat(a.layer_data.left||0),y:parseFloat(a.layer_data.top||0),width:a.layer_data.width,height:a.layer_data.height,radius:a.layer_data.radius,angle:a.layer_data.angle,points:a.layer_data.points?Object(Oe.g)(a.layer_data.points):[],pointerLength:a.layer_data.pointerLength,pointerWidth:a.layer_data.pointerWidth,lineCap:a.layer_data.lineCap,lineJoin:a.layer_data.lineJoin,innerRadius:a.layer_data.innerRadius,outerRadius:a.layer_data.outerRadius,numPoints:a.layer_data.numPoints,fill:a.layer_data.color,strokeWidth:a.layer_data.stroke,stroke:a.layer_data.scolor,strokeEnabled:!0,layer_data:a.layer_data,perfectDrawEnabled:!1}):Object(X.jsx)(X.Fragment,{})]})},Fe=function(e){var t=e.selectedLayer,a=e.pressedKey,r=Object(l.useRef)(),o=Object(l.useMemo)((function(){return t&&(t.layer_data.sizeLocked||t.layer_data.scaleLocked||[h.e.CIRCLE,h.e.STAR,h.e.RING,h.e.REGULARPOLYGON,h.e.WEDGE,h.e.ARC].includes(t.layer_data.type)||"shift"===a)}),[t,a]);Object(l.useEffect)((function(){!function(){if(t){var e=r.current.getStage().findOne("."+t.id);if(e===r.current.node())return;e?r.current.nodes([e]):r.current.detach(),r.current.getLayer().batchDraw()}}()}));var c=function(e,t){return function(e,t,a){var r=Math.round(a.x+(e.x-a.x)*Math.cos(t)-(e.y-a.y)*Math.sin(t)),o=Math.round(a.y+(e.x-a.x)*Math.sin(t)+(e.y-a.y)*Math.cos(t));return Object(n.a)(Object(n.a)({},e),{},{rotation:e.rotation+t,x:r,y:o})}(e,t,function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e))};return t?Object(X.jsx)(ie.o,{ref:r,keepRatio:o,enabledAnchors:o?["top-left","top-right","bottom-left","bottom-right"]:["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],boundBoxFunc:function(e,t){var n=function(e){var t=e<0?2*Math.PI+e:e,a=Math.PI/12;return Math.round(t/a)*a}(t.rotation)-e.rotation;return"shift"===a?t.rotation-e.rotation===0?t:Math.abs(n)>0?c(e,n):e:t}}):Object(X.jsx)(X.Fragment,{})},Be=a(138),Te=function(){var e=Object(l.useRef)(null),t=Object(l.useState)({}),a=Object(o.a)(t,2),c=a[0],s=a[1],d=Object(l.useRef)(null),u=Object(l.useRef)(0),j=Object(l.useRef)(0),f=Object(l.useState)(0),p=Object(o.a)(f,2),g=p[0],m=p[1],x=Object(i.d)(),_=Object(se.a)(),w=_.width,C=_.height,v=_.ref,S=Object(i.e)((function(e){return e.boardReducer.frameSize})),k=Object(i.e)((function(e){return e.boardReducer.zoom})),L=Object(i.e)((function(e){return e.boardReducer.paintingGuides})),R=Object(i.e)((function(e){return e.boardReducer.pressedKey})),I=Object(i.e)((function(e){return e.boardReducer.boardRotate})),F=Object(i.e)((function(e){return e.boardReducer.mouseMode})),B=Object(i.e)((function(e){return e.carMakeReducer.current})),T=Object(i.e)((function(e){return e.schemeReducer.current})),E=Object(i.e)((function(e){return e.fontReducer.list})),D=Object(i.e)((function(e){return e.fontReducer.loadedList})),M=Object(i.e)((function(e){return e.layerReducer.list})),P=Object(i.e)((function(e){return e.layerReducer.current})),N=Object(i.e)((function(e){return e.layerReducer.drawingStatus}));Object(l.useEffect)((function(){switch(N){case O.a.ADD_TO_SHAPE:if(d.current){var e=Object(n.a)(Object(n.a)({},d.current),{},{layer_data:Object(n.a)(Object(n.a)({},d.current.layer_data),{},{points:Object(Oe.g)(d.current.layer_data.points)})});x(Object(O.g)(T.id,e)),x(Object(y.d)(h.e.DEFAULT))}break;case O.a.CLEAR_COMMAND:d.current=null,x(Object(O.n)(null))}}),[N]),le()((function(){F!==h.e.DEFAULT&&m(g+1)}),50*(Math.min(j.current-u.current>4?j.current-u.current:(j.current-u.current)/2,20)||1)),le()((function(){F!==h.e.DEFAULT&&(j.current=j.current+1)}),5);var A=function(e){F===h.e.DEFAULT&&(e.target===e.target.getStage()&&P&&x(Object(O.m)(null)))},W=function(e){(S.width<e.width||S.height<e.height)&&x(Object(y.c)({width:Math.max(S.width,e.width),height:Math.max(S.height,e.height)}))},Y=function(e,t){x(Object(O.p)(Object(n.a)(Object(n.a)({},e),{},{layer_data:Object(n.a)(Object(n.a)({},e.layer_data),t)})))},z=function(e){x(Object(O.m)(e))};return Object(X.jsx)(b.a,{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"auto",ref:v,children:Object(X.jsxs)(ie.l,{width:w,height:C,onMousedown:A,onContentMousedown:function(t){if(F!==h.e.DEFAULT){var a=Object(Oe.c)(e.current);if(d.current){if([h.e.LINE,h.e.ARROW,h.e.POLYGON].includes(F)){var r=Object(n.a)(Object(n.a)({},d.current),{},{layer_data:Object(n.a)(Object(n.a)({},d.current.layer_data),{},{points:Object(Oe.g)(d.current.layer_data.points)})});r.layer_data.points=r.layer_data.points.concat([a.x-d.current.layer_data.left,a.y-d.current.layer_data.top,a.x-d.current.layer_data.left,a.y-d.current.layer_data.top]),d.current=r}}else{var o=Object(n.a)(Object(n.a)({},h.b),{},{layer_type:h.d.SHAPE,layer_data:Object(n.a)(Object(n.a)({},h.b.layer_data),{},{type:F,name:F,left:a.x,top:a.y,color:"#000000",scolor:"#000000",stroke:1})});[h.e.LINE,h.e.ARROW,h.e.POLYGON].includes(F)&&(o.layer_data.stroke=5,o.layer_data.points=[0,0,0,0]),F===h.e.PEN&&(o.layer_data.stroke=5,o.layer_data.points=[0,0]),d.current=o}}},onContentMousemove:function(){if(F!==h.e.DEFAULT&&d.current){var t=Object(Oe.c)(e.current),a=t.x-d.current.layer_data.left,o=t.y-d.current.layer_data.top,c=t.x-d.current.layer_data.left,l=t.y-d.current.layer_data.top;if((d.current.layer_data.points.length<2||c!==d.current.layer_data.points[d.current.layer_data.points.length-2]||l!==d.current.layer_data.points[d.current.layer_data.points.length-1])&&(j.current-u.current>1||d.current.layer_data.points.length<2||Math.abs(c-d.current.layer_data.points[d.current.layer_data.points.length-2])>10||Math.abs(l-d.current.layer_data.points[d.current.layer_data.points.length-1])>10)){var i=Object(n.a)(Object(n.a)({},d.current),{},{layer_data:Object(n.a)(Object(n.a)({},d.current.layer_data),{},{points:Object(r.a)(d.current.layer_data.points),width:a,height:o,radius:Math.abs(a),innerRadius:Math.abs(a)/2.5,outerRadius:Math.abs(a)})});[h.e.LINE,h.e.ARROW,h.e.POLYGON].includes(F)&&i.layer_data.points.splice(-2,2,c,l),F===h.e.PEN&&(i.layer_data.points.push(c),i.layer_data.points.push(l)),d.current=i}u.current=j.current}},onContentMouseup:function(t){[h.e.DEFAULT,h.e.LINE,h.e.ARROW,h.e.POLYGON].includes(F)||x(Object(O.n)(O.a.ADD_TO_SHAPE));var a=Object(Oe.c)(e.current);s(a)},onDblClick:function(t){var a=Object(Oe.c)(e.current);[h.e.DEFAULT,h.e.LINE,h.e.ARROW,h.e.POLYGON].includes(F)&&d.current&&c.x===a.x&&c.y===a.y&&x(Object(O.n)(O.a.ADD_TO_SHAPE))},onTouchStart:A,onWheel:function(t){if(t.evt.preventDefault(),null!==e.current&&t.evt.ctrlKey){var a=e.current,n=a.scaleX(),r=a.getPointerPosition(),o=r.x,c=r.y,l={x:(o-a.x())/n,y:(c-a.y())/n},i=Math.max(Math.min(t.evt.deltaY>0?n/1.2:1.2*n,10),.25);x(Object(y.g)(i));var s={x:o-l.x*i,y:c-l.y*i};a.position(s),a.batchDraw()}},scaleX:k||1,scaleY:k||1,rotation:I,x:w/2,y:C/2,offsetX:w/2,offsetY:C/2,ref:e,draggable:F===h.e.DEFAULT,children:[Object(X.jsxs)(ie.e,{hitGraphEnabled:!1,children:[Object(X.jsx)(ie.i,{x:0,y:0,width:S.width,height:S.height,fill:"transparent"===T.base_color?T.base_color:"#"+T.base_color,listening:!1}),Object(X.jsx)(ve,{layers:M,handleImageSize:W}),Object(X.jsx)(xe,{currentCarMake:B,paintingGuides:L,handleImageSize:W,guideData:T.guide_data}),Object(X.jsx)(Ce,{layers:M,currentCarMake:B,handleImageSize:W})]}),Object(X.jsxs)(ie.g,{children:[Object(X.jsx)(Se,{layers:M,handleImageSize:W,frameSize:S,boardRotate:I,mouseMode:F,setCurrentLayer:z,onChange:Y}),Object(X.jsx)(Ie,{layers:M,drawingLayer:d.current,boardRotate:I,mouseMode:F,setCurrentLayer:z,onChange:Y}),Object(X.jsx)(Le,{layers:M,fonts:E,loadedFontList:D,frameSize:S,mouseMode:F,boardRotate:I,setCurrentLayer:z,onChange:Y,onFontLoad:function(e){x(Object(Be.c)(e))}})]}),Object(X.jsx)(ie.e,{hitGraphEnabled:!1,children:Object(X.jsx)(me,{currentCarMake:B,paintingGuides:L,handleImageSize:W,frameSize:S,guideData:T.guide_data})}),Object(X.jsx)(ie.g,{children:Object(X.jsx)(Fe,{selectedLayer:P,pressedKey:R})})]})})},Ee=a(137),De=a(1072),Me=a(1078),Pe=a(482),Ne=a(481),Ae=a(1073),We=a(1104),Ye=a(1076),ze=a(1077),Xe=a(1075),Ge=a(1055),Ue=a(1109),Ke=a(1067),Ve=Object(c.c)(g.a).withConfig({displayName:"SliderInput__Typography",componentId:"sc-7loe1z-0"})(p.b),He=Object(c.c)(Ge.a).withConfig({displayName:"SliderInput__CustomInput",componentId:"sc-7loe1z-1"})([".MuiInputBase-inputMarginDense{padding-top:4px;padding-bottom:5px;width:50px;}"]),qe=Object(c.c)(b.a).withConfig({displayName:"SliderInput__SliderWrapper",componentId:"sc-7loe1z-2"})(["width:80px;margin-left:8px;margin-right:8px;height:28px;"]),Je=Object(c.c)(A.a).withConfig({displayName:"SliderInput__Wrapper",componentId:"sc-7loe1z-3"})(["height:100%;align-items:center;"]),Ze=function(e){var t=e.label,a=e.min,n=e.max,r=e.value,o=e.setValue,c=e.step;return Object(X.jsxs)(Je,{container:!0,children:[Object(X.jsx)(A.a,{item:!0,xs:6,children:Object(X.jsx)(Ve,{variant:"body1",color:"textSecondary",mr:2,children:t})}),Object(X.jsx)(A.a,{item:!0,xs:6,children:Object(X.jsxs)(b.a,{display:"flex",alignItems:"center",children:[Object(X.jsx)(qe,{children:Object(X.jsx)(Ue.a,{min:a,max:n,step:c,value:r,onChange:function(e,t){return o(t)},"aria-labelledby":"shape-size",ValueLabelComponent:function(e){return Object(X.jsx)(Ke.a,{open:e.open,enterTouchDelay:0,placement:"top",title:e.value,children:e.children})}})}),Object(X.jsx)(He,{value:r,margin:"dense",type:"number",step:c||1,onChange:function(e){return o(""===e.target.value?a||0:Number(e.target.value))},onBlur:function(){r<a?o(a):r>n&&o(n)},inputProps:{min:a,max:n,"aria-labelledby":"input-slider"}})]})})]})},$e=a(1022),Qe=Object(c.c)(De.a).withConfig({displayName:"ColorPickerInput__ColorInputField",componentId:"sc-98haji-0"})(["width:80px;"]),et=function(e){var t=e.value,a=e.onChange,n=e.onInputChange,r=e.error,o=e.helperText;return Object(X.jsxs)(b.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(X.jsxs)(b.a,{display:"flex",alignItems:"center",children:[Object(X.jsx)($e.a,{value:t||"",onChange:function(e){return a(e.css.backgroundColor)},palette:h.g,deferred:!0,hideTextfield:!0}),Object(X.jsx)(Qe,{value:t||"",onChange:function(e){return n(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&a(e.target.value)}})]}),r?Object(X.jsx)(g.a,{color:"secondary",variant:"body2",children:o}):Object(X.jsx)(X.Fragment,{})]})},tt=Object(c.c)(m.a).withConfig({displayName:"SchemeSettingsDialog__Button",componentId:"sc-1bdw1wi-0"})(p.b),at=Object(c.c)(g.a).withConfig({displayName:"SchemeSettingsDialog__Typography",componentId:"sc-1bdw1wi-1"})(p.b),nt=Object(c.c)(Ae.a).withConfig({displayName:"SchemeSettingsDialog__CustomAccordionSummary",componentId:"sc-1bdw1wi-2"})(["background:#3f3f3f;border-radius:5px;"]),rt=function(e){var t=e.label,a=e.colorKey,n=e.opacityKey,r=e.errors,c=(e.handleBlur,e.handleChange,e.setFieldValue),i=(e.touched,e.values),s=e.extraChildren,d=Object(l.useState)(!0),u=Object(o.a)(d,2),j=u[0],h=u[1];return Object(X.jsxs)(We.a,{expanded:j,onChange:function(){return h(!j)},children:[Object(X.jsx)(nt,{expandIcon:Object(X.jsx)(Xe.a,{}),children:Object(X.jsx)(at,{children:t})}),Object(X.jsx)(Ye.a,{children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",mb:1,children:[Object(X.jsxs)(A.a,{container:!0,spacing:2,children:[Object(X.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(X.jsx)(at,{variant:"body1",color:"textSecondary",mr:2,children:"Color"}),Object(X.jsx)(et,{value:i[a],onChange:function(e){return c(a,e)},onInputChange:function(e){return c(a,e)},error:Boolean(r[a]),helperText:r[a]})]})}),Object(X.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(X.jsx)(Ze,{label:"Opacity",min:0,max:1,step:.01,value:i[n],setValue:function(e){return c(n,e)}})})]}),s]})})]})},ot=function(e){var t=e.onCancel,a=e.open,r=e.onApply,o=Object(i.e)((function(e){return e.schemeReducer.current.guide_data}));return Object(X.jsxs)(W.a,{"aria-labelledby":"insert-text-title",open:a,onClose:t,fullWidth:!0,maxWidth:"sm",children:[Object(X.jsx)(Y.a,{id:"insert-text-title",children:"Settings"}),Object(X.jsx)(Ne.b,{initialValues:{carmask_color:o.carmask_color||"",carmask_opacity:o.carmask_opacity||1,wireframe_color:o.wireframe_color||"",wireframe_opacity:o.wireframe_opacity||1,sponsor_color:o.sponsor_color||"",sponsor_opacity:o.sponsor_opacity||1,numberblock_color:o.numberblock_color||"",numberblock_opacity:o.numberblock_opacity||1,grid_color:o.grid_color||"",grid_opacity:o.grid_opacity||1,grid_padding:o.grid_padding||10,grid_stroke:o.grid_stroke||.1},validationSchema:Pe.b().shape({carmask_color:Pe.c().nullable().test("color-validation","Incorrect Color Format",Oe.a),wireframe_color:Pe.c().nullable().test("color-validation","Incorrect Color Format",Oe.a),sponsor_color:Pe.c().nullable().test("color-validation","Incorrect Color Format",Oe.a),numberblock_color:Pe.c().nullable().test("color-validation","Incorrect Color Format",Oe.a),grid_color:Pe.c().nullable().test("color-validation","Incorrect Color Format",Oe.a)}),validate:function(e){return console.log(e),{}},onSubmit:r,children:function(e){return Object(X.jsxs)(Ne.a,{onSubmit:e.handleSubmit,noValidate:!0,children:[Object(X.jsxs)(z.a,{dividers:!0,id:"insert-text-dialog-content",children:[Object(X.jsx)(rt,Object(n.a)({label:"Car Mask",colorKey:"carmask_color",opacityKey:"carmask_opacity"},e)),Object(X.jsx)(rt,Object(n.a)({label:"Wireframe",colorKey:"wireframe_color",opacityKey:"wireframe_opacity"},e)),Object(X.jsx)(rt,Object(n.a)({label:"Sponsor Blocks",colorKey:"sponsor_color",opacityKey:"sponsor_opacity"},e)),Object(X.jsx)(rt,Object(n.a)({label:"Number Blocks",colorKey:"numberblock_color",opacityKey:"numberblock_opacity"},e)),Object(X.jsx)(rt,Object(n.a)(Object(n.a)({label:"Grid",colorKey:"grid_color",opacityKey:"grid_opacity"},e),{},{extraChildren:Object(X.jsxs)(A.a,{container:!0,spacing:2,children:[Object(X.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(X.jsx)(Ze,{label:"Column Size",min:5,max:50,step:1,value:e.values.grid_padding,setValue:function(t){return e.setFieldValue("grid_padding",t)}})}),Object(X.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(X.jsx)(Ze,{label:"Stroke Width",min:.01,max:3,step:.01,value:e.values.grid_stroke,setValue:function(t){return e.setFieldValue("grid_stroke",t)}})})]})}))]}),Object(X.jsxs)(ze.a,{children:[Object(X.jsx)(tt,{onClick:t,color:"secondary",children:"Cancel"}),Object(X.jsx)(tt,{type:"submit",color:"primary",variant:"outlined",disabled:e.isSubmitting||!e.isValid,children:"Apply"})]})]})}})]})},ct=function(){var e=Object(i.d)(),t=Object(l.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(l.useState)(!1),d=Object(o.a)(s,2),u=d[0],j=d[1],h=Object(i.e)((function(e){return e.schemeReducer.current}));return Object(X.jsxs)(b.a,{display:"flex",justifyContent:"space-between",alignItems:"center",px:1,mb:2,children:[Object(X.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(X.jsx)(De.a,{value:h?h.name:"",onChange:function(t){e(Object(Ee.g)(t.target.value)),c(!0)}}),r?Object(X.jsx)(m.a,{onClick:function(){e(Object(Ee.b)(h.id,h.name)),c(!1)},variant:"outlined",children:"Save"}):Object(X.jsx)(X.Fragment,{})]}),Object(X.jsx)(x.a,{onClick:function(){return j(!0)},children:Object(X.jsx)(Me.a,{})}),Object(X.jsx)(ot,{open:u,onApply:function(t){e(Object(Ee.h)(Object(n.a)(Object(n.a)({},h),{},{guide_data:t}))),j(!1)},onCancel:function(){return j(!1)}})]})},lt=a(19),it=a(12),st=a(990),dt=a(1083),ut=a(1084),jt=a(1085),bt=a(1074),ht=a(1087),ft=a(1086),yt=a(1071),Ot=a(1079),pt=a(1080),gt=a(1081),mt=a(1082),xt=Object(c.c)(b.a).withConfig({displayName:"PartItem__Wrapper",componentId:"sc-1vufzst-0"})(["cursor:pointer;&.sortable-chosen{background:rgba(255,255,255,0.2);}&.activeItem{background:rgba(0,0,0,0.5);}"]),_t=function(e){var t=e.layer_visible,a=e.layer_locked,n=e.text,r=e.toggleVisible,o=e.toggleLocked,c=e.selected,l=e.disableLock,i=e.onSelect;return Object(X.jsx)(xt,{p:2,mb:1,display:"flex",width:"100%",border:1,borderColor:"grey.700",borderRadius:5,onClick:i,className:Object(it.a)(c&&"activeItem"),children:Object(X.jsxs)(A.a,{container:!0,justify:"space-between",alignItems:"center",spacing:2,children:[Object(X.jsx)(A.a,{item:!0,xs:10,children:Object(X.jsxs)(A.a,{container:!0,wrap:"nowrap",alignItems:"center",spacing:2,children:[Object(X.jsx)(A.a,{item:!0,xs:2,children:Object(X.jsx)(x.a,{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r()},size:"small",children:t?Object(X.jsx)(Ot.a,{}):Object(X.jsx)(pt.a,{})})}),Object(X.jsx)(A.a,{item:!0,xs:10,children:Object(X.jsx)(g.a,{noWrap:!0,children:n})})]})}),l?Object(X.jsx)(X.Fragment,{}):Object(X.jsx)(A.a,{item:!0,xs:2,children:Object(X.jsx)(x.a,{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),o()},size:"small",children:a?Object(X.jsx)(gt.a,{}):Object(X.jsx)(mt.a,{})})})]})})},wt=Object(yt.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),Ct=Object(c.c)(m.a).withConfig({displayName:"PartGroup__Button",componentId:"d20ix9-0"})(p.b),vt=Object(c.c)(dt.a).withConfig({displayName:"PartGroup__ButtonGroup",componentId:"d20ix9-1"})(p.b),St=Object(c.c)(Ct).withConfig({displayName:"PartGroup__AddButton",componentId:"d20ix9-2"})(["min-width:40px;padding:3px 5px;.MuiButton-startIcon{margin-right:2px;}.MuiButton-endIcon{margin:0;}.fa-lg{font-size:1.3333333333em !important;}"]),kt=function(e){var t=wt(),a=Object(i.d)(),r=Object(l.useState)(!0),c=Object(o.a)(r,2),s=c[0],d=c[1],u=Object(i.e)((function(e){return e.layerReducer.current})),j=e.layerList,f=e.title,p=e.actions,g=e.extraChildren,m=e.disableLock,_=e.disableDnd,w=we.a.orderBy(j,["layer_order"],["asc"]);Object(l.useEffect)((function(){for(var e in w)w[e].layer_order!==parseInt(e)+1&&a(Object(O.p)(Object(n.a)(Object(n.a)({},w[e]),{},{layer_order:parseInt(e)+1})))}),[j.length]);var C=function(e,t){var r=j.find((function(t){return t.id===e}));a(Object(O.p)(Object(n.a)(Object(n.a)({},r),{},Object(lt.a)({},t,r[t]?0:1))))};return Object(X.jsx)(b.a,{mb:2,children:Object(X.jsxs)(ut.a,{children:[Object(X.jsx)(jt.a,{title:f,action:Object(X.jsxs)(b.a,{display:"flex",children:[p?Object(X.jsx)(vt,{mr:1,children:p.map((function(e,t){return Object(X.jsx)(St,{onClick:e.onClick,size:"small",startIcon:Object(X.jsx)(ft.a,{}),endIcon:Object(X.jsx)(L.a,{icon:e.icon,size:"lg"}),variant:"outlined"},t)}))}):Object(X.jsx)(X.Fragment,{}),Object(X.jsx)(x.a,{onClick:function(){d((function(e){return!e}))},className:Object(it.a)(t.expand,Object(lt.a)({},t.expandOpen,s)),children:Object(X.jsx)(Xe.a,{})})]})}),Object(X.jsx)(bt.a,{in:s,children:Object(X.jsxs)(ht.a,{children:[Object(X.jsx)(st.ReactSortable,{list:w,setList:function(e){var t=function(t){var r=j.find((function(a){return a.id==e[t].id}));r&&r.layer_order!==parseInt(t)+1&&a(Object(O.p)(Object(n.a)(Object(n.a)({},r),{},{layer_order:parseInt(t)+1})))};for(var r in e)t(r)},animation:150,onChoose:function(e){return console.log(e)},onSelect:function(e){return console.log(e)},sort:!_,children:w.map((function(e){return Object(X.jsx)(_t,{text:e.layer_data.name,layer_visible:e.layer_visible,layer_locked:e.layer_locked,toggleVisible:function(){return C(e.id,"layer_visible")},toggleLocked:function(){return C(e.id,"layer_locked")},selected:u&&u.id===e.id,onSelect:function(){return t=e,a(Object(O.m)(t)),void a(Object(y.d)(h.e.DEFAULT));var t},disableLock:m},e.id)}))}),g]})})]})})},Lt=a(440),Rt=a(134),It=a(1088),Ft=a(1089),Bt=a(1090),Tt=Object(c.c)(m.a).withConfig({displayName:"BasePaintDialog__Button",componentId:"sc-1dconu8-0"})(p.b),Et=Object(c.c)(Lt.a).withConfig({displayName:"BasePaintDialog__CustomInfiniteScroll",componentId:"sc-1dconu8-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),Dt=Object(c.c)(It.a).withConfig({displayName:"BasePaintDialog__CustomGridList",componentId:"sc-1dconu8-2"})(["overflow:hidden !important;margin:0 !important;"]),Mt=Object(c.c)(Ft.a).withConfig({displayName:"BasePaintDialog__CustomGridListTile",componentId:"sc-1dconu8-3"})(["cursor:pointer;"]),Pt=c.c.img.withConfig({displayName:"BasePaintDialog__CustomImg",componentId:"sc-1dconu8-4"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),Nt=function(e){var t=Object(l.useState)(15),a=Object(o.a)(t,2),n=a[0],r=a[1],c=e.basePaints,i=e.onCancel,s=e.open,d=e.onOpenBase;return Object(X.jsxs)(W.a,{"aria-labelledby":"base-paints-title",open:s,onClose:i,children:[Object(X.jsx)(Y.a,{id:"base-paints-title",children:"Select Base Paint"}),Object(X.jsx)(z.a,{dividers:!0,id:"base-paint-dialog-content",children:Object(X.jsx)(Et,{dataLength:n,next:function(){r(n+15)},hasMore:n<c.length,loader:Object(X.jsx)(Rt.a,{}),scrollableTarget:"base-paint-dialog-content",children:Object(X.jsx)(Dt,{cellHeight:178,cols:3,children:c.slice(0,n).map((function(e){return Object(X.jsxs)(Mt,{cols:1,onClick:function(){return d(e)},children:[Object(X.jsx)(Pt,{src:"".concat(ge.a.assetsURL,"/bases/").concat(e.id,"/preview.jpg"),alt:e.base_description}),Object(X.jsx)(Bt.a,{title:e.base_name,subtitle:e.base_description})]},e.id)}))})})}),Object(X.jsx)(ze.a,{children:Object(X.jsx)(Tt,{onClick:i,color:"primary",children:"Cancel"})})]})},At=a(1105),Wt=a(993),Yt=a.n(Wt),zt=Object(yt.a)((function(e){return{search:Object(lt.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},border:"1px solid #8A8A8A",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}})),Xt=function(e){var t=e.value,a=e.onChange,n=zt();return Object(X.jsxs)("div",{className:n.search,children:[Object(X.jsx)("div",{className:n.searchIcon,children:Object(X.jsx)(Yt.a,{})}),Object(X.jsx)(At.a,{placeholder:"Search",classes:{root:n.inputRoot,input:n.inputInput},value:t,inputProps:{"aria-label":"search"},onChange:function(e){a(e.target.value)}})]})},Gt=Object(c.c)(m.a).withConfig({displayName:"ShapeDialog__Button",componentId:"sc-12nk2gq-0"})(p.b),Ut=Object(c.c)(Lt.a).withConfig({displayName:"ShapeDialog__CustomInfiniteScroll",componentId:"sc-12nk2gq-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),Kt=Object(c.c)(It.a).withConfig({displayName:"ShapeDialog__CustomGridList",componentId:"sc-12nk2gq-2"})(["overflow:hidden !important;margin:0 !important;"]),Vt=Object(c.c)(Ft.a).withConfig({displayName:"ShapeDialog__CustomGridListTile",componentId:"sc-12nk2gq-3"})(["cursor:pointer;"]),Ht=Object(c.c)(z.a).withConfig({displayName:"ShapeDialog__CustomDialogContent",componentId:"sc-12nk2gq-4"})(["width:600px;"]),qt=c.c.img.withConfig({displayName:"ShapeDialog__CustomImg",componentId:"sc-12nk2gq-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),Jt=function(e){var t=Object(l.useState)(15),a=Object(o.a)(t,2),n=a[0],r=a[1],c=Object(l.useState)(""),i=Object(o.a)(c,2),s=i[0],d=i[1],u=e.shapes,j=e.onCancel,h=e.open,f=e.onOpenShape,y=u.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase())}));return Object(X.jsxs)(W.a,{"aria-labelledby":"shape-title",open:h,onClose:j,children:[Object(X.jsx)(Y.a,{id:"shape-title",children:"Insert Shape"}),Object(X.jsxs)(Ht,{dividers:!0,children:[Object(X.jsx)(b.a,{mb:2,children:Object(X.jsx)(Xt,{value:s,onChange:function(e){return d(e)}})}),Object(X.jsx)(b.a,{id:"shape-dialog-content",overflow:"auto",height:"70vh",children:Object(X.jsx)(Ut,{dataLength:n,next:function(){r(n+15)},hasMore:n<y.length,loader:Object(X.jsx)(Rt.a,{}),scrollableTarget:"shape-dialog-content",children:Object(X.jsx)(Kt,{cellHeight:178,cols:3,children:y.slice(0,n).map((function(e){return Object(X.jsxs)(Vt,{cols:1,onClick:function(){return f(e)},children:[Object(X.jsx)(qt,{src:"".concat(ge.a.assetsURL,"/").concat(e.overlay_thumb),alt:e.name}),Object(X.jsx)(Bt.a,{title:e.name,subtitle:e.description})]},e.id)}))})})})]}),Object(X.jsx)(ze.a,{children:Object(X.jsx)(Gt,{onClick:j,color:"primary",children:"Cancel"})})]})},Zt=a(1098),$t=a(1091),Qt=a(17),ea=Object(c.c)(m.a).withConfig({displayName:"LogoDialog__Button",componentId:"sc-39n1mp-0"})(p.b),ta=Object(c.c)(g.a).withConfig({displayName:"LogoDialog__Typography",componentId:"sc-39n1mp-1"})(p.b),aa=Object(c.c)(Lt.a).withConfig({displayName:"LogoDialog__CustomInfiniteScroll",componentId:"sc-39n1mp-2"})([".infinite-scroll-component{overflow:hidden !important;}"]),na=Object(c.c)(It.a).withConfig({displayName:"LogoDialog__CustomGridList",componentId:"sc-39n1mp-3"})(["overflow:hidden !important;margin:0 !important;"]),ra=Object(c.c)(Ft.a).withConfig({displayName:"LogoDialog__CustomGridListTile",componentId:"sc-39n1mp-4"})(["cursor:pointer;"]),oa=Object(c.c)(z.a).withConfig({displayName:"LogoDialog__CustomDialogContent",componentId:"sc-39n1mp-5"})(["width:600px;"]),ca=c.c.img.withConfig({displayName:"LogoDialog__CustomImg",componentId:"sc-39n1mp-6"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),la=Object(Qt.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:40,width:"100%",backgroundColor:"#635ee7"}}})((function(e){return Object(X.jsx)(Zt.a,Object(n.a)(Object(n.a)({},e),{},{TabIndicatorProps:{children:Object(X.jsx)("span",{})}}))})),ia=Object(Qt.a)((function(e){return{root:{textTransform:"none",color:"#fff",fontWeight:e.typography.fontWeightRegular,fontSize:"1rem",marginRight:0,padding:"6px 5px",minWidth:60,"&:focus":{opacity:1}}}}))((function(e){return Object(X.jsx)($t.a,Object(n.a)({disableRipple:!0},e))})),sa=function(e){var t=e.children,a=e.value,r=e.index,o=Object(be.a)(e,["children","value","index"]);return Object(X.jsx)("div",Object(n.a)(Object(n.a)({role:"tabpanel",hidden:a!==r,id:"logo-tabpanel-".concat(r),"aria-labelledby":"logo-tab-".concat(r)},o),{},{children:a===r&&Object(X.jsx)(X.Fragment,{children:t})}))};function da(e){return{id:"logo-tab-".concat(e),"aria-controls":"logo-tabpanel-".concat(e)}}var ua=function(e){var t=Object(l.useState)(15),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(l.useState)(15),s=Object(o.a)(i,2),d=s[0],u=s[1],j=Object(l.useState)(0),h=Object(o.a)(j,2),f=h[0],y=h[1],O=Object(l.useState)(""),p=Object(o.a)(O,2),g=p[0],m=p[1],x=e.logos,_=e.onCancel,w=e.open,C=e.onOpenLogo,v=x.filter((function(e){return e.name.toLowerCase().includes(g.toLowerCase())&&"flag"!==e.type})),S=x.filter((function(e){return e.name.toLowerCase().includes(g.toLowerCase())&&"flag"===e.type}));return Object(X.jsxs)(W.a,{"aria-labelledby":"logo-title",open:w,onClose:_,children:[Object(X.jsx)(Y.a,{id:"logo-title",children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(X.jsx)(ta,{variant:"h5",mr:2,children:"Insert:"}),Object(X.jsxs)(la,{value:f,onChange:function(e,t){y(t),m("")},"aria-label":"logo tab",children:[Object(X.jsx)(ia,Object(n.a)({label:"Logo"},da(0))),Object(X.jsx)(ia,Object(n.a)({label:"Flag"},da(1)))]})]})}),Object(X.jsxs)(oa,{dividers:!0,children:[Object(X.jsx)(b.a,{mb:2,children:Object(X.jsx)(Xt,{value:g,onChange:function(e){return m(e)}})}),Object(X.jsx)(sa,{value:f,index:0,children:Object(X.jsx)(b.a,{id:"logo-dialog-content",overflow:"auto",height:"70vh",children:Object(X.jsx)(aa,{dataLength:r,next:function(){c(r+15)},hasMore:r<v.length,loader:Object(X.jsx)(Rt.a,{}),scrollableTarget:"logo-dialog-content",children:Object(X.jsx)(na,{cellHeight:178,cols:3,children:v.slice(0,r).map((function(e){return Object(X.jsxs)(ra,{cols:1,onClick:function(){return C(e)},children:[Object(X.jsx)(ca,{src:"".concat(ge.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object(X.jsx)(Bt.a,{title:e.name})]},e.id)}))})})})}),Object(X.jsx)(sa,{value:f,index:1,children:Object(X.jsx)(b.a,{id:"flag-dialog-content",overflow:"auto",height:"70vh",children:Object(X.jsx)(aa,{dataLength:d,next:function(){u(d+15)},hasMore:d<S.length,loader:Object(X.jsx)(Rt.a,{}),scrollableTarget:"flag-dialog-content",children:Object(X.jsx)(na,{cellHeight:178,cols:3,children:S.slice(0,d).map((function(e){return Object(X.jsxs)(ra,{cols:1,onClick:function(){return C(e)},children:[Object(X.jsx)(ca,{src:"".concat(ge.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object(X.jsx)(Bt.a,{title:e.name})]},e.id)}))})})})})]}),Object(X.jsx)(ze.a,{children:Object(X.jsx)(ea,{onClick:_,color:"primary",children:"Cancel"})})]})},ja=Object(c.c)(m.a).withConfig({displayName:"ConfirmDialog__Button",componentId:"sc-1cd3vhn-0"})(p.b),ba=function(e){var t=e.text,a=e.open,n=e.onCancel,r=e.onConfirm;return Object(X.jsxs)(W.a,{"aria-labelledby":"confirm-title",open:a,children:[Object(X.jsx)(Y.a,{id:"confirm-title",children:"Confirm"}),Object(X.jsx)(z.a,{dividers:!0,children:Object(X.jsx)(g.a,{variant:"body1",children:t})}),Object(X.jsxs)(ze.a,{children:[Object(X.jsx)(ja,{onClick:n,color:"primary",children:"Cancel"}),Object(X.jsx)(ja,{onClick:r,color:"default",variant:"outlined",autoFocus:!0,children:"Confirm"})]})]})},ha=Object(c.c)(m.a).withConfig({displayName:"YesNoDialog__Button",componentId:"uvsbdx-0"})(p.b),fa=Object(c.c)(b.a).withConfig({displayName:"YesNoDialog__TextWrapper",componentId:"uvsbdx-1"})(["font-size:1rem;"]),ya=function(e){var t=e.text,a=e.open,n=e.onYes,r=e.onNo;return Object(X.jsxs)(W.a,{"aria-labelledby":"confirm-title",open:a,children:[Object(X.jsx)(Y.a,{id:"confirm-title",children:"Confirm"}),Object(X.jsx)(z.a,{dividers:!0,children:Object(X.jsx)(fa,{children:t})}),Object(X.jsxs)(ze.a,{children:[Object(X.jsx)(ha,{onClick:n,color:"secondary",variant:"outlined",autoFocus:!0,children:"Yes"}),Object(X.jsx)(ha,{onClick:r,color:"primary",variant:"outlined",children:"No"})]})]})},Oa=a(1092),pa=a(1021),ga=a(140),ma=a(10),xa=a(49),_a=Object(c.c)(m.a).withConfig({displayName:"UploadDialog__Button",componentId:"vk7mct-0"})(p.b),wa=Object(c.c)(Lt.a).withConfig({displayName:"UploadDialog__CustomInfiniteScroll",componentId:"vk7mct-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),Ca=Object(c.c)(It.a).withConfig({displayName:"UploadDialog__CustomGridList",componentId:"vk7mct-2"})(["overflow:hidden !important;margin:0 !important;"]),va=Object(c.c)(Ft.a).withConfig({displayName:"UploadDialog__CustomGridListTile",componentId:"vk7mct-3"})(["cursor:pointer;"]),Sa=Object(c.c)(z.a).withConfig({displayName:"UploadDialog__CustomDialogContent",componentId:"vk7mct-4"})(["width:600px;"]),ka=c.c.img.withConfig({displayName:"UploadDialog__CustomImg",componentId:"vk7mct-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),La=Object(c.c)(x.a).withConfig({displayName:"UploadDialog__DeleteButton",componentId:"vk7mct-6"})(["color:#ccc;"]),Ra=function(e){var t=Object(i.d)(),a=Object(i.e)((function(e){return e.authReducer.user})),n=Object(i.e)((function(e){return e.schemeReducer.current})),r=Object(l.useState)(null),c=Object(o.a)(r,2),s=c[0],d=c[1],u=Object(l.useState)([]),j=Object(o.a)(u,2),h=j[0],f=j[1],y=Object(l.useState)(15),p=Object(o.a)(y,2),g=p[0],m=p[1],x=Object(l.useState)([]),_=Object(o.a)(x,2),w=_[0],C=_[1],v=Object(l.useState)(1),S=Object(o.a)(v,2),k=S[0],L=S[1],R=e.uploads,I=e.onCancel,F=e.open,B=e.onOpenUpload,T=function(e){return e.substring(e.lastIndexOf("uploads/")+"uploads/".length,e.lastIndexOf("."))},E=function(){var e=Object(je.a)(ue.a.mark((function e(){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Deleting: ",s),e.prev=1,e.next=4,xa.a.getSchemeListByUploadID(s.id);case 4:(a=e.sent).length?f(a):(t(Object(ga.b)(s,!0)),d(null)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(Object(ma.b)({message:e.t0.message})),d(null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(t(Object(O.j)(s.id)),t(Object(O.m)(null))),t(Object(ga.b)(s,e)),d(null),f([])};return Object(X.jsxs)(W.a,{"aria-labelledby":"upload-title",open:F,onClose:I,children:[Object(X.jsx)(Y.a,{id:"upload-title",children:"My Uploads"}),Object(X.jsxs)(Sa,{dividers:!0,children:[Object(X.jsx)(pa.a,{onChange:function(e){C(e),console.log(e)},value:w,showFileNamesInPreview:!0,showFileNames:!0,maxFiles:10},k),w.length?Object(X.jsx)(b.a,{mt:1,width:"100%",display:"flex",justifyContent:"center",children:Object(X.jsx)(_a,{variant:"contained",color:"primary",onClick:function(){console.log(w),t(Object(ga.d)(a.id,n.id,w)),C([]),L(k+1)},children:"Save To My Upload List"})}):Object(X.jsx)(X.Fragment,{}),Object(X.jsx)(b.a,{id:"upload-dialog-content",overflow:"auto",height:"40vh",mt:1,children:Object(X.jsx)(wa,{dataLength:g,next:function(){m(g+15)},hasMore:g<R.length,loader:Object(X.jsx)(Rt.a,{}),scrollableTarget:"upload-dialog-content",children:Object(X.jsx)(Ca,{cellHeight:178,cols:3,children:R.slice(0,g).map((function(e){return Object(X.jsxs)(va,{cols:1,onClick:function(){return B(e)},children:[Object(X.jsx)(ka,{src:"".concat(ge.a.assetsURL,"/").concat(e.file_name),alt:T(e.file_name)}),Object(X.jsx)(Bt.a,{title:T(e.file_name),actionIcon:Object(X.jsx)(La,{onClick:function(t){return function(e,t){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),d(t)}(t,e)},children:Object(X.jsx)(Oa.a,{})})})]},e.id)}))})})})]}),Object(X.jsx)(ze.a,{children:Object(X.jsx)(_a,{onClick:I,color:"primary",children:"Cancel"})}),Object(X.jsx)(ba,{text:s?'Are you sure to delete "'.concat(T(s.file_name),'"?'):"",open:!!s,onCancel:function(){return d(null)},onConfirm:E}),Object(X.jsx)(ya,{text:h.length?Object(X.jsxs)(X.Fragment,{children:["The Projects below have the associated file:",Object(X.jsx)("ul",{children:h.map((function(e,t){return Object(X.jsx)("li",{children:e.name},t)}))}),"Would you like delete all of them?"]}):"",open:!!h.length,onYes:function(){return D(!0)},onNo:function(){return D(!1)}})]})},Ia=a(1069),Fa=a(1110),Ba=Object(c.c)(_.a).withConfig({displayName:"FontSelect__Select",componentId:"sc-79nr26-0"})(p.b),Ta=Object(c.c)(Ba).withConfig({displayName:"FontSelect__CustomSelect",componentId:"sc-79nr26-1"})([".MuiSelect-selectMenu{display:flex;align-items:center;height:2rem;}"]),Ea=c.c.img.withConfig({displayName:"FontSelect__FontImage",componentId:"sc-79nr26-2"})(["width:506px;filter:invert(1);"]),Da=function(e){var t=e.fontList,a=e.value,n=e.onChange;return Object(X.jsx)(Ta,{labelId:"font-select-label",id:"font-select-outlined",value:a,onChange:n,label:"Font",mb:4,renderValue:function(e){var a=t.find((function(t){return t.id===e}));return a?Object(X.jsx)(Ea,{src:"".concat(ge.a.assetsURL,"/").concat(a.font_preview),alt:a.font_name}):Object(X.jsx)(X.Fragment,{children:"Select Font"})},children:t.map((function(e){return Object(X.jsx)(C.a,{value:e.id,children:Object(X.jsx)(Ea,{src:"".concat(ge.a.assetsURL,"/").concat(e.font_preview),alt:e.font_name})},e.id)}))})},Ma=Object(c.c)(m.a).withConfig({displayName:"TextDialog__Button",componentId:"sc-18v4ol9-0"})(p.b),Pa=Object(c.c)(De.a).withConfig({displayName:"TextDialog__TextField",componentId:"sc-18v4ol9-1"})(p.b),Na=Object(c.c)(g.a).withConfig({displayName:"TextDialog__Typography",componentId:"sc-18v4ol9-2"})(p.b),Aa=Object(c.c)(Pa).withConfig({displayName:"TextDialog__CustomeTextField",componentId:"sc-18v4ol9-3"})([".MuiInputBase-input{height:2rem;}"]),Wa=Object(c.c)(b.a).withConfig({displayName:"TextDialog__TextPreviewWrapper",componentId:"sc-18v4ol9-4"})(["background:white;overflow:auto;"]),Ya=Object(c.c)(b.a).withConfig({displayName:"TextDialog__TextPreview",componentId:"sc-18v4ol9-5"})(["color:",";-webkit-text-stroke-width:","px;-webkit-text-stroke-color:",";font-size:","px;font-family:",";transform:rotate(","deg);"],(function(e){return e.color}),(function(e){return e.stroke}),(function(e){return e.scolor}),(function(e){return e.size}),(function(e){return e.font}),(function(e){return e.rotate})),za=function(e){var t=e.fontList,a=e.errors,n=e.handleBlur,r=e.handleChange,o=e.setFieldValue,c=e.touched,s=e.values,d=Object(i.d)(),u=Object(i.e)((function(e){return e.fontReducer.loadedList}));return Object(l.useEffect)((function(){var e,a,n=t.length?t.find((function(e){return e.id===s.font})):null;n&&!u.includes(n.font_name)&&(e=n.font_name,a="url(".concat(ge.a.assetsURL,"/").concat(n.font_file,")"),new FontFace(e,a).load().then((function(t){document.fonts.add(t),d(Object(Be.c)(e))})).catch((function(t){console.warn(t,e)})))}),[s.font]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Aa,{name:"text",label:"Text",placeholder:"Input Text here",variant:"outlined",value:s.text,error:Boolean(c.text&&a.text),helperText:c.text&&a.text,onBlur:n,onChange:r,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}),Object(X.jsxs)(Ia.a,{variant:"outlined",children:[Object(X.jsx)(Fa.a,{id:"font-select-label",children:"Font"}),Object(X.jsx)(Da,{value:s.font,onChange:function(e){return o("font",e.target.value)},fontList:t})]}),Object(X.jsxs)(A.a,{container:!0,spacing:2,children:[Object(X.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(X.jsx)(Ze,{label:"Font Size",min:6,max:72,value:s.size,setValue:function(e){return o("size",e)}})}),Object(X.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(X.jsx)(Na,{variant:"body1",color:"textSecondary",mr:2,children:"Font Color"}),Object(X.jsx)(et,{value:s.color,onChange:function(e){return o("color",e)},onInputChange:function(e){return o("color",e)},error:Boolean(a.color),helperText:a.color})]})})]}),Object(X.jsxs)(A.a,{container:!0,spacing:2,children:[Object(X.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(X.jsx)(Ze,{label:"Stroke Width",min:0,max:10,value:s.stroke,setValue:function(e){return o("stroke",e)}})}),Object(X.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(X.jsx)(Na,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"}),Object(X.jsx)(et,{value:s.scolor,onChange:function(e){return o("scolor",e)},onInputChange:function(e){return o("scolor",e)},error:Boolean(a.scolor),helperText:a.scolor})]})})]}),Object(X.jsx)(A.a,{container:!0,spacing:2,children:Object(X.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(X.jsx)(Ze,{label:"Rotation",min:-179,max:179,value:s.rotation,setValue:function(e){return o("rotation",e)}})})}),Object(X.jsx)(Wa,{width:"100%",height:"200px",my:2,display:"flex",justifyContent:"center",alignItems:"center",children:Object(X.jsx)(Ya,{color:s.color,stroke:s.stroke,scolor:s.scolor,size:s.size,rotate:s.rotation,font:t.find((function(e){return e.id===s.font})).font_name,children:s.text})})]})},Xa=function(e){var t=e.fontList,a=e.onCancel,r=e.open,o=e.onCreate;return Object(X.jsxs)(W.a,{"aria-labelledby":"insert-text-title",open:r,onClose:a,children:[Object(X.jsx)(Y.a,{id:"insert-text-title",children:"Insert Text"}),Object(X.jsx)(Ne.b,{initialValues:{text:"",font:1,size:14,color:"#000000",stroke:0,scolor:"#000000",rotation:0},validationSchema:Pe.b().shape({text:Pe.c().required("Required"),color:Pe.c().nullable().test("color-validation","Incorrect Color Format",Oe.a),scolor:Pe.c().nullable().test("color-validation","Incorrect Color Format",Oe.a)}),validate:function(e){return console.log(e),{}},onSubmit:o,children:function(e){return Object(X.jsxs)(Ne.a,{onSubmit:e.handleSubmit,children:[Object(X.jsx)(z.a,{dividers:!0,id:"insert-text-dialog-content",children:Object(X.jsx)(za,Object(n.a)(Object(n.a)({},e),{},{fontList:t}))}),Object(X.jsxs)(ze.a,{children:[Object(X.jsx)(Ma,{onClick:a,color:"secondary",children:"Cancel"}),Object(X.jsx)(Ma,{type:"submit",color:"primary",variant:"outlined",disabled:e.isSubmitting,children:"Create"})]})]})}})]})},Ga=Object(c.c)(b.a).withConfig({displayName:"sideBar__Wrapper",componentId:"sc-10zcfrv-0"})(["width:350px;background:#666666;overflow:auto;"]),Ua=Object(c.c)(m.a).withConfig({displayName:"sideBar__ColorApplyButton",componentId:"sc-10zcfrv-1"})(["padding:3px 15px 5px;"]),Ka=function(e){var t=e.dialog,a=e.setDialog,n=e.focusBoard,r=Object(i.d)(),c=Object(i.e)((function(e){return e.schemeReducer.current})),s=Object(i.e)((function(e){return e.layerReducer.list})),d=Object(i.e)((function(e){return e.overlayReducer.list})),u=Object(i.e)((function(e){return e.logoReducer.list})),j=Object(i.e)((function(e){return e.uploadReducer.list})),f=Object(i.e)((function(e){return e.fontReducer.list})),y=Object(i.e)((function(e){return e.boardReducer.frameSize})),p=Object(i.e)((function(e){return e.basePaintReducer.list})),g="transparent"===c.base_color?c.base_color:"#"+c.base_color,m=Object(l.useState)(g),x=Object(o.a)(m,2),_=x[0],w=x[1],C=Object(l.useState)(!1),v=Object(o.a)(C,2),S=v[0],k=v[1];return Object(X.jsxs)(Ga,{p:3,children:[Object(X.jsx)(ct,{}),Object(X.jsx)(kt,{title:"Car Parts",layerList:s.filter((function(e){return e.layer_type===h.d.CAR})),disableLock:!0,disableDnd:!0}),Object(X.jsx)(kt,{title:"Logos & Text",layerList:s.filter((function(e){return e.layer_type===h.d.LOGO||e.layer_type===h.d.TEXT||e.layer_type===h.d.UPLOAD})),actions:[{onClick:function(){return a(h.c.UPLOAD)},icon:P.e},{onClick:function(){return a(h.c.LOGO)},icon:P.g},{onClick:function(){return a(h.c.TEXT)},icon:P.f}]}),Object(X.jsx)(kt,{title:"Shapes",layerList:s.filter((function(e){return e.layer_type===h.d.SHAPE}))}),Object(X.jsx)(kt,{title:"Overlays",layerList:s.filter((function(e){return e.layer_type===h.d.OVERLAY})),actions:[{onClick:function(){return a(h.c.SHAPE)},icon:P.j}]}),Object(X.jsx)(kt,{title:"Base Paint",layerList:s.filter((function(e){return e.layer_type===h.d.BASE})),actions:[{onClick:function(){return a(h.c.BASEPAINT)},icon:P.a}],disableLock:!0,extraChildren:Object(X.jsxs)(b.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(X.jsx)(et,{value:_,onChange:function(e){r(Object(Ee.a)(c.id,e)),w(e),k(!1)},onInputChange:function(e){w(e),k(e!==g)}}),S?Object(X.jsx)(Ua,{onClick:function(){r(Object(Ee.a)(c.id,_)),k(!1)},variant:"outlined",children:"Apply"}):Object(X.jsx)(X.Fragment,{})]})}),Object(X.jsx)(Nt,{open:t===h.c.BASEPAINT,basePaints:p,onOpenBase:function(e){r(Object(O.f)(c.id,e)),a(null),n()},onCancel:function(){return a(null)}}),Object(X.jsx)(Jt,{open:t===h.c.SHAPE,shapes:d,onOpenShape:function(e){r(Object(O.d)(c.id,e,y)),a(null),n()},onCancel:function(){return a(null)}}),Object(X.jsx)(ua,{open:t===h.c.LOGO,logos:u,onOpenLogo:function(e){r(Object(O.c)(c.id,e,y)),a(null),n()},onCancel:function(){return a(null)}}),Object(X.jsx)(Ra,{open:t===h.c.UPLOAD,uploads:j,onOpenUpload:function(e){r(Object(O.e)(c.id,e,y)),a(null),n()},onCancel:function(){return a(null)}}),Object(X.jsx)(Xa,{open:t===h.c.TEXT,fontList:f,onCreate:function(e){r(Object(O.h)(c.id,e,y)),a(null),n()},onCancel:function(){return a(null)}})]})},Va=Object(c.c)(De.a).withConfig({displayName:"GeneralProperty__CustomeTextField",componentId:"sc-55yoxm-0"})([".MuiInputBase-input{height:2rem;}"]),Ha=function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=e.setFieldValue,c=e.touched,i=e.values,s=e.toggleField,d=Object(l.useState)(!0),u=Object(o.a)(d,2),j=u[0],f=u[1],y=Object(l.useMemo)((function(){return i.layer_type!==h.d.SHAPE?h.a[i.layer_type]:h.a[i.layer_type][i.layer_data.type]}),[i]);return"{}"!==JSON.stringify(t)&&console.log(t),y.includes("layer_data.name")||y.includes("layer_data.text")||y.includes("layer_data.numPoints")||y.includes("layer_data.angle")?Object(X.jsxs)(We.a,{expanded:j,onChange:function(){return f(!j)},children:[Object(X.jsx)(Ae.a,{expandIcon:Object(X.jsx)(Xe.a,{}),children:Object(X.jsx)(g.a,{children:"General"})}),Object(X.jsx)(Ye.a,{children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[y.includes("layer_data.name")?Object(X.jsx)(Va,{name:"layer_data.name",label:"Name",variant:"outlined",value:i.layer_data.name,error:Boolean(c.layer_data&&c.layer_data.name&&t.layer_data&&t.layer_data.name),helperText:c.layer_data&&c.layer_data.name&&t.layer_data&&t.layer_data.name,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{}),y.includes("layer_data.text")?Object(X.jsx)(Va,{name:"layer_data.text",label:"Text",variant:"outlined",value:i.layer_data.text,error:Boolean(c.layer_data&&c.layer_data.text&&t.layer_data&&t.layer_data.text),helperText:c.layer_data&&c.layer_data.text&&t.layer_data&&t.layer_data.text,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{}),y.includes("layer_data.numPoints")?Object(X.jsx)(Va,{name:"layer_data.numPoints",label:"Number of Points",variant:"outlined",type:"number",value:Math.round(i.layer_data.numPoints),error:Boolean(c.layer_data&&c.layer_data.numPoints&&t.layer_data&&t.layer_data.numPoints),helperText:c.layer_data&&c.layer_data.numPoints&&t.layer_data&&t.layer_data.numPoints,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{}),y.includes("layer_data.angle")?Object(X.jsx)(Ze,{label:"Angle",min:0,max:360,value:Math.round(i.layer_data.angle),setValue:function(e){return r("layer_data.angle",e)}}):Object(X.jsx)(X.Fragment,{}),y.includes("layer_visible")?Object(X.jsxs)(b.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object(X.jsx)(g.a,{variant:"body1",color:"textSecondary",mr:2,children:"Visibility"}),Object(X.jsx)(x.a,{onClick:function(){return s("layer_visible")},size:"small",children:i.layer_visible?Object(X.jsx)(Ot.a,{}):Object(X.jsx)(pt.a,{})})]}):Object(X.jsx)(X.Fragment,{}),y.includes("layer_locked")?Object(X.jsxs)(b.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object(X.jsx)(g.a,{variant:"body1",color:"textSecondary",mr:2,children:"Locking"}),Object(X.jsx)(x.a,{onClick:function(){return s("layer_locked")},size:"small",children:i.layer_locked?Object(X.jsx)(gt.a,{}):Object(X.jsx)(mt.a,{})})]}):Object(X.jsx)(X.Fragment,{})]})})]}):Object(X.jsx)(X.Fragment,{})},qa=a(1093),Ja=a(1094),Za=Object(c.c)(De.a).withConfig({displayName:"SizeProperty__CustomeTextField",componentId:"sc-8yv6lk-0"})([".MuiInputBase-input{height:2rem;}"]),$a=Object(c.c)(x.a).withConfig({displayName:"SizeProperty__CustomIconButton",componentId:"sc-8yv6lk-1"})(["margin:0 5px;height:50px;"]),Qa=function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=e.setFieldValue,c=e.touched,i=e.values,s=e.toggleLayerDataField,d=e.currentLayer,u=e.pressedKey,j=Object(l.useState)(!0),f=Object(o.a)(j,2),y=f[0],O=f[1],p=Object(l.useMemo)((function(){return i.layer_type!==h.d.SHAPE?h.a[i.layer_type]:h.a[i.layer_type][i.layer_data.type]}),[i]),m="shift"===u;return p.includes("layer_data.width")||p.includes("layer_data.height")||p.includes("layer_data.scaleX")||p.includes("layer_data.scaleY")||p.includes("layer_data.radius")||p.includes("layer_data.innerRadius")||p.includes("layer_data.outerRadius")||p.includes("layer_data.pointerLength")||p.includes("layer_data.pointerWidth")?Object(X.jsxs)(We.a,{expanded:y,onChange:function(){return O(!y)},children:[Object(X.jsx)(Ae.a,{expandIcon:Object(X.jsx)(Xe.a,{}),children:Object(X.jsx)(g.a,{children:"Size"})}),Object(X.jsx)(Ye.a,{children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[Object(X.jsxs)(b.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[p.includes("layer_data.width")?Object(X.jsx)(Za,{name:"layer_data.width",label:i.layer_data.type!==h.e.ELLIPSE?"Width":"RadiusX",variant:"outlined",type:"number",value:Object(Oe.f)(i.layer_data.width),error:Boolean(c.layer_data&&c.layer_data.width&&t.layer_data&&t.layer_data.width),helperText:c.layer_data&&c.layer_data.width&&t.layer_data&&t.layer_data.width,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;i.layer_data.sizeLocked&&r("layer_data.height",t*d.layer_data.height/d.layer_data.width),r("layer_data.width",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{}),p.includes("layer_data.width")&&p.includes("layer_data.height")?Object(X.jsx)($a,{onClick:function(){return s("sizeLocked")},children:i.layer_data.sizeLocked||m?Object(X.jsx)(qa.a,{}):Object(X.jsx)(Ja.a,{})}):Object(X.jsx)(X.Fragment,{}),p.includes("layer_data.height")?Object(X.jsx)(Za,{name:"layer_data.height",label:i.layer_data.type!==h.e.ELLIPSE?"Height":"RadiusY",variant:"outlined",type:"number",value:Object(Oe.f)(i.layer_data.height),error:Boolean(c.layer_data&&c.layer_data.height&&t.layer_data&&t.layer_data.height),helperText:c.layer_data&&c.layer_data.height&&t.layer_data&&t.layer_data.height,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;i.layer_data.sizeLocked&&r("layer_data.width",t*d.layer_data.width/d.layer_data.height),r("layer_data.height",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{})]}),Object(X.jsxs)(b.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[p.includes("layer_data.scaleX")?Object(X.jsx)(Za,{name:"layer_data.scaleX",label:"ScaleX",variant:"outlined",type:"number",value:Object(Oe.f)(i.layer_data.scaleX),error:Boolean(c.layer_data&&c.layer_data.scaleX&&t.layer_data&&t.layer_data.scaleX),helperText:c.layer_data&&c.layer_data.scaleX&&t.layer_data&&t.layer_data.scaleX,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;i.layer_data.scaleLocked&&r("layer_data.scaleY",t*d.layer_data.scaleY/d.layer_data.scaleX),r("layer_data.scaleX",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{}),p.includes("layer_data.scaleX")&&p.includes("layer_data.scaleY")?Object(X.jsx)($a,{onClick:function(){return s("scaleLocked")},children:i.layer_data.scaleLocked||m?Object(X.jsx)(qa.a,{}):Object(X.jsx)(Ja.a,{})}):Object(X.jsx)(X.Fragment,{}),p.includes("layer_data.scaleY")?Object(X.jsx)(Za,{name:"layer_data.scaleY",label:"ScaleY",variant:"outlined",type:"number",value:Object(Oe.f)(i.layer_data.scaleY),error:Boolean(c.layer_data&&c.layer_data.scaleY&&t.layer_data&&t.layer_data.scaleY),helperText:c.layer_data&&c.layer_data.scaleY&&t.layer_data&&t.layer_data.scaleY,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;i.layer_data.scaleLocked&&r("layer_data.scaleX",t*d.layer_data.scaleX/d.layer_data.scaleY),r("layer_data.scaleY",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{})]}),Object(X.jsxs)(b.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[p.includes("layer_data.innerRadius")?Object(X.jsx)(Za,{name:"layer_data.innerRadius",label:"Inner Radius",variant:"outlined",type:"number",value:Object(Oe.f)(i.layer_data.innerRadius),error:Boolean(c.layer_data&&c.layer_data.innerRadius&&t.layer_data&&t.layer_data.innerRadius),helperText:c.layer_data&&c.layer_data.innerRadius&&t.layer_data&&t.layer_data.innerRadius,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;i.layer_data.scaleLocked&&r("layer_data.outerRadius",t*d.layer_data.outerRadius/d.layer_data.innerRadius),r("layer_data.innerRadius",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{}),p.includes("layer_data.innerRadius")&&p.includes("layer_data.outerRadius")?Object(X.jsx)($a,{onClick:function(){return s("scaleLocked")},children:i.layer_data.scaleLocked||m?Object(X.jsx)(qa.a,{}):Object(X.jsx)(Ja.a,{})}):Object(X.jsx)(X.Fragment,{}),p.includes("layer_data.outerRadius")?Object(X.jsx)(Za,{name:"layer_data.outerRadius",label:"Outer Radius",variant:"outlined",type:"number",value:Object(Oe.f)(i.layer_data.outerRadius),error:Boolean(c.layer_data&&c.layer_data.outerRadius&&t.layer_data&&t.layer_data.outerRadius),helperText:c.layer_data&&c.layer_data.outerRadius&&t.layer_data&&t.layer_data.outerRadius,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;i.layer_data.scaleLocked&&r("layer_data.innerRadius",t*d.layer_data.innerRadius/d.layer_data.outerRadius),r("layer_data.outerRadius",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{})]}),p.includes("layer_data.radius")?Object(X.jsx)(Za,{name:"layer_data.radius",label:"Radius",variant:"outlined",type:"number",value:Object(Oe.f)(i.layer_data.radius),error:Boolean(c.layer_data&&c.layer_data.radius&&t.layer_data&&t.layer_data.radius),helperText:c.layer_data&&c.layer_data.radius&&t.layer_data&&t.layer_data.radius,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{}),p.includes("layer_data.pointerWidth")?Object(X.jsx)(Za,{name:"layer_data.pointerWidth",label:"Pointer Width",variant:"outlined",type:"number",value:Object(Oe.f)(i.layer_data.pointerWidth),error:Boolean(c.layer_data&&c.layer_data.pointerWidth&&t.layer_data&&t.layer_data.pointerWidth),helperText:c.layer_data&&c.layer_data.pointerWidth&&t.layer_data&&t.layer_data.pointerWidth,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{}),p.includes("layer_data.pointerLength")?Object(X.jsx)(Za,{name:"layer_data.pointerLength",label:"Pointer Length",variant:"outlined",type:"number",value:Object(Oe.f)(i.layer_data.pointerLength),error:Boolean(c.layer_data&&c.layer_data.pointerLength&&t.layer_data&&t.layer_data.pointerLength),helperText:c.layer_data&&c.layer_data.pointerLength&&t.layer_data&&t.layer_data.pointerLength,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{})]})})]}):Object(X.jsx)(X.Fragment,{})},en=Object(c.c)(De.a).withConfig({displayName:"PositionProperty__CustomeTextField",componentId:"sc-16v7yid-0"})([".MuiInputBase-input{height:2rem;}"]),tn=function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=(e.setFieldValue,e.touched),c=e.values,i=Object(l.useState)(!0),s=Object(o.a)(i,2),d=s[0],u=s[1],j=Object(l.useMemo)((function(){return c.layer_type!==h.d.SHAPE?h.a[c.layer_type]:h.a[c.layer_type][c.layer_data.type]}),[c]);return j.includes("layer_data.left")||j.includes("layer_data.top")?Object(X.jsxs)(We.a,{expanded:d,onChange:function(){return u(!d)},children:[Object(X.jsx)(Ae.a,{expandIcon:Object(X.jsx)(Xe.a,{}),children:Object(X.jsx)(g.a,{children:"Position"})}),Object(X.jsx)(Ye.a,{children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[j.includes("layer_data.left")?Object(X.jsx)(en,{name:"layer_data.left",label:"X",variant:"outlined",type:"number",value:Object(Oe.f)(c.layer_data.left),error:Boolean(r.layer_data&&r.layer_data.left&&t.layer_data&&t.layer_data.left),helperText:r.layer_data&&r.layer_data.left&&t.layer_data&&t.layer_data.left,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{}),j.includes("layer_data.top")?Object(X.jsx)(en,{name:"layer_data.top",label:"Y",variant:"outlined",type:"number",value:Object(Oe.f)(c.layer_data.top),error:Boolean(r.layer_data&&r.layer_data.top&&t.layer_data&&t.layer_data.top),helperText:r.layer_data&&r.layer_data.top&&t.layer_data&&t.layer_data.top,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{})]})})]}):Object(X.jsx)(X.Fragment,{})},an=Object(c.c)(Ia.a).withConfig({displayName:"FontProperty__FormControl",componentId:"sc-8xx6kn-0"})(p.b),nn=function(e){var t=e.errors,a=(e.handleBlur,e.handleChange,e.setFieldValue),n=(e.touched,e.values),r=e.fontList,c=Object(l.useState)(!0),i=Object(o.a)(c,2),s=i[0],d=i[1],u=Object(l.useMemo)((function(){return n.layer_type!==h.d.SHAPE?h.a[n.layer_type]:h.a[n.layer_type][n.layer_data.type]}),[n]);return u.includes("layer_data.font")?Object(X.jsxs)(We.a,{expanded:s,onChange:function(){return d(!s)},children:[Object(X.jsx)(Ae.a,{expandIcon:Object(X.jsx)(Xe.a,{}),children:Object(X.jsx)(g.a,{children:"Font"})}),Object(X.jsx)(Ye.a,{children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[u.includes("layer_data.font")?Object(X.jsxs)(an,{variant:"outlined",mt:2,children:[Object(X.jsx)(Fa.a,{id:"font-select-label",children:"Font"}),Object(X.jsx)(Da,{value:n.layer_data.font,onChange:function(e){return a("layer_data.font",e.target.value)},fontList:r})]}):Object(X.jsx)(X.Fragment,{}),u.includes("layer_data.color")?Object(X.jsxs)(A.a,{container:!0,spacing:2,children:[Object(X.jsx)(A.a,{item:!0,xs:6,children:Object(X.jsx)(g.a,{variant:"body1",color:"textSecondary",mr:2,children:"Font Color"})}),Object(X.jsx)(A.a,{item:!0,xs:6,children:Object(X.jsx)(et,{value:n.layer_data.color,onChange:function(e){return a("layer_data.color",e)},onInputChange:function(e){return a("layer_data.color",e)},error:Boolean(t.layer_data&&t.layer_data.color),helperText:t.layer_data&&t.layer_data.color})})]}):Object(X.jsx)(X.Fragment,{}),u.includes("layer_data.size")?Object(X.jsx)(Ze,{label:"Font Size",min:6,max:72,value:n.layer_data.size,setValue:function(e){return a("layer_data.size",e)}}):Object(X.jsx)(X.Fragment,{})]})})]}):Object(X.jsx)(X.Fragment,{})},rn=function(e){var t=e.errors,a=(e.handleBlur,e.handleChange,e.setFieldValue),n=(e.touched,e.values),r=Object(l.useState)(!0),c=Object(o.a)(r,2),i=c[0],s=c[1],d=Object(l.useMemo)((function(){return n.layer_type!==h.d.SHAPE?h.a[n.layer_type]:h.a[n.layer_type][n.layer_data.type]}),[n]);return d.includes("layer_data.stroke")||d.includes("layer_data.scolor")?Object(X.jsxs)(We.a,{expanded:i,onChange:function(){return s(!i)},children:[Object(X.jsx)(Ae.a,{expandIcon:Object(X.jsx)(Xe.a,{}),children:Object(X.jsx)(g.a,{children:"Stroke"})}),Object(X.jsx)(Ye.a,{children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[d.includes("layer_data.scolor")?Object(X.jsxs)(A.a,{container:!0,spacing:2,children:[Object(X.jsx)(A.a,{item:!0,xs:6,children:Object(X.jsx)(g.a,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"})}),Object(X.jsx)(A.a,{item:!0,xs:6,children:Object(X.jsx)(et,{value:n.layer_data.scolor,onChange:function(e){return a("layer_data.scolor",e)},onInputChange:function(e){return a("layer_data.scolor",e)},error:Boolean(t.layer_data&&t.layer_data.scolor),helperText:t.layer_data&&t.layer_data.scolor})})]}):Object(X.jsx)(X.Fragment,{}),d.includes("layer_data.stroke")?Object(X.jsx)(Ze,{label:"Stroke Width",min:0,max:10,value:n.layer_data.stroke,setValue:function(e){return a("layer_data.stroke",e)}}):Object(X.jsx)(X.Fragment,{})]})})]}):Object(X.jsx)(X.Fragment,{})},on=function(e){var t=e.errors,a=(e.handleBlur,e.handleChange,e.setFieldValue),n=(e.touched,e.values),r=Object(l.useState)(!0),c=Object(o.a)(r,2),i=c[0],s=c[1],d=Object(l.useMemo)((function(){return n.layer_type!==h.d.SHAPE?h.a[n.layer_type]:h.a[n.layer_type][n.layer_data.type]}),[n]);return d.includes("layer_data.color")||d.includes("layer_data.opacity")?Object(X.jsxs)(We.a,{expanded:i,onChange:function(){return s(!i)},children:[Object(X.jsx)(Ae.a,{expandIcon:Object(X.jsx)(Xe.a,{}),children:Object(X.jsx)(g.a,{children:"Color/Opacity"})}),Object(X.jsx)(Ye.a,{children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[d.includes("layer_data.color")&&n.layer_type!==h.d.TEXT?Object(X.jsxs)(A.a,{container:!0,spacing:2,children:[Object(X.jsx)(A.a,{item:!0,xs:6,children:Object(X.jsx)(g.a,{variant:"body1",color:"textSecondary",mr:2,children:"Color"})}),Object(X.jsx)(A.a,{item:!0,xs:6,children:Object(X.jsx)(et,{value:n.layer_data.color,onChange:function(e){return a("layer_data.color",e)},onInputChange:function(e){return a("layer_data.color",e)},error:Boolean(t.layer_data&&t.layer_data.color),helperText:t.layer_data&&t.layer_data.color})})]}):Object(X.jsx)(X.Fragment,{}),d.includes("layer_data.opacity")?Object(X.jsx)(Ze,{label:"Opacity",min:0,max:1,step:.01,value:n.layer_data.opacity,setValue:function(e){return a("layer_data.opacity",e)}}):Object(X.jsx)(X.Fragment,{})]})})]}):Object(X.jsx)(X.Fragment,{})},cn=a(1095),ln=a(1100),sn=function(e){e.errors,e.handleBlur,e.handleChange;var t=e.setFieldValue,a=(e.touched,e.values),n=Object(l.useState)(!0),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(l.useMemo)((function(){return a.layer_type!==h.d.SHAPE?h.a[a.layer_type]:h.a[a.layer_type][a.layer_data.type]}),[a]);return s.includes("layer_data.rotation")||s.includes("layer_data.flip")||s.includes("layer_data.flop")?Object(X.jsxs)(We.a,{expanded:c,onChange:function(){return i(!c)},children:[Object(X.jsx)(Ae.a,{expandIcon:Object(X.jsx)(Xe.a,{}),children:Object(X.jsx)(g.a,{children:"Rotation"})}),Object(X.jsx)(Ye.a,{children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[s.includes("layer_data.rotation")?Object(X.jsx)(Ze,{label:"Rotation",min:-179,max:179,value:Math.round(a.layer_data.rotation),setValue:function(e){return t("layer_data.rotation",e)}}):Object(X.jsx)(X.Fragment,{}),Object(X.jsxs)(b.a,{display:"flex",justifyContent:"space-around",children:[s.includes("layer_data.flop")?Object(X.jsx)(Ia.a,{component:"fieldset",children:Object(X.jsx)(cn.a,{control:Object(X.jsx)(ln.a,{color:"primary",checked:Boolean(a.layer_data.flop),onChange:function(e){return t("layer_data.flop",e.target.checked?1:0)}}),label:"Flop",labelPlacement:"start"})}):Object(X.jsx)(X.Fragment,{}),s.includes("layer_data.flip")?Object(X.jsx)(Ia.a,{component:"fieldset",children:Object(X.jsx)(cn.a,{control:Object(X.jsx)(ln.a,{color:"primary",checked:Boolean(a.layer_data.flip),onChange:function(e){return t("layer_data.flip",e.target.checked?1:0)}}),label:"Flip",labelPlacement:"start"})}):Object(X.jsx)(X.Fragment,{})]})]})})]}):Object(X.jsx)(X.Fragment,{})},dn=Object(c.c)(De.a).withConfig({displayName:"ShadowProperty__CustomeTextField",componentId:"sc-1d6vteb-0"})([".MuiInputBase-input{height:2rem;}"]),un=function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=e.setFieldValue,c=e.touched,i=e.values,s=Object(l.useState)(!0),d=Object(o.a)(s,2),u=d[0],j=d[1],f=Object(l.useMemo)((function(){return i.layer_type!==h.d.SHAPE?h.a[i.layer_type]:h.a[i.layer_type][i.layer_data.type]}),[i]);return f.includes("layer_data.shadowColor")||f.includes("layer_data.shadowBlur")||f.includes("layer_data.shadowOpacity")||f.includes("layer_data.shadowOffsetX")||f.includes("layer_data.shadowOffsetY")?Object(X.jsxs)(We.a,{expanded:u,onChange:function(){return j(!u)},children:[Object(X.jsx)(Ae.a,{expandIcon:Object(X.jsx)(Xe.a,{}),children:Object(X.jsx)(g.a,{children:"Shadow"})}),Object(X.jsx)(Ye.a,{children:Object(X.jsxs)(b.a,{display:"flex",flexDirection:"column",width:"100%",children:[f.includes("layer_data.shadowColor")?Object(X.jsxs)(A.a,{container:!0,spacing:2,children:[Object(X.jsx)(A.a,{item:!0,xs:6,children:Object(X.jsx)(g.a,{variant:"body1",color:"textSecondary",mr:2,children:"Shadow Color"})}),Object(X.jsx)(A.a,{item:!0,xs:6,children:Object(X.jsx)(et,{value:i.layer_data.shadowColor,onChange:function(e){return r("layer_data.shadowColor",e)},onInputChange:function(e){return r("layer_data.shadowColor",e)},error:Boolean(t.layer_data&&t.layer_data.shadowColor),helperText:t.layer_data&&t.layer_data.shadowColor})})]}):Object(X.jsx)(X.Fragment,{}),f.includes("layer_data.shadowBlur")?Object(X.jsx)(dn,{name:"layer_data.shadowBlur",label:"Shadow Blur",variant:"outlined",type:"number",value:Object(Oe.f)(i.layer_data.shadowBlur),error:Boolean(c.layer_data&&c.layer_data.shadowBlur&&t.layer_data&&t.layer_data.shadowBlur),helperText:c.layer_data&&c.layer_data.shadowBlur&&t.layer_data&&t.layer_data.shadowBlur,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{}),f.includes("layer_data.shadowOpacity")?Object(X.jsx)(Ze,{label:"Shadow Opacity",min:0,max:1,step:.01,value:i.layer_data.shadowOpacity,setValue:function(e){return r("layer_data.shadowOpacity",e)}}):Object(X.jsx)(X.Fragment,{}),f.includes("layer_data.shadowOffsetX")?Object(X.jsx)(dn,{name:"layer_data.shadowOffsetX",label:"Shadow OffsetX",variant:"outlined",type:"number",value:Object(Oe.f)(i.layer_data.shadowOffsetX),error:Boolean(c.layer_data&&c.layer_data.shadowOffsetX&&t.layer_data&&t.layer_data.shadowOffsetX),helperText:c.layer_data&&c.layer_data.shadowOffsetX&&t.layer_data&&t.layer_data.shadowOffsetX,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{}),f.includes("layer_data.shadowOffsetY")?Object(X.jsx)(dn,{name:"layer_data.shadowOffsetY",label:"Shadow OffsetY",variant:"outlined",type:"number",value:Object(Oe.f)(i.layer_data.shadowOffsetY),error:Boolean(c.layer_data&&c.layer_data.shadowOffsetY&&t.layer_data&&t.layer_data.shadowOffsetY),helperText:c.layer_data&&c.layer_data.shadowOffsetY&&t.layer_data&&t.layer_data.shadowOffsetY,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{})]})})]}):Object(X.jsx)(X.Fragment,{})},jn=Object(c.c)(De.a).withConfig({displayName:"CornerProperty__CustomeTextField",componentId:"sc-1szt41-0"})([".MuiInputBase-input{height:2rem;}"]),bn=function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=(e.setFieldValue,e.touched),c=e.values,i=Object(l.useState)(!0),s=Object(o.a)(i,2),d=s[0],u=s[1],j=Object(l.useMemo)((function(){return c.layer_type!==h.d.SHAPE?h.a[c.layer_type]:h.a[c.layer_type][c.layer_data.type]}),[c]);return j.includes("layer_data.cornerTopLeft")||j.includes("layer_data.cornerTopRight")||j.includes("layer_data.cornerBottomLeft")||j.includes("layer_data.cornerBottomRight")?Object(X.jsxs)(We.a,{expanded:d,onChange:function(){return u(!d)},children:[Object(X.jsx)(Ae.a,{expandIcon:Object(X.jsx)(Xe.a,{}),children:Object(X.jsx)(g.a,{children:"Corner Radius"})}),Object(X.jsx)(Ye.a,{children:Object(X.jsxs)(A.a,{container:!0,spacing:1,children:[Object(X.jsx)(A.a,{item:!0,xs:6,children:j.includes("layer_data.cornerTopLeft")?Object(X.jsx)(jn,{name:"layer_data.cornerTopLeft",label:"Top Left",variant:"outlined",type:"number",value:Object(Oe.f)(c.layer_data.cornerTopLeft),error:Boolean(r.layer_data&&r.layer_data.cornerTopLeft&&t.layer_data&&t.layer_data.cornerTopLeft),helperText:r.layer_data&&r.layer_data.cornerTopLeft&&t.layer_data&&t.layer_data.cornerTopLeft,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{})}),Object(X.jsx)(A.a,{item:!0,xs:6,children:j.includes("layer_data.cornerTopRight")?Object(X.jsx)(jn,{name:"layer_data.cornerTopRight",label:"Top Right",variant:"outlined",type:"number",value:Object(Oe.f)(c.layer_data.cornerTopRight),error:Boolean(r.layer_data&&r.layer_data.cornerTopRight&&t.layer_data&&t.layer_data.cornerTopRight),helperText:r.layer_data&&r.layer_data.cornerTopRight&&t.layer_data&&t.layer_data.cornerTopRight,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{})}),Object(X.jsx)(A.a,{item:!0,xs:6,children:j.includes("layer_data.cornerBottomLeft")?Object(X.jsx)(jn,{name:"layer_data.cornerBottomLeft",label:"Bottom Left",variant:"outlined",type:"number",value:Object(Oe.f)(c.layer_data.cornerBottomLeft),error:Boolean(r.layer_data&&r.layer_data.cornerBottomLeft&&t.layer_data&&t.layer_data.cornerBottomLeft),helperText:r.layer_data&&r.layer_data.cornerBottomLeft&&t.layer_data&&t.layer_data.cornerBottomLeft,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{})}),Object(X.jsx)(A.a,{item:!0,xs:6,children:j.includes("layer_data.cornerBottomRight")?Object(X.jsx)(jn,{name:"layer_data.cornerBottomRight",label:"Bottom Right",variant:"outlined",type:"number",value:Object(Oe.f)(c.layer_data.cornerBottomRight),error:Boolean(r.layer_data&&r.layer_data.cornerBottomRight&&t.layer_data&&t.layer_data.cornerBottomRight),helperText:r.layer_data&&r.layer_data.cornerBottomRight&&t.layer_data&&t.layer_data.cornerBottomRight,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(X.jsx)(X.Fragment,{})})]})})]}):Object(X.jsx)(X.Fragment,{})},hn=Object(c.c)(b.a).withConfig({displayName:"propertyBar__Wrapper",componentId:"sc-1e4csol-0"})(["width:350px;position:fixed;right:0;top:0;background:#666666;height:calc(100% - 50px);overflow:auto;"]),fn=function(){var e=Object(i.d)(),t=Object(i.e)((function(e){return e.layerReducer.current})),a=Object(i.e)((function(e){return e.fontReducer.list})),r=Object(i.e)((function(e){return e.boardReducer.pressedKey})),o=Object(l.useMemo)((function(){return t?t.layer_type!==h.d.SHAPE?h.a[t.layer_type]:h.a[t.layer_type][t.layer_data.type]:[]}),[t]),c=Object(l.useMemo)((function(){return we.a.pick({layer_visible:1,layer_locked:0,layer_data:we.a.pick(h.b.layer_data,o.filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")})))},o.filter((function(e){return!e.includes("layer_data.")})))}),[o]),s=function(a){e(Object(O.p)(Object(n.a)(Object(n.a)({},t),{},Object(lt.a)({},a,t[a]?0:1))))},d=function(a){e(Object(O.p)(Object(n.a)(Object(n.a)({},t),{},{layer_data:Object(n.a)(Object(n.a)({},t.layer_data),{},Object(lt.a)({},a,t.layer_data[a]?0:1))})))},u=function(e){for(var a in e.layer_data)if(e.layer_data[a]!=t.layer_data[a])return!0;for(var n in e)if("layer_data"!=n&&e[n]!=t[n])return!0;return!1};return t?Object(X.jsx)(hn,{py:5,px:3,children:Object(X.jsx)(Ne.b,{initialValues:Object(n.a)(Object(n.a)(Object(n.a)({},c),t),{},{layer_data:Object(n.a)(Object(n.a)({},c.layer_data),t.layer_data)}),validationSchema:Pe.b({layer_order:Pe.a(),layer_visible:Pe.a(),layer_locked:Pe.a(),layer_data:Pe.b({name:Pe.c().required("Required"),text:Pe.c().test("text-validation","Required",(function(e){return e&&e.length||!o.includes("layer_data.text")})),width:Pe.a().test("width-validation","Required",(function(e){return e||!o.includes("layer_data.width")})),height:Pe.a().test("height-validation","Required",(function(e){return e||!o.includes("layer_data.height")})),left:Pe.a(),top:Pe.a(),rotation:Pe.a().moreThan(-181,"Must be greater than -181").lessThan(181,"Must be less than 181"),flop:Pe.a(),flip:Pe.a(),scaleX:Pe.a().moreThan(0,"Must be greater than 0"),scaleY:Pe.a().moreThan(0,"Must be greater than 0"),color:Pe.c().nullable().test("color-validation","Incorrect Color Format",Oe.a),size:Pe.a(),scolor:Pe.c().nullable().test("color-validation","Incorrect Color Format",Oe.a),stroke:Pe.a(),font:Pe.a(),opacity:Pe.a(),shadowColor:Pe.c().nullable().test("color-validation","Incorrect Color Format",Oe.a),shadowBlur:Pe.a(),shadowOpacity:Pe.a(),shadowOffsetX:Pe.a(),shadowOffsetY:Pe.a(),cornerTopLeft:Pe.a(),cornerTopRight:Pe.a(),cornerBottomLeft:Pe.a(),cornerBottomRight:Pe.a(),radius:Pe.a().moreThan(0,"Must be greater than 0"),innerRadius:Pe.a().moreThan(0,"Must be greater than 0"),outerRadius:Pe.a().moreThan(0,"Must be greater than 0"),numPoints:Pe.a().moreThan(1,"Must be greater than 1"),angle:Pe.a(),pointerLength:Pe.a().moreThan(0,"Must be greater than 0"),pointerWidth:Pe.a().moreThan(0,"Must be greater than 0")})}),enableReinitialize:!0,validate:function(e){return console.log(e),{}},onSubmit:function(t){e(Object(O.p)(t))},children:function(e){return Object(X.jsxs)(Ne.a,{onSubmit:e.handleSubmit,noValidate:!0,children:[Object(X.jsxs)(b.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"34px",children:[Object(X.jsx)(g.a,{variant:"h5",noWrap:!0,children:"Properties"}),e.isValid&&u(e.values)?Object(X.jsx)(m.a,{type:"submit",color:"primary",variant:"outlined",children:"Apply"}):Object(X.jsx)(X.Fragment,{})]}),Object(X.jsx)(Ha,Object(n.a)(Object(n.a)({},e),{},{toggleField:s})),Object(X.jsx)(nn,Object(n.a)(Object(n.a)({},e),{},{fontList:a})),Object(X.jsx)(on,Object(n.a)({},e)),Object(X.jsx)(rn,Object(n.a)({},e)),Object(X.jsx)(Qa,Object(n.a)(Object(n.a)({},e),{},{toggleLayerDataField:d,currentLayer:t,pressedKey:r})),Object(X.jsx)(tn,Object(n.a)({},e)),Object(X.jsx)(sn,Object(n.a)({},e)),Object(X.jsx)(un,Object(n.a)({},e)),Object(X.jsx)(bn,Object(n.a)({},e))]})}})}):Object(X.jsx)(X.Fragment,{})},yn=a(180),On=a(181),pn=Object(c.c)(b.a).withConfig({displayName:"scheme__Wrapper",componentId:"sc-188wpva-0"})(["background-color:",";"],(function(e){return e.background}));t.default=function(){var e=Object(i.d)(),t=Object(j.g)(),a=Object(l.useState)(""),c=Object(o.a)(a,2),s=c[0],p=c[1],g=Object(l.useState)(null),m=Object(o.a)(g,2),x=m[0],_=m[1],w=Object(l.useRef)(0),C=Object(l.useRef)(0),v=Object(i.e)((function(e){return e.authReducer.user})),S=Object(i.e)((function(e){return e.schemeReducer.current})),k=Object(i.e)((function(e){return e.layerReducer.current})),L=Object(i.e)((function(e){return e.layerReducer.clipboard})),R=Object(i.e)((function(e){return e.overlayReducer.list})),I=Object(i.e)((function(e){return e.logoReducer.list})),F=Object(i.e)((function(e){return e.fontReducer.list})),B=Object(i.e)((function(e){return e.boardReducer.zoom})),T=Object(i.e)((function(e){return e.boardReducer.pressedKey})),E=Object(i.e)((function(e){return e.boardReducer.boardRotate})),D=Object(i.e)((function(e){return e.boardReducer.mouseMode})),M=Object(i.e)((function(e){return e.boardReducer.paintingGuides})),P=Object(i.e)((function(e){return e.schemeReducer.loading})),N=Object(i.e)((function(e){return e.carMakeReducer.loading})),A=Object(i.e)((function(e){return e.fontReducer.loading})),W=Object(i.e)((function(e){return e.uploadReducer.initialized})),Y=function(){e(Object(y.g)(Math.max(Math.min(1.25*B,10),.25)))},z=function(){e(Object(y.g)(Math.max(Math.min(B/1.25,10),.25)))},G=function(t){e(Object(y.e)(t))},U=function(e){var t=Object(r.a)(M),a=t.indexOf(e);a>-1?t.splice(a,1):t.push(e),G(t)},K=function(t,a){if(console.log("KeyEvent: ",t,a),"INPUT"!==a.target.tagName&&"keydown"===a.type&&(T!==t&&e(Object(y.f)(t)),"del"!==t&&"backspace"!==t||!k||k.layer_type===h.d.CAR?"esc"===t&&k?e(Object(O.m)(null)):"+"===a.key&&a.shiftKey?Y():"_"===a.key&&a.shiftKey?z():")"===a.key&&a.shiftKey?e(Object(y.g)(1)):"D"===a.key&&a.shiftKey?e(Object(y.d)(h.e.DEFAULT)):"B"===a.key&&a.shiftKey?e(Object(y.d)(h.e.PEN)):"R"===a.key&&a.shiftKey?e(Object(y.d)(h.e.RECT)):"C"===a.key&&a.shiftKey?e(Object(y.d)(h.e.CIRCLE)):"E"===a.key&&a.shiftKey?e(Object(y.d)(h.e.ELLIPSE)):"S"===a.key&&a.shiftKey?e(Object(y.d)(h.e.STAR)):"G"===a.key&&a.shiftKey?e(Object(y.d)(h.e.RING)):"O"===a.key&&a.shiftKey?e(Object(y.d)(h.e.REGULARPOLYGON)):"W"===a.key&&a.shiftKey?e(Object(y.d)(h.e.WEDGE)):"A"===a.key&&a.shiftKey?e(Object(y.d)(h.e.ARC)):"P"===a.key&&a.shiftKey?e(Object(y.d)(h.e.POLYGON)):"L"===a.key&&a.shiftKey?e(Object(y.d)(h.e.LINE)):">"===a.key&&a.shiftKey?e(Object(y.d)(h.e.ARROW)):"c"===a.key&&(a.ctrlKey||a.metaKey)&&k?e(Object(O.l)(k)):"v"===a.key&&(a.ctrlKey||a.metaKey)&&L?e(Object(O.b)(L)):"1"===t?U(h.f.CARMASK):"2"===t?U(h.f.WIREFRAME):"3"===t?U(h.f.SPONSORBLOCKS):"4"===t?U(h.f.NUMBERBLOCKS):"5"===t?U(h.f.GRID):"t"===t?_(h.c.TEXT):"s"===t?_(h.c.SHAPE):"l"===t?_(h.c.LOGO):"b"===t?_(h.c.BASEPAINT):"enter"===t&&[h.e.DEFAULT,h.e.LINE,h.e.ARROW,h.e.POLYGON].includes(D)&&e(Object(O.n)(O.a.ADD_TO_SHAPE)):p('Are you sure to delete "'.concat(k.layer_data.name,'"?'))),"INPUT"!==a.target.tagName&&("keyup"===a.type&&e(Object(y.f)(null)),["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(a.key)&&k&&![h.d.CAR,h.d.BASE].includes(k.layer_type))){var r=a.shiftKey?10:1,o="ArrowLeft"===a.key?-r:"ArrowRight"===a.key?r:0,c="ArrowUp"===a.key?-r:"ArrowDown"===a.key?r:0,l=o,i=c;if(90===E?(l=c,i=-o):180===E?(l=-o,i=-c):270===E&&(l=-c,i=o),"keyup"===a.type){var s=Object(n.a)({},k.layer_data);C.current!=w.current&&(s.left=k.layer_data.left+l,s.top=k.layer_data.top+i),e(Object(O.p)(Object(n.a)(Object(n.a)({},k),{},{layer_data:s})))}else C.current!=w.current&&(C.current=Object.assign(w.current),e(Object(O.q)(Object(n.a)(Object(n.a)({},k),{},{layer_data:Object(n.a)(Object(n.a)({},k.layer_data),{},{left:k.layer_data.left+l,top:k.layer_data.top+i})}))))}};return Object(l.useEffect)((function(){v&&v.id&&t.id&&(S||e(Object(Ee.e)(t.id)),W||e(Object(ga.c)(v.id)),R.length||e(Object(yn.b)()),I.length||e(Object(On.b)()),F.length||e(Object(Be.b)()))}),[v]),Object(l.useEffect)((function(){var e=setInterval((function(){w.current+=1}),200);return function(){return clearInterval(e)}}),[]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(u.b,{title:S?S.name:null}),P||N||A||!S?Object(X.jsx)(f.a,{}):Object(X.jsxs)(b.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:[Object(X.jsx)(d.a,{handleKeys:["all"],onKeyEvent:K}),Object(X.jsx)(d.a,{handleKeys:["all"],handleEventType:"keyup",onKeyEvent:K}),Object(X.jsxs)(b.a,{width:"100%",height:"calc(100% - 50px)",display:"flex",children:[Object(X.jsx)(Ka,{dialog:x,setDialog:_,focusBoard:function(){setTimeout((function(){return document.activeElement.blur()}),1e3)}}),Object(X.jsx)(pn,{width:"calc(100% - 350px)",background:"#282828",overflow:"hidden",children:Object(X.jsx)(Te,{})}),Object(X.jsx)(fn,{})]}),Object(X.jsx)(oe,{onZoomIn:Y,onZoomOut:z,onChangePaintingGuides:G,onChangeBoardRotation:function(t){e(Object(y.b)(t))}})]}),Object(X.jsx)(ba,{text:s,open:0!==s.length,onCancel:function(){return p("")},onConfirm:function(){e(Object(O.k)(k)),p("")}})]})}},369:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return j})),a.d(t,"g",(function(){return b}));var n=a(16),r=a(8),o=(a(58),a(549)),c=a.n(o),l=function(e){var t=(new Date).getTime()/1e3-new Date(e).getTime();if(t<60)return"".concat(Math.round(t)," seconds ago");var a=t/60;if(a<60)return"".concat(Math.round(a)," minutes ago");var n=a/60;if(n<24)return"".concat(Math.round(n)," hours ago");var r=n/24;return"".concat(Math.round(r)," days ago")},i=function(e){var t=e.length>7?/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e):/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:e.length>7?parseInt(t[4],16):255}:null},s=function(e){return Math.round(100*(e+Number.EPSILON))/100},d=function(e){return!e||!e.length||c()(e)},u=function(e){var t=e.getAbsoluteTransform().copy();t.invert();var a=e.getStage().getPointerPosition();return t.point(a)},j=function(e,t){var a=Object(r.a)({},t);return 90===e?(a.x=-t.y,a.y=t.x):180===e?(a.x=-t.x,a.y=-t.y):270===e&&(a.x=t.y,a.y=-t.x),a},b=function(e){var t=Object(n.a)(e);if(t.length>=4)for(;t[t.length-1]===t[t.length-3]&&t[t.length-2]===t[t.length-4];)t.splice(-2,2);return t}}}]);
//# sourceMappingURL=6.5e2ef9c2.chunk.js.map