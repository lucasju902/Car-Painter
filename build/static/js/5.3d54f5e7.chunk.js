(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[5],{1090:function(e,t,n){"use strict";n.r(t);var c=n(358),r=n(0),o=n(36),a=n(13),i=n(320),l=n(79),u=n(31),j=n(322),d=n(318),s=n(1092),b=n(1075),O=n(1076),f=n(1078),h=n(6),p=Object(u.c)(d.a).withConfig({displayName:"ProjectSelectDialog__Button",componentId:"zubwo6-0"})(j.b),g=function(e){var t=e.onCreateProject,n=e.onOpenProject,c=e.onCancel,r=e.open;return Object(h.jsxs)(s.a,{"aria-labelledby":"project-select-title",open:r,children:[Object(h.jsx)(b.a,{id:"project-select-title",children:"Paint Builder"}),Object(h.jsx)(O.a,{dividers:!0,children:Object(h.jsxs)(i.a,{display:"flex",flexDirection:"column",children:[Object(h.jsx)(p,{onClick:t,color:"default",variant:"outlined",mb:1,children:"CREATE A NEW PAINT"}),Object(h.jsx)(p,{onClick:n,color:"default",variant:"outlined",children:"OPEN A PAINT BUILDER PROJECT"})]})}),Object(h.jsx)(f.a,{children:Object(h.jsx)(p,{onClick:c,color:"primary",children:"Cancel"})})]})},m=n(128),x=n(392),C=Object(u.c)(d.a).withConfig({displayName:"OpenProjectDialog__Button",componentId:"nso4l9-0"})(j.b),P=Object(u.c)(i.a).withConfig({displayName:"OpenProjectDialog__SchemeWrapper",componentId:"nso4l9-1"})(["cursor:pointer;padding:10px;:hover{background:rgba(255,255,255,0.1);}"]),v=function(e){var t=e.schemeList,n=e.onCreateProject,c=e.onOpenProject,r=e.onCancel,o=e.open;return Object(h.jsxs)(s.a,{"aria-labelledby":"project-select-title",open:o,children:[Object(h.jsx)(b.a,{id:"project-select-title",children:"Open a Paint Builder Project"}),Object(h.jsx)(O.a,{dividers:!0,children:Object(h.jsx)(i.a,{display:"flex",flexDirection:"column",children:t&&t.length?t.map((function(e){return Object(h.jsxs)(P,{onClick:function(){return c(e.id)},children:[Object(h.jsx)(m.a,{variant:"body1",children:e.name}),Object(h.jsxs)(m.a,{variant:"body2",children:["Last modified"," ",x.a.getDifferenceFromToday(e.date_modified)]})]},e.id)})):Object(h.jsx)(h.Fragment,{})})}),Object(h.jsxs)(f.a,{children:[Object(h.jsx)(C,{onClick:r,color:"primary",children:"Cancel"}),Object(h.jsx)(C,{onClick:n,color:"default",variant:"outlined",mb:1,children:"NEW"})]})]})},y=n(21),D=n(17),k=n(227),E=n.n(k),I=n(1058),w=n(1091),N=Object(u.c)(d.a).withConfig({displayName:"CreateProjectDialog__Button",componentId:"e1fbbf-0"})(j.b),R=function(e){var t=Object(r.useState)(null),n=Object(c.a)(t,2),o=n[0],a=n[1],i=e.onContinue,l=e.onCancel,u=e.open,j=e.carMakeList,d=E.a.orderBy(Object(D.a)(j),["name","car_type"],["asc","asc"]);return Object(h.jsxs)(s.a,{"aria-labelledby":"project-select-title",open:u,children:[Object(h.jsx)(b.a,{id:"project-select-title",children:"Create a new paint"}),Object(h.jsx)(O.a,{dividers:!0,children:j&&j.length?Object(h.jsx)(w.a,{id:"car-make-select",options:d,groupBy:function(e){return e.car_type},getOptionLabel:function(e){return e.name},style:{width:500},onChange:function(e,t){a(t)},renderInput:function(e){return Object(h.jsx)(I.a,Object(y.a)(Object(y.a)({},e),{},{label:"SELECT VEHICLE",variant:"outlined"}))}}):Object(h.jsx)(h.Fragment,{})}),Object(h.jsxs)(f.a,{children:[Object(h.jsx)(N,{onClick:l,color:"primary",children:"Cancel"}),Object(h.jsx)(N,{onClick:function(){return i(o)},color:"default",variant:"outlined",mb:1,children:"Continue"})]})]})},_=n(134),L=n(65);t.default=function(){var e=Object(o.d)(),t=Object(a.f)(),n=Object(r.useState)("ProjectSelectDialog"),u=Object(c.a)(n,2),j=u[0],d=u[1],s=Object(o.e)((function(e){return e.authReducer.user})),b=Object(o.e)((function(e){return e.carMakeReducer.list})),O=Object(o.e)((function(e){return e.schemeReducer.list})),f=Object(o.e)((function(e){return e.schemeReducer.current})),p=Object(o.e)((function(e){return e.schemeReducer.loading})),m=Object(o.e)((function(e){return e.carMakeReducer.loading}));Object(r.useEffect)((function(){s&&(O.length||e(Object(_.f)(s.id)),b.length||e(Object(L.b)()))}),[s]),Object(r.useEffect)((function(){f&&t.push("/scheme/".concat(f.id))}),[f]);return Object(h.jsx)(i.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:p||m||!O||!b?Object(h.jsx)(l.a,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g,{open:"ProjectSelectDialog"===j,onCreateProject:function(){return d("CreateProjectDialog")},onOpenProject:function(){return d("OpenProjectDialog")},onCancel:function(){return d(null)}}),Object(h.jsx)(v,{schemeList:O,open:"OpenProjectDialog"===j,onCreateProject:function(){return d("CreateProjectDialog")},onOpenProject:function(t){return n=t,console.log("Opening scheme: ",n),e(Object(_.e)(n)),void d(null);var n},onCancel:function(){return d("ProjectSelectDialog")}}),Object(h.jsx)(R,{carMakeList:b,open:"CreateProjectDialog"===j,onContinue:function(t){return function(t){console.log("Creating scheme with carmake: ",t),e(Object(_.c)(t,s.id)),d(null)}(t)},onCancel:function(){return d("ProjectSelectDialog")}})]})})}},392:function(e,t,n){"use strict";n(227);t.a={getDifferenceFromToday:function(e){var t=(new Date).getTime()/1e3-new Date(e).getTime();if(t<60)return"".concat(Math.round(t)," seconds ago");var n=t/60;if(n<60)return"".concat(Math.round(n)," minutes ago");var c=n/60;if(c<24)return"".concat(Math.round(c)," hours ago");var r=c/24;return"".concat(Math.round(r)," days ago")},mathRound2:function(e){return Math.round(100*(e+Number.EPSILON))/100},hexToRgba:function(e){var t=e.length>7?/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e):/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:e.length>7?parseInt(t[4],16):255}:null}}}}]);
//# sourceMappingURL=5.3d54f5e7.chunk.js.map