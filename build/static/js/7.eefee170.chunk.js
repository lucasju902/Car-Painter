(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[7],{1273:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(6),c=a(18),i=a(8),l=a(29),s=a(217),d=a(27),u=a(0),b=a.n(u),j=a(361),h=a(1228),O=a(39),f=a.n(O),p=a(40),y=a(901),g=a.n(y),m=a(123),x=a(23);function _(){if(1==arguments.length){var e=arguments[0];this.header=w(e),v(this.header),k(this.header)}}function w(e){return{idLength:C(e.idLength,0),colorMapType:C(e.colorMapType,0),imageType:C(e.imageType,_.Type.RGB),colorMapIndex:C(e.colorMapIndex,0),colorMapLength:C(e.colorMapLength,0),colorMapDepth:C(e.colorMapDepth,0),offsetX:C(e.offsetX,0),offsetY:C(e.offsetY,0),width:C(e.width,0),height:C(e.height,0),pixelDepth:C(e.pixelDepth,32),flags:C(e.flags,8)}}function C(e,t){return"undefined"!==typeof e?e:t}function v(e){e.hasEncoding=e.imageType===_.Type.RLE_INDEXED||e.imageType===_.Type.RLE_RGB||e.imageType===_.Type.RLE_GREY,e.hasColorMap=e.imageType===_.Type.RLE_INDEXED||e.imageType===_.Type.INDEXED,e.isGreyColor=e.imageType===_.Type.RLE_GREY||e.imageType===_.Type.GREY,e.bytePerPixel=e.pixelDepth>>3,e.origin=(e.flags&_.Origin.MASK)>>_.Origin.SHIFT,e.alphaBits=e.flags&_.Origin.ALPHA}function k(e){if(e.imageType===_.Type.NO_DATA)throw new Error("Targa::checkHeader() - No data");if(e.hasColorMap){if(e.colorMapLength>256||1!==e.colorMapType)throw new Error("Targa::checkHeader() - Unsupported colormap for indexed type");if(16!==e.colorMapDepth&&24!==e.colorMapDepth&&32!==e.colorMapDepth)throw new Error("Targa::checkHeader() - Unsupported colormap depth")}else if(e.colorMapType)throw new Error("Targa::checkHeader() - Why does the image contain a palette ?");if(e.width<=0||e.height<=0)throw new Error("Targa::checkHeader() - Invalid image size");if(8!==e.pixelDepth&&16!==e.pixelDepth&&24!==e.pixelDepth&&32!==e.pixelDepth)throw new Error('Targa::checkHeader() - Invalid pixel size "'+e.pixelDepth+'"');if(0!==e.alphaBits&&1!==e.alphaBits&&8!==e.alphaBits)throw new Error("Targa::checkHeader() - Unsuppported alpha size")}function L(e,t,a,n,r,o,c,i,l,s){var d,u,b,j,h,O,f=this.header.colorMapDepth>>3;for(j=0,O=r;O!==c;O+=o)for(h=i;h!==s;h+=l,j++)b=4*(h+n*O),u=t[j]*f,4===f?(e[b]=a[u+2],e[b+1]=a[u+1],e[b+2]=a[u],e[b+3]=a[u+3]):3===f?(e[b]=a[u+2],e[b+1]=a[u+1],e[b+2]=a[u],e[b+3]=255):2===f&&(d=a[u]|a[u+1]<<8,e[b]=(31744&d)>>7,e[b+1]=(992&d)>>2,e[b+2]=(31&d)<<3,e[b+3]=32768&d?0:255);return e}function S(e,t,a,n,r,o,c,i,l,s){var d,u,b,j,h;for(b=0,h=r;h!==c;h+=o)for(j=i;j!==s;j+=l,b+=2)d=t[b]|t[b+1]<<8,e[u=4*(j+n*h)]=(31744&d)>>7,e[u+1]=(992&d)>>2,e[u+2]=(31&d)<<3,e[u+3]=32768&d?0:255;return e}function R(e,t,a,n,r,o,c,i,l,s){var d,u,b,j,h=this.header.pixelDepth>>3;for(u=0,j=r;j!==c;j+=o)for(b=i;b!==s;b+=l,u+=h)e[(d=4*(b+n*j))+3]=255,e[d+2]=t[u],e[d+1]=t[u+1],e[d]=t[u+2];return e}function I(e,t,a,n,r,o,c,i,l,s){var d,u,b,j;for(d=0,b=r;b!==c;b+=o)for(u=i;u!==s;u+=l,d+=4)e[(j=4*(u+n*b))+2]=t[d],e[j+1]=t[d+1],e[j]=t[d+2],e[j+3]=t[d+3];return e}function D(e,t,a,n,r,o,c,i,l,s){var d,u,b,j,h;for(d=0,b=r;b!==c;b+=o)for(u=i;u!==s;u+=l,d+=4)j=4*(u+n*b),h=255*t[d+3],e[j+2]=t[d]/h,e[j+1]=t[d+1]/h,e[j]=t[d+2]/h,e[j+3]=t[d+3];return e}function E(e,t,a,n,r,o,c,i,l,s){var d,u,b,j,h;for(b=0,h=r;h!==c;h+=o)for(j=i;j!==s;j+=l,b++)d=t[b],e[u=4*(j+n*h)]=d,e[u+1]=d,e[u+2]=d,e[u+3]=255;return e}function T(e,t,a,n,r,o,c,i,l,s){var d,u,b,j,h;for(b=0,h=r;h!==c;h+=o)for(j=i;j!==s;j+=l,b+=2)d=t[b],e[u=4*(j+n*h)]=d,e[u+1]=d,e[u+2]=d,e[u+3]=t[b+1];return e}function M(e){var t=e.byteLength-_.FOOTER_SIZE,a=_.SIGNATURE,n={},r=new Uint8Array(e.buffer,t+8,a.length);return function(e){for(var t=_.SIGNATURE,a=0;a<t.length;a++)if(e.charCodeAt(a)!==t.charCodeAt(a))return!1;return!0}(String.fromCharCode.apply(null,r))?(n.hasFooter=!0,n.extensionOffset=e.getUint32(t,_.LITTLE_ENDIAN),n.developerOffset=e.getUint32(t+4,_.LITTLE_ENDIAN),n.hasExtensionArea=0!==n.extensionOffset,n.hasDeveloperArea=0!==n.developerOffset,n.extensionOffset&&(n.attributeType=e.getUint8(n.extensionOffset+494)),n):(n.hasFooter=!1,n)}_.Type={NO_DATA:0,INDEXED:1,RGB:2,GREY:3,RLE_INDEXED:9,RLE_RGB:10,RLE_GREY:11},_.Origin={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3,SHIFT:4,MASK:48,ALPHA:8},_.HEADER_SIZE=18,_.FOOTER_SIZE=26,_.LITTLE_ENDIAN=!0,_.RLE_BIT=128,_.RLE_MASK=127,_.RLE_PACKET=1,_.RAW_PACKET=2,_.SIGNATURE="TRUEVISION-XFILE.\0",_.prototype.open=function(e,t){var a,n=this;(a=new XMLHttpRequest).open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){200===this.status&&(n.arrayBuffer=a.response,n.load(n.arrayBuffer),t&&t.call(n))},a.send(null)},_.prototype.load=function(e){var t=new DataView(e);this.headerData=new Uint8Array(e,0,_.HEADER_SIZE),this.header=function(e){var t=_.LITTLE_ENDIAN;if(e.byteLength<18)throw new Error("Targa::load() - Not enough data to contain header");var a={};return a.idLength=e.getUint8(0),a.colorMapType=e.getUint8(1),a.imageType=e.getUint8(2),a.colorMapIndex=e.getUint16(3,t),a.colorMapLength=e.getUint16(5,t),a.colorMapDepth=e.getUint8(7),a.offsetX=e.getUint16(8,t),a.offsetY=e.getUint16(10,t),a.width=e.getUint16(12,t),a.height=e.getUint16(14,t),a.pixelDepth=e.getUint8(16),a.flags=e.getUint8(17),a}(t),v(this.header),k(this.header);var a=_.HEADER_SIZE;if((a+=this.header.idLength)>=e.byteLength)throw new Error("Targa::load() - No data");if(this.header.hasColorMap){var n=this.header.colorMapLength*(this.header.colorMapDepth>>3);this.palette=new Uint8Array(e,a,n),a+=n}var r=this.header.pixelDepth>>3,o=this.header.width*this.header.height,c=o*r;if(this.header.hasEncoding){var i=e.byteLength-a-_.FOOTER_SIZE,l=new Uint8Array(e,a,i);this.imageData=function(e,t,a){var n,r,o,c,i,l,s;for(s=new Uint8Array(a),l=new Uint8Array(t),i=0,n=0;n<a;)if(o=1+((r=e[i++])&_.RLE_MASK),r&_.RLE_BIT){for(c=0;c<t;++c)l[c]=e[i++];for(c=0;c<o;++c)s.set(l,n),n+=t}else for(o*=t,c=0;c<o;++c)s[n++]=e[i++];if(n>a)throw new Error("Targa::decodeRLE() - Read bytes: "+n+" Expected bytes: "+a);return s}(l,r,c)}else this.imageData=new Uint8Array(e,a,this.header.hasColorMap?o:c);this.footer=M(t),(0!==this.header.alphaBits||this.footer.hasExtensionArea&&(3===this.footer.attributeType||4===this.footer.attributeType))&&(this.footer.usesAlpha=!0)},_.prototype.getImageData=function(e){var t,a,n,r,o,c,i,l=this.header.width,s=this.header.height,d=(this.header.flags&_.Origin.MASK)>>_.Origin.SHIFT;switch(e||(e=document?document.createElement("canvas").getContext("2d").createImageData(l,s):{width:l,height:s,data:new Uint8ClampedArray(l*s*4)}),d===_.Origin.TOP_LEFT||d===_.Origin.TOP_RIGHT?(r=0,o=1,c=s):(r=s-1,o=-1,c=-1),d===_.Origin.TOP_LEFT||d===_.Origin.BOTTOM_LEFT?(t=0,a=1,n=l):(t=l-1,a=-1,n=-1),this.header.pixelDepth){case 8:i=this.header.isGreyColor?E:L;break;case 16:i=this.header.isGreyColor?T:S;break;case 24:i=R;break;case 32:i=this.footer.hasExtensionArea?3===this.footer.attributeType?I:4===this.footer.attributeType?D:R:0!==this.header.alphaBits?I:R}return i.call(this,e.data,this.imageData,this.palette,l,r,o,c,t,a,n),e},_.prototype.setImageData=function(e){if(!e)throw new Error("Targa::setImageData() - imageData argument missing");var t,a,n,r,o,c,i=this.header.width,l=this.header.height,s=i*l*(this.header.pixelDepth>>3),d=(this.header.flags&_.Origin.MASK)>>_.Origin.SHIFT;d===_.Origin.TOP_LEFT||d===_.Origin.TOP_RIGHT?(r=0,o=1,c=l):(r=l-1,o=-1,c=-1),d===_.Origin.TOP_LEFT||d===_.Origin.BOTTOM_LEFT?(t=0,a=1,n=i):(t=i-1,a=-1,n=-1),this.imageData||(this.imageData=new Uint8Array(s)),I(this.imageData,e.data,this.palette,i,r,o,c,t,a,n);var u=this.imageData;this.header.hasEncoding&&(u=function(e,t){for(var a,n,r,o,c=t,i=[],l=0,s=e.pixelDepth>>3,d=0,u=e.width*e.height*s,b=function(e,t){for(var a=0;a<s;a++)if(c[e*s+a]!==c[t*s+a])return!1;return!0},j=function(e){return b(e,e+1)?_.RLE_PACKET:_.RAW_PACKET};l*s<c.length&&l*s<u;){if(r=0,(n=j(l))===_.RLE_PACKET)for(;l+r<c.length&&r<128&&b(l,l+r);)r++;else for(;l+r<c.length&&r<128&&j(l+r)===_.RAW_PACKET;)r++;if(o=r-1,n===_.RLE_PACKET&&(o|=_.RLE_BIT),i[d++]=o,n===_.RLE_PACKET){for(a=0;a<s;a++)i[a+d]=c[a+l*s];d+=s}else{for(a=0;a<s*r;a++)i[a+d]=c[a+l*s];d+=s*r}l+=r}return new Uint8Array(i)}(this.header,u));var b=_.HEADER_SIZE+u.length+_.FOOTER_SIZE,j=new ArrayBuffer(b);this.arrayBuffer=j,this.headerData=new Uint8Array(j,0,_.HEADER_SIZE),this.RLEData=new Uint8Array(j,_.HEADER_SIZE,u.length),this.footerData=new Uint8Array(j,_.HEADER_SIZE+u.length,_.FOOTER_SIZE);var h=new DataView(this.headerData.buffer);!function(e,t){var a=_.LITTLE_ENDIAN;t.setUint8(0,e.idLength),t.setUint8(1,e.colorMapType),t.setUint8(2,e.imageType),t.setUint16(3,e.colorMapIndex,a),t.setUint16(5,e.colorMapLength,a),t.setUint8(7,e.colorMapDepth),t.setUint16(8,e.offsetX,a),t.setUint16(10,e.offsetY,a),t.setUint16(12,e.width,a),t.setUint16(14,e.height,a),t.setUint8(16,e.pixelDepth),t.setUint8(17,e.flags)}(this.header,h),this.RLEData.set(u),function(e){for(var t=_.SIGNATURE,a=e.byteLength-t.length,n=0;n<t.length;n++)e[a+n]=t.charCodeAt(n)}(this.footerData)},_.prototype.getCanvas=function(){var e,t,a;return a=(t=(e=document.createElement("canvas")).getContext("2d")).createImageData(this.header.width,this.header.height),e.width=this.header.width,e.height=this.header.height,t.putImageData(this.getImageData(a),0,0),e},_.prototype.getDataURL=function(e){return this.getCanvas().toDataURL(e||"image/png")},_.prototype.getBlobURL=function(){if(!this.arrayBuffer)throw new Error("Targa::getBlobURL() - No data available for blob");var e=new Blob([this.arrayBuffer],{type:"image/x-tga"});return URL.createObjectURL(e)};var F=_,B=a(582),A=a(10),P=a(117),N=a(48),U=a(42),Y=a(65),W=a(70),X=a(82),z=a(413),G=a(419),H=a(1243),K=a(1278),V=a(1244),q=a(1245),Z=a(1246),J=a(1247),Q=a(1248),$=a(1249),ee=a(624),te=a(550),ae=a(538),ne=a(573),re=a(11),oe=Object(d.c)(te.a).withConfig({displayName:"ZoomPopover__CustomOutlinedInput",componentId:"sc-72h4yq-0"})(["&.MuiOutlinedInput-root{width:100px !important;}.MuiOutlinedInput-input{padding:6px 14px;border-bottom:none;width:40px;}"]),ce=function(e){var t=e.anchorEl,a=e.zoom,n=e.setZoom,r=e.onZoomIn,o=e.onZoomOut,c=e.onZoomFit,i=e.onClose,l=Object(u.useCallback)((function(e){13===e.keyCode&&(e.preventDefault(),i())}),[i]),s=Object(u.useCallback)((function(e){n(parseInt(e.target.value||0)/100)}),[n]),d=Object(u.useCallback)((function(e){return e.target.select()}),[]),b=Object(u.useCallback)((function(){n(1)}),[n]);return Object(re.jsx)(ae.a,{open:Boolean(t),anchorEl:t,onClose:i,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",p:4,width:"200px",children:[Object(re.jsxs)(B.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(re.jsx)(G.a,{onClick:r,children:"Zoom in"}),Object(re.jsx)(X.a,{variant:"body2",children:"Shift +"})]}),Object(re.jsxs)(B.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(re.jsx)(G.a,{onClick:o,children:"Zoom out"}),Object(re.jsx)(X.a,{variant:"body2",children:"Shift -\xa0"})]}),Object(re.jsxs)(B.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(re.jsx)(G.a,{onClick:c,children:"Zoom to fit"}),Object(re.jsx)(X.a,{variant:"body2",children:"Shift 9"})]}),Object(re.jsxs)(B.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[Object(re.jsx)(G.a,{onClick:b,children:"Zoom to 100%"}),Object(re.jsx)(X.a,{variant:"body2",children:"Shift 0"})]}),Object(re.jsx)(oe,{id:"zoom-value",value:100*a,onChange:s,onFocus:d,onKeyDown:l,endAdornment:Object(re.jsx)(ne.a,{position:"end",children:"%"}),labelWidth:0,autoFocus:!0})]})})},ie=b.a.memo(ce),le=a(116),se=a(653),de=a(622),ue=a(52),be=a(606),je=a(1239),he=a(417),Oe=a(545),fe=a(1277),pe=a(1236),ye=Object(d.c)(X.a).withConfig({displayName:"SliderInput__Typography",componentId:"sc-7loe1z-0"})(W.b),ge=Object(d.c)(he.a).withConfig({displayName:"SliderInput__CustomInput",componentId:"sc-7loe1z-1"})([".MuiInputBase-inputMarginDense{padding-top:4px;padding-bottom:5px;width:50px;}"]),me=Object(d.c)(B.a).withConfig({displayName:"SliderInput__SliderWrapper",componentId:"sc-7loe1z-2"})(["width:80px;margin-left:8px;margin-right:8px;height:28px;"]),xe=Object(d.c)(Oe.a).withConfig({displayName:"SliderInput__Wrapper",componentId:"sc-7loe1z-3"})(["height:100%;align-items:center;"]),_e=function(e){var t=e.label,a=e.disabled,n=e.min,r=e.max,o=e.value,c=e.setValue,i=e.step,l=Object(u.useCallback)((function(){o<n?c(n):o>r&&c(r)}),[o,n,r,c]);return Object(re.jsxs)(xe,{container:!0,children:[Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsx)(ye,{variant:"body1",color:"textSecondary",mr:2,children:t})}),Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsxs)(B.a,{display:"flex",alignItems:"center",children:[Object(re.jsx)(me,{children:Object(re.jsx)(fe.a,{min:n,max:r,step:i,value:o,disabled:a,onChange:function(e,t){return c(t)},"aria-labelledby":"shape-size",ValueLabelComponent:function(e){return Object(re.jsx)(pe.a,{open:e.open,enterTouchDelay:0,placement:"top",title:e.value,children:e.children})}})}),Object(re.jsx)(ge,{value:o,disabled:a,margin:"dense",type:"number",step:i||1,onChange:function(e){return c(""===e.target.value?Math.max(n,0):Number(e.target.value))},onBlur:l,inputProps:{min:n,max:r,"aria-labelledby":"input-slider"}})]})})]})},we=a(902),Ce=a(543),ve=Object(d.c)(Ce.a).withConfig({displayName:"ColorPickerInput__ColorInputField",componentId:"sc-98haji-0"})(["width:80px;"]),ke=function(e){var t=e.value,a=e.disabled,n=e.onChange,r=e.onInputChange,o=e.error,c=e.helperText,i=Object(u.useCallback)((function(e){"Enter"===e.key&&n(e.target.value)}),[n]);return Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(re.jsxs)(B.a,{display:"flex",alignItems:"center",children:[a?Object(re.jsx)(B.a,{width:"24px",height:"24px",bgcolor:t||"white",borderRadius:"5px",m:"4px"}):Object(re.jsx)(we.a,{value:t||"",onChange:function(e){return n(e.css.backgroundColor)},palette:A.h,deferred:!0,hideTextfield:!0}),Object(re.jsx)(ve,{value:t||"",disabled:a,onChange:function(e){return r(e.target.value)},onKeyDown:i})]}),o?Object(re.jsx)(X.a,{color:"secondary",variant:"body2",children:c}):Object(re.jsx)(re.Fragment,{})]})},Le=Object(d.c)(le.c).withConfig({displayName:"styles__CustomAccordionSummary",componentId:"sc-1ux302c-0"})(["background:#3f3f3f;border-radius:5px;"]),Se=function(e){var t=e.label,a=e.editable,n=e.colorKey,r=e.opacityKey,o=e.errors,c=(e.handleBlur,e.handleChange,e.setFieldValue),i=(e.touched,e.values),l=e.extraChildren,d=Object(u.useState)(!0),b=Object(s.a)(d,2),j=b[0],h=b[1];return Object(re.jsxs)(le.a,{expanded:j,onChange:function(){return h(!j)},children:[Object(re.jsx)(Le,{expandIcon:Object(re.jsx)(je.a,{}),children:Object(re.jsx)(le.A,{children:t})}),Object(re.jsx)(le.b,{children:Object(re.jsxs)(le.f,{display:"flex",flexDirection:"column",width:"100%",mb:1,children:[Object(re.jsxs)(le.q,{container:!0,spacing:2,children:[n?Object(re.jsx)(le.q,{item:!0,xs:12,sm:6,children:Object(re.jsxs)(le.f,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(re.jsx)(le.A,{variant:"body1",color:"textSecondary",mr:2,children:"Color"}),Object(re.jsx)(ke,{disabled:!a,value:i[n],onChange:function(e){return c(n,e)},onInputChange:function(e){return c(n,e)},error:Boolean(o[n]),helperText:o[n]})]})}):Object(re.jsx)(re.Fragment,{}),r?Object(re.jsx)(le.q,{item:!0,xs:12,sm:6,children:Object(re.jsx)(_e,{label:"Opacity",disabled:!a,min:0,max:1,step:.01,value:i[r],setValue:function(e){return c(r,e)}})}):Object(re.jsx)(re.Fragment,{})]}),l]})})]})},Re=Object(d.c)(le.o).withConfig({displayName:"styles__CustomFormControlLabel",componentId:"o9v8c6-0"})(["margin-left:0;color:rgba(255,255,255,0.5);"]),Ie=Object(d.c)(le.l).withConfig({displayName:"styles__CustomDialogContent",componentId:"o9v8c6-1"})(["padding-right:0;"]),De=b.a.memo((function(e){var t=e.editable,a=e.onCancel,n=Object(be.a)(e,["editable","onCancel"]);return Object(re.jsxs)(de.a,{onSubmit:n.handleSubmit,noValidate:!0,children:[Object(re.jsx)(Ie,{dividers:!0,id:"insert-text-dialog-content",children:Object(re.jsxs)(le.f,{maxHeight:"70vh",pr:5,overflow:"auto",children:[Object(re.jsx)(Se,Object(i.a)({label:"Car Mask",colorKey:"carmask_color",opacityKey:"carmask_opacity",editable:t},n)),Object(re.jsx)(Se,Object(i.a)(Object(i.a)({label:"Wireframe",colorKey:"wireframe_color",opacityKey:"wireframe_opacity",editable:t},n),{},{extraChildren:Object(re.jsx)(le.q,{container:!0,spacing:2,children:Object(re.jsx)(le.q,{item:!0,xs:12,sm:12,children:Object(re.jsx)(Re,{control:Object(re.jsx)(le.h,{color:"primary",name:"show_wireframe",checked:n.values.show_wireframe,disabled:!t,onChange:function(e){return n.setFieldValue("show_wireframe",e.target.checked)}}),label:"Show Wireframe for Repositioning",labelPlacement:"start"})})})})),Object(re.jsx)(Se,Object(i.a)(Object(i.a)({label:"Sponsor Blocks",colorKey:"sponsor_color",opacityKey:"sponsor_opacity",editable:t},n),{},{extraChildren:Object(re.jsx)(le.q,{container:!0,spacing:2,children:Object(re.jsx)(le.q,{item:!0,xs:12,sm:12,children:Object(re.jsx)(Re,{control:Object(re.jsx)(le.h,{color:"primary",name:"show_sponsor",checked:n.values.show_sponsor,disabled:!t,onChange:function(e){return n.setFieldValue("show_sponsor",e.target.checked)}}),label:"Show Sponsor Blocks for Repositioning",labelPlacement:"start"})})})})),Object(re.jsx)(Se,Object(i.a)(Object(i.a)({label:"Number Blocks",colorKey:"numberblock_color",opacityKey:"numberblock_opacity",editable:t},n),{},{extraChildren:Object(re.jsx)(le.q,{container:!0,spacing:2,children:Object(re.jsx)(le.q,{item:!0,xs:12,sm:12,children:Object(re.jsx)(Re,{control:Object(re.jsx)(le.h,{color:"primary",name:"show_numberBlocks",checked:n.values.show_numberBlocks,disabled:!t,onChange:function(e){return n.setFieldValue("show_numberBlocks",e.target.checked)}}),label:"Show Number Blocks for Repositioning",labelPlacement:"start"})})})})),Object(re.jsx)(Se,Object(i.a)(Object(i.a)({label:"Grid",colorKey:"grid_color",opacityKey:"grid_opacity",editable:t},n),{},{extraChildren:Object(re.jsxs)(le.q,{container:!0,spacing:2,children:[Object(re.jsx)(le.q,{item:!0,xs:12,sm:6,children:Object(re.jsx)(_e,{label:"Column Size",min:5,max:50,step:1,value:n.values.grid_padding,disabled:!t,setValue:function(e){return n.setFieldValue("grid_padding",e)}})}),Object(re.jsx)(le.q,{item:!0,xs:12,sm:6,children:Object(re.jsx)(_e,{label:"Stroke Width",min:.01,max:3,step:.01,value:n.values.grid_stroke,disabled:!t,setValue:function(e){return n.setFieldValue("grid_stroke",e)}})}),Object(re.jsx)(le.q,{item:!0,xs:12,sm:12,children:Object(re.jsx)(Re,{control:Object(re.jsx)(le.h,{color:"primary",name:"show_grid",checked:n.values.show_grid,disabled:!t,onChange:function(e){return n.setFieldValue("show_grid",e.target.checked)}}),label:"Show Grid for Repositioning",labelPlacement:"start"})})]})})),Object(re.jsx)(Se,Object(i.a)(Object(i.a)({label:"Car Parts",editable:t},n),{},{extraChildren:Object(re.jsx)(le.q,{container:!0,spacing:2,children:Object(re.jsx)(le.q,{item:!0,xs:12,sm:12,children:Object(re.jsx)(Re,{control:Object(re.jsx)(le.h,{color:"primary",name:"show_carparts_on_top",checked:n.values.show_carparts_on_top,disabled:!t,onChange:function(e){return n.setFieldValue("show_carparts_on_top",e.target.checked)}}),label:"Show Car Parts on top of other layers",labelPlacement:"start"})})})}))]})}),Object(re.jsxs)(le.k,{children:[Object(re.jsx)(le.g,{onClick:a,color:"secondary",children:"Cancel"}),Object(re.jsx)(le.g,{type:"submit",color:"primary",variant:"outlined",disabled:n.isSubmitting||!n.isValid||!t,children:"Apply"})]})]})})),Ee=b.a.memo((function(e){var t=e.guide_data,a=e.editable,n=e.onCancel,r=e.onApply,o=Object(u.useMemo)((function(){return{carmask_color:t.carmask_color||"",carmask_opacity:t.carmask_opacity||1,wireframe_color:t.wireframe_color||"",wireframe_opacity:t.wireframe_opacity||1,sponsor_color:t.sponsor_color||"",sponsor_opacity:t.sponsor_opacity||1,numberblock_color:t.numberblock_color||"",numberblock_opacity:t.numberblock_opacity||1,grid_color:t.grid_color||"",grid_opacity:t.grid_opacity||1,grid_padding:t.grid_padding||10,grid_stroke:t.grid_stroke||.1,show_wireframe:t.show_wireframe||!1,show_sponsor:t.show_sponsor||!1,show_numberBlocks:t.show_numberBlocks||!1,show_grid:t.show_grid||!1,show_carparts_on_top:t.show_carparts_on_top||!1}}),[t]);return Object(re.jsx)(de.b,{initialValues:o,validationSchema:se.b().shape({carmask_color:se.c().nullable().test("color-validation","Incorrect Color Format",ue.e),wireframe_color:se.c().nullable().test("color-validation","Incorrect Color Format",ue.e),sponsor_color:se.c().nullable().test("color-validation","Incorrect Color Format",ue.e),numberblock_color:se.c().nullable().test("color-validation","Incorrect Color Format",ue.e),grid_color:se.c().nullable().test("color-validation","Incorrect Color Format",ue.e)}),validate:function(e){return console.log(e),{}},onSubmit:r,children:function(e){return Object(re.jsx)(De,Object(i.a)(Object(i.a)({},e),{},{editable:a,onCancel:n}))}})})),Te=Object(d.c)(le.l).withConfig({displayName:"styles__CustomDialogContent",componentId:"sc-1v9xwdd-0"})(["padding-right:0;"]),Me=Object(d.c)(le.e).withConfig({displayName:"styles__CustomAutocomplete",componentId:"sc-1v9xwdd-1"})([".MuiInputLabel-outlined{transform:translate(14px,12px) scale(1);&.MuiInputLabel-shrink{transform:translate(14px,-6px) scale(0.75);}}.MuiInputBase-root{padding-top:0;padding-bottom:0;}"]),Fe=b.a.memo((function(e){var t=e.owner,a=e.editable,n=e.currentUserID,r=e.schemeID,o=e.premiumUsers,c=e.onCancel,l=Object(be.a)(e,["owner","editable","currentUserID","schemeID","premiumUsers","onCancel"]),s=l.isSubmitting,d=l.isValid,b=l.handleSubmit,j=l.setFieldValue,h=l.values,O=Object(u.useMemo)((function(){return t?o.filter((function(e){return e.id!==t.id&&!h.sharedUsers.find((function(t){return t.user_id===e.id}))})):[]}),[o,t,h]),f=Object(u.useMemo)((function(){return!!t&&t.id===n}),[t,n]),p=Object(u.useCallback)((function(e){j("newUser",e?{user_id:e.id,user:e,scheme_id:r,accepted:0,editable:0}:null)}),[r]),y=Object(u.useCallback)((function(e){j("newUser['editable']",e)}),[]),g=Object(u.useCallback)((function(e,t){j("sharedUsers[".concat(t,"]['editable']"),e)}),[]);return Object(re.jsxs)(de.a,{onSubmit:b,noValidate:!0,children:[Object(re.jsxs)(Te,{dividers:!0,id:"insert-text-dialog-content",children:[f?Object(re.jsxs)(le.f,{display:"flex",justifyContent:"space-between",mb:5,pr:5,children:[Object(re.jsx)(Me,{options:O,getOptionLabel:function(e){return e.id.toString()},style:{width:200},onChange:function(e,t){p(t)},renderInput:function(e){return Object(re.jsx)(le.z,Object(i.a)(Object(i.a)({},e),{},{label:"Enter Customer ID",variant:"outlined"}))}}),h.newUser?Object(re.jsxs)(le.f,{display:"flex",justifyContent:"space-between",flexGrow:1,ml:5,children:[Object(re.jsxs)(le.f,{mt:"-7px",children:[Object(re.jsx)(le.A,{children:h.newUser.user.drivername}),Object(re.jsxs)(le.A,{variant:"body2",color:"textSecondary",children:["ID #",h.newUser.user.id]})]}),Object(re.jsx)(le.f,{height:"31px",children:Object(re.jsxs)(le.x,{variant:"outlined",value:h.newUser.editable,onChange:function(e){return y(e.target.value)},children:[Object(re.jsx)(le.v,{value:0,children:"Can view"}),Object(re.jsx)(le.v,{value:1,children:"Can view & edit"}),Object(re.jsx)(le.v,{value:-1,children:"Cancel"})]})})]}):Object(re.jsx)(re.Fragment,{})]}):Object(re.jsx)(re.Fragment,{}),Object(re.jsxs)(le.f,{maxHeight:"50vh",pr:5,overflow:"auto",children:[Object(re.jsxs)(le.f,{display:"flex",justifyContent:"space-between",mb:4,children:[Object(re.jsx)(le.A,{color:"textSecondary",children:t.drivername+(f?" (you)":"")}),Object(re.jsx)(le.A,{color:"textSecondary",children:"Owner"})]}),h.sharedUsers.map((function(e,t){return Object(re.jsxs)(le.f,{display:"flex",justifyContent:"space-between",mb:4,children:[Object(re.jsxs)(le.f,{mt:"-7px",children:[Object(re.jsx)(le.A,{color:"textSecondary",children:e.user.drivername+(n===e.user.id?" (you)":"")}),Object(re.jsxs)(le.A,{variant:"body2",color:"textSecondary",children:["ID #",e.user.id]})]}),Object(re.jsx)(le.f,{height:"31px",children:Object(re.jsxs)(le.x,{variant:"outlined",value:e.editable,disabled:!f&&n!==e.user.id,onChange:function(e){return g(e.target.value,t)},children:[Object(re.jsx)(le.v,{value:0,children:"Can view"}),Object(re.jsx)(le.v,{value:1,disabled:!a,children:"Can view & edit"}),Object(re.jsx)(le.v,{value:-1,children:"Remove"})]})})]},t)}))]})]}),Object(re.jsxs)(le.k,{children:[Object(re.jsx)(le.g,{onClick:c,color:"secondary",children:"Cancel"}),Object(re.jsx)(le.g,{type:"submit",color:"primary",variant:"outlined",disabled:s||!d,children:"Apply"})]})]})})),Be=b.a.memo((function(e){var t=e.editable,a=e.ownerID,n=e.schemeID,r=e.currentUserID,o=e.userList,c=e.sharedUsers,l=e.onCancel,s=e.onApply,d=Object(u.useMemo)((function(){return o.find((function(e){return e.id===a}))}),[a,o]),b=Object(u.useMemo)((function(){return o.filter((function(e){return e.pro_user}))}),[o]),j=Object(u.useMemo)((function(){return{newUser:null,sharedUsers:c}}),[c]);return Object(re.jsx)(de.b,{initialValues:j,validate:function(e){return console.log(e),{}},onSubmit:s,children:function(e){return Object(re.jsx)(Fe,Object(i.a)(Object(i.a)({},e),{},{editable:t,owner:d,currentUserID:r,schemeID:n,premiumUsers:b,onCancel:l}))}})})),Ae=a(646),Pe=Object(d.c)(le.l).withConfig({displayName:"styles__CustomDialogContent",componentId:"sc-1ffh7ij-0"})(["padding-right:0;"]),Ne=Object(d.c)(le.g).withConfig({displayName:"styles__CustomButton",componentId:"sc-1ffh7ij-1"})(["font-size:16px;font-weight:400;"]),Ue=Object(d.c)(le.z).withConfig({displayName:"styles__NameInput",componentId:"sc-1ffh7ij-2"})(["width:",";"],(function(e){return e.width})),Ye=a(1240),We=a(1241),Xe=a(647),ze=a(734),Ge=a(632),He=b.a.memo((function(e){var t=e.editable,a=e.favoriteID,n=e.scheme,r=e.currentUser,o=e.owner,c=e.modifier,i=e.onRemoveFavorite,l=e.onAddFavorite,d=e.onClose,b=e.onDelete,j=e.onRename,h=Object(x.f)(),O=Object(u.useState)(!1),f=Object(s.a)(O,2),p=f[0],y=f[1],g=Object(u.useState)(!1),m=Object(s.a)(g,2),_=m[0],w=m[1],C=Object(u.useState)(n.name),v=Object(s.a)(C,2),k=v[0],L=v[1],S=Object(u.useCallback)((function(){y(!0),a?i(a,(function(){return y(!1)})):l(r.id,n.id,(function(){return y(!1)}))}),[a,r,i,l,y]),R=Object(u.useCallback)((function(e){L(e.target.value)}),[L]),I=Object(u.useCallback)((function(){j(n.id,k)}),[n,k]),D=Object(u.useCallback)((function(){L(n.name)}),[L,n.name]),E=Object(u.useCallback)((function(e){13===e.keyCode&&(e.preventDefault(),I())}),[I]),T=Object(u.useCallback)((function(){b(n.id,(function(){return h.push("/")}))}),[b,n]);return Object(u.useEffect)((function(){L(n.name)}),[n.name]),Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)(Pe,{dividers:!0,children:[p?Object(re.jsx)(le.i,{size:30,mb:2}):Object(re.jsx)(Ne,{startIcon:a?Object(re.jsx)(Ge.a,{icon:Xe.o,size:"sm"}):Object(re.jsx)(Ge.a,{icon:ze.a,size:"sm"}),mb:2,onClick:S,children:"Favorite"}),Object(re.jsxs)(le.f,{display:"flex",my:2,children:[Object(re.jsx)(Ue,{label:"Name",variant:"outlined",disabled:!t,value:k,onChange:R,onKeyDown:E,width:"300px",mr:2}),n&&k!==n.name?Object(re.jsx)(ee.a,{title:"Discard Change",arrow:!0,mr:1,children:Object(re.jsx)(le.r,{onClick:D,color:"secondary",children:Object(re.jsx)(Ye.a,{})})}):Object(re.jsx)(re.Fragment,{}),n&&k!==n.name?Object(re.jsx)(ee.a,{title:"Save",arrow:!0,children:Object(re.jsx)(le.r,{onClick:I,children:Object(re.jsx)(We.a,{})})}):Object(re.jsx)(re.Fragment,{})]}),Object(re.jsxs)(le.f,{pl:2,children:[Object(re.jsxs)(le.A,{children:["Owner: ",o.drivername]}),Object(re.jsxs)(le.A,{children:["Created: ",new Date(1e3*n.date_created).toDateString()]}),Object(re.jsxs)(le.A,{children:["Last Modified:"," ",new Date(1e3*n.date_modified).toDateString()," By"," ",c.drivername]})]}),o.id===r.id?Object(re.jsx)(Ne,{mt:2,onClick:function(){return w('Are you sure to delete "'.concat(n.name,'"?'))},color:"secondary",children:"Delete Project"}):Object(re.jsx)(re.Fragment,{})]}),Object(re.jsx)(le.k,{children:Object(re.jsx)(le.g,{onClick:d,color:"secondary",variant:"outlined",children:"Close"})}),Object(re.jsx)(Ae.a,{text:_,open:!!_,onCancel:function(){return w(null)},onConfirm:T})]})})),Ke=a(1275),Ve=a(1242),qe=a(7),Ze=function(e){var t=e.children,a=e.value,n=e.index,r=Object(be.a)(e,["children","value","index"]);return Object(re.jsx)(B.a,Object(i.a)(Object(i.a)({role:"tabpanel",hidden:a!==n,id:"project-settings-tabpanel-".concat(n),"aria-labelledby":"project-settings-tab-".concat(n)},r),{},{children:a===n&&Object(re.jsx)(re.Fragment,{children:t})}))},Je=function(e){return{id:"project-settings-tab-".concat(e),"aria-controls":"project-settings-tabpanel-".concat(e)}},Qe=Object(qe.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{width:"100%",backgroundColor:"#635ee7"}},root:{paddingLeft:"24px"}})((function(e){return Object(re.jsx)(Ke.a,Object(i.a)(Object(i.a)({},e),{},{TabIndicatorProps:{children:Object(re.jsx)("span",{})}}))})),$e=Object(qe.a)((function(e){return{root:{textTransform:"none",color:"#fff",fontWeight:e.typography.fontWeightRegular,fontSize:"1rem",marginRight:"10px",padding:"6px 5px",minWidth:120,"&:focus":{opacity:1}}}}))((function(e){return Object(re.jsx)(Ve.a,Object(i.a)({disableRipple:!0},e))})),et=function(e){var t=e.scheme,a=e.editable,n=e.favoriteID,r=e.currentUser,o=e.userList,c=e.sharedUsers,l=e.onCancel,d=e.open,b=e.onApplyGuideSettings,j=e.onApplySharingSetting,h=e.onAddFavorite,O=e.onRemoveFavorite,f=e.onRename,p=e.onDelete,y=t.id,g=t.user_id,m=t.guide_data,x=t.last_modified_by,_=Object(u.useState)(0),w=Object(s.a)(_,2),C=w[0],v=w[1],k=Object(u.useMemo)((function(){return o.find((function(e){return e.id===g}))}),[g,o]),L=Object(u.useMemo)((function(){return o.find((function(e){return e.id===x}))}),[x,o]),S=Object(u.useCallback)((function(e,t){v(t)}),[v]);return Object(re.jsxs)(le.j,{"aria-labelledby":"insert-text-title",open:d,onClose:l,fullWidth:!0,maxWidth:"sm",children:[Object(re.jsx)(le.m,{id:"insert-text-title",children:"Project Settings"}),Object(re.jsxs)(Qe,{value:C,onChange:S,"aria-label":"Project Settings Tab",children:[Object(re.jsx)($e,Object(i.a)({label:"General"},Je(0))),Object(re.jsx)($e,Object(i.a)({label:"Painting Guides"},Je(1))),Object(re.jsx)($e,Object(i.a)({label:"Sharing"},Je(2)))]}),Object(re.jsxs)(le.f,{children:[Object(re.jsx)(Ze,{value:C,index:0,children:Object(re.jsx)(He,{editable:a,scheme:t,currentUser:r,owner:k,modifier:L,favoriteID:n,onRemoveFavorite:O,onAddFavorite:h,onRename:f,onDelete:p,onClose:l})}),Object(re.jsx)(Ze,{value:C,index:1,children:Object(re.jsx)(Ee,{editable:a,guide_data:m,onApply:b,onCancel:l})}),Object(re.jsx)(Ze,{value:C,index:2,children:Object(re.jsx)(Be,{editable:a,ownerID:g,currentUserID:r.id,schemeID:y,userList:o,sharedUsers:c,onApply:j,onCancel:l})})]})]})},tt=b.a.memo(et),at=a(12),nt=Object(d.c)(X.a).withConfig({displayName:"Toolbar__Typography",componentId:"sc-1sow5sy-0"})(W.b),rt=Object(d.c)(H.a).withConfig({displayName:"Toolbar__ToggleButton",componentId:"sc-1sow5sy-1"})(W.b),ot=Object(d.c)(z.a).withConfig({displayName:"Toolbar__IconButton",componentId:"sc-1sow5sy-2"})(W.b),ct=d.c.div.withConfig({displayName:"Toolbar__Wrapper",componentId:"sc-1sow5sy-3"})(["width:100%;height:50px;display:flex;padding:10px 20px;background:#151515;z-index:1201;"]),it=Object(d.c)(G.a).withConfig({displayName:"Toolbar__ZoomButton",componentId:"sc-1sow5sy-4"})(["&.MuiButton-contained{color:#fff;background-color:rgba(255,255,255,0.12);}"]),lt=b.a.memo((function(e){var t=e.editable,a=e.onZoomIn,n=e.onZoomOut,r=e.onZoomFit,o=e.onChangePaintingGuides,c=e.onDownloadTGA,l=Object(u.useState)(null),d=Object(s.a)(l,2),b=d[0],j=d[1],h=Object(u.useState)(null),O=Object(s.a)(h,2),f=O[0],y=O[1],g=Object(p.d)(),m=Object(p.e)((function(e){return e.boardReducer.paintingGuides})),x=Object(p.e)((function(e){return e.boardReducer.actionHistoryIndex})),_=Object(p.e)((function(e){return e.boardReducer.actionHistory})),w=Object(p.e)((function(e){return e.boardReducer.zoom})),C=Object(p.e)((function(e){return e.boardReducer.showProperties})),v=Object(p.e)((function(e){return e.schemeReducer.current})),k=Object(p.e)((function(e){return e.schemeReducer.sharedUsers})),L=Object(p.e)((function(e){return e.userReducer.list})),S=Object(p.e)((function(e){return e.authReducer.user})),R=Object(p.e)((function(e){return e.schemeReducer.favoriteList})),I=Object(u.useMemo)((function(){return R.find((function(e){return e.scheme_id===v.id}))}),[R]),D=Object(u.useCallback)((function(){g(Object(U.k)(!C))}),[g,C]),E=Object(u.useCallback)((function(e,t){o(t)}),[o]),T=Object(u.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];g(e?Object(U.c)():Object(U.d)())}),[g]),M=Object(u.useCallback)((function(e){y(e.currentTarget)}),[y]),F=Object(u.useCallback)((function(){y(null)}),[y]),P=Object(u.useCallback)((function(e){g(Object(U.l)(e))}),[g]),W=Object(u.useCallback)((function(e){g(Object(Y.y)(Object(i.a)(Object(i.a)({},v),{},{guide_data:e}))),j(null)}),[g,v,j]),X=Object(u.useCallback)((function(e){console.log(e);var t=0;e.newUser&&e.newUser.editable>=0&&(t+=1,g(Object(Y.i)({user_id:e.newUser.user_id,scheme_id:e.newUser.scheme_id,accepted:e.newUser.accepted,editable:e.newUser.editable},(function(){g(Object(at.b)({message:"Shared Project successfully!",type:"success"}))}))));var a,n=Object(N.a)(e.sharedUsers);try{for(n.s();!(a=n.n()).done;){var r=a.value;-1===r.editable?g(Object(Y.o)(r.id,(function(){t||g(Object(at.b)({message:"Applied Sharing Setting successfully!",type:"success"})),t+=1}))):g(Object(Y.A)(r.id,{editable:r.editable},(function(){t||g(Object(at.b)({message:"Applied Sharing Setting successfully!",type:"success"})),t+=1})))}}catch(o){n.e(o)}finally{n.f()}j(null)}),[g,j]),z=Object(u.useCallback)((function(e,t,a){g(Object(Y.g)({user_id:e,scheme_id:t},a))}),[g]),H=Object(u.useCallback)((function(e,t){g(Object(Y.k)(e,t))}),[g]),te=Object(u.useCallback)((function(e,t){g(Object(Y.y)({id:e,name:t},!0,!1))}),[g]),ae=Object(u.useCallback)((function(e,t){g(Object(Y.m)(e,t))}),[g]);return Object(re.jsxs)(ct,{children:[Object(re.jsxs)(B.a,{display:"flex",justifyContent:"space-between",alignContent:"center",width:"100%",children:[Object(re.jsxs)(B.a,{display:"flex",justifyContent:"start",alignContent:"center",children:[Object(re.jsxs)(K.a,{value:m,onChange:E,"aria-label":"Painting Guides",children:[Object(re.jsx)(rt,{value:A.g.CARMASK,"aria-label":"car-mask",children:Object(re.jsx)(ee.a,{title:"Toggle Car Mask Guide (HotKey: 1)",arrow:!0,children:Object(re.jsx)(nt,{variant:"caption",children:"car mask"})})}),Object(re.jsx)(rt,{value:A.g.WIREFRAME,"aria-label":"wireframe",children:Object(re.jsx)(ee.a,{title:"Toggle Wireframe Guide (HotKey: 2)",arrow:!0,children:Object(re.jsx)(nt,{variant:"caption",children:"wireframe"})})}),Object(re.jsx)(rt,{value:A.g.SPONSORBLOCKS,"aria-label":"sponsor-blocks",children:Object(re.jsx)(ee.a,{title:"Toggle Sponsor Blocks Guide (HotKey: 3)",arrow:!0,children:Object(re.jsx)(nt,{variant:"caption",children:"sponsor blocks"})})}),Object(re.jsx)(rt,{value:A.g.NUMBERBLOCKS,"aria-label":"number-blocks",children:Object(re.jsx)(ee.a,{title:"Toggle Number Blocks Guide (HotKey: 4)",arrow:!0,children:Object(re.jsx)(nt,{variant:"caption",children:"number blocks"})})}),Object(re.jsx)(rt,{value:A.g.GRID,"aria-label":"grid",children:Object(re.jsx)(ee.a,{title:"Toggle Grid Guide (HotKey: 5)",arrow:!0,children:Object(re.jsx)(nt,{variant:"caption",children:"grid"})})})]}),Object(re.jsx)(ee.a,{title:"Settings",arrow:!0,children:Object(re.jsx)(ot,{ml:2,onClick:function(){return j(A.c.SETTINGS)},children:Object(re.jsx)(V.a,{})})})]}),Object(re.jsxs)(B.a,{display:"flex",justifyContent:"flex-end",alignContent:"center",children:[Object(re.jsx)(G.a,{variant:"outlined",onClick:c,children:"Download TGA"}),Object(re.jsx)(ee.a,{title:"Undo",arrow:!0,children:Object(re.jsx)(ot,{disabled:-1===x,onClick:function(){return T(!0)},children:Object(re.jsx)(q.a,{})})}),Object(re.jsx)(ee.a,{title:"Redo",arrow:!0,children:Object(re.jsx)(ot,{disabled:x===_.length-1,onClick:function(){return T(!1)},children:Object(re.jsx)(Z.a,{})})}),Object(re.jsxs)(it,{variant:"contained",endIcon:Object(re.jsx)(J.a,{}),onClick:M,children:[(100*w).toFixed(2)," %"]}),Object(re.jsx)(ie,{anchorEl:f,zoom:w,setZoom:P,onZoomIn:a,onZoomOut:n,onZoomFit:r,onClose:F}),Object(re.jsx)(ee.a,{title:"Toggle Properties",arrow:!0,children:Object(re.jsx)(ot,{onClick:D,ml:2,children:C?Object(re.jsx)(Q.a,{}):Object(re.jsx)($.a,{})})})]})]}),Object(re.jsx)(tt,{scheme:v,editable:t,favoriteID:I?I.id:null,currentUser:S,sharedUsers:k,userList:L,open:b===A.c.SETTINGS,onApplyGuideSettings:W,onApplySharingSetting:X,onRemoveFavorite:H,onAddFavorite:z,onRename:te,onDelete:ae,onCancel:function(){return j(null)}})]})})),st=a(906),dt=a.n(st),ut=a(631),bt=a(1250),jt=a(1251),ht=a(744),Ot=a(683),ft=a.n(Ot),pt=function(e){var t=e.id,a=e.src,n=e.filterColor,c=e.frameSize,l=e.allowFit,d=e.layer_data,b=e.loadedStatus,j=e.onLoadLayer,h=e.tellSize,O=e.onSelect,f=e.onChange,p=e.onHover,y=e.onDragStart,g=e.onDragEnd,m=Object(be.a)(e,["id","src","filterColor","frameSize","allowFit","layer_data","loadedStatus","onLoadLayer","tellSize","onSelect","onChange","onHover","onDragStart","onDragEnd"]),x=Object(u.useRef)(null),_=Object(u.useRef)(),w=Object(u.useState)(null),C=Object(s.a)(w,2),v=C[0],k=C[1],L=Object(u.useMemo)((function(){return n&&n.length?[ft.a.Filters.RGBA]:[]}),[n]),S=Object(u.useCallback)((function(e){return x.current?Math.max(1,x.current.width/e.width(),x.current.height/e.height()):1}),[]);Object(u.useEffect)((function(){return!1!==b&&!0!==b&&j&&t&&j(t,!1),I(),function(){x.current&&x.current.removeEventListener("load",R)}}),[]),Object(u.useEffect)((function(){_.current&&(n&&n.length?_.current.cache({pixelRatio:S(_.current),imageSmoothingEnabled:!0}):_.current.clearCache())}),[n]);var R=Object(u.useCallback)(Object(o.a)(r.a.mark((function e(){var o,i,s,d,u,b,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!l||x.current.width<=c.width/2&&x.current.height<=c.height/2?x.current.width:c.width/2,i=!l||x.current.width<=c.width/2&&x.current.height<=c.height/2?x.current.height:c.width/2*x.current.height/x.current.width,s=m.width||o,d=m.height||i,!a.toLowerCase().includes(".svg")||x.current.width&&x.current.height){e.next=18;break}return u=document.createElement("canvas"),b=u.getContext("2d"),e.next=9,ht.a.from(b,a,{enableRedraw:!0});case 9:return O=e.sent,s=s||O.documentElement.node.width.baseVal.value||200,d=d||O.documentElement.node.height.baseVal.value||200,O.resize(s,d,"none"),e.next=15,O.render();case 15:k(u),e.next=19;break;case 18:k(x.current);case 19:!f||m.width||m.height||f({left:Object(ue.p)(m.x-s/2),top:Object(ue.p)(m.y-d/2),width:Object(ue.p)(s),height:Object(ue.p)(d)}),n&&n.length&&_.current.cache({pixelRatio:S(_.current),imageSmoothingEnabled:!0}),h&&h({width:s,height:d}),j&&t&&j(t,!0);case 23:case"end":return e.stop()}}),e)}))),[c,l,m.width,m.height,h,j,f,k,S,ue.p]),I=Object(u.useCallback)(Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new window.Image).src=a+"?timestamp=".concat((new Date).toISOString()),t.crossOrigin="anonymous",x.current=t,x.current.addEventListener("load",R);case 5:case"end":return e.stop()}}),e)}))),[R]),D=Object(u.useCallback)((function(e){O(),y&&y()}),[O,y]),E=Object(u.useCallback)((function(e){f&&f({left:Object(ue.p)(e.target.x()),top:Object(ue.p)(e.target.y())}),g&&g()}),[ue.p,f,g]),T=Object(u.useCallback)((function(e){if(f){var t=_.current,a=t.scaleX(),r=t.scaleY();t.scaleX(a>0?1:-1),t.scaleY(r>0?1:-1);var o=Math.abs(1!==Math.abs(Object(ue.p)(r))?r:a);f({left:Object(ue.p)(t.x()),top:Object(ue.p)(t.y()),width:Object(ue.p)(Math.max(1,t.width()*Math.abs(a))),height:Object(ue.p)(Math.max(1,t.height()*Math.abs(r))),rotation:Object(ue.p)(t.rotation())||0,flop:a>0?0:1,flip:r>0?0:1,shadowBlur:Object(ue.p)(t.shadowBlur()*o),shadowOffsetX:Object(ue.p)(d.shadowOffsetX*Math.abs(a)),shadowOffsetY:Object(ue.p)(d.shadowOffsetY*Math.abs(r))}),n&&n.length?t.cache({pixelRatio:S(_.current),imageSmoothingEnabled:!0}):t.clearCache()}}),[n,ue.p,S,f]);return Object(re.jsx)(ut.f,Object(i.a)(Object(i.a)({},m),{},{image:v,onClick:O,onTap:O,ref:_,draggable:f,filters:L.length?L:null,red:n&&n.length?Object(ue.m)(n).r:null,green:n&&n.length?Object(ue.m)(n).g:null,blue:n&&n.length?Object(ue.m)(n).b:null,alpha:n&&n.length?Object(ue.m)(n).a/255:null,onDragStart:D,onDragEnd:E,onTransformEnd:T,perfectDrawEnabled:!1,shadowForStrokeEnabled:!1,onMouseOver:function(){return m.listening&&p&&p(!0)},onMouseOut:function(){return m.listening&&p&&p(!1)}}))},yt=function(e){var t=e.legacyMode,a=e.paintingGuides,n=e.carMake,r=e.handleImageSize,o=e.frameSize,c=e.guideData,i=e.loadedStatuses,l=e.onLoadLayer,s=Object(u.useMemo)((function(){return c.grid_padding||10}),[c]),d=Object(u.useMemo)((function(){return c.grid_stroke||.1}),[c]),b=Object(u.useCallback)((function(e){return(t?Object(ue.o)(n):Object(ue.d)(n))+e}),[t,n]);return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(pt,{id:"guide-wireframe",loadedStatus:i["guide-wireframe"],src:b("wireframe.png"),tellSize:r,filterColor:c.wireframe_color,opacity:c.wireframe_opacity,listening:!1,visible:!!a.includes(A.g.WIREFRAME),onLoadLayer:l}),Array.from(Array(Math.round(o.width/s)),(function(e,t){return Object(re.jsx)(ut.h,{points:[Math.round(t*s),0,Math.round(t*s),o.width],stroke:c.grid_color||"#ddd",opacity:c.grid_opacity||1,strokeWidth:d,listening:!1,visible:!!a.includes(A.g.GRID)},"x-".concat(t))})),Array.from(Array(Math.round(o.height/s)),(function(e,t){return Object(re.jsx)(ut.h,{points:[0,Math.round(t*s),o.height,Math.round(t*s)],stroke:c.grid_color||"#ddd",opacity:c.grid_opacity||1,strokeWidth:d,listening:!1,visible:!!a.includes(A.g.GRID)},"y-".concat(t))}))]})},gt=b.a.memo(yt),mt=function(e){var t=e.legacyMode,a=e.paintingGuides,n=e.carMake,r=e.handleImageSize,o=e.guideData,c=e.loadedStatuses,i=e.onLoadLayer,l=Object(u.useCallback)((function(e){return(t?Object(ue.o)(n):Object(ue.d)(n))+e}),[t,n]);return Object(re.jsx)(pt,{id:"guide-mask",loadedStatus:c["guide-mask"],src:l("mask.png"),tellSize:r,filterColor:o.carmask_color,opacity:o.carmask_opacity,listening:!1,visible:!!a.includes(A.g.CARMASK),onLoadLayer:i})},xt=b.a.memo(mt),_t=function(e){var t=e.legacyMode,a=e.paintingGuides,n=e.carMake,r=e.handleImageSize,o=e.guideData,c=e.loadedStatuses,i=e.onLoadLayer,l=Object(u.useCallback)((function(e){return(t?Object(ue.o)(n):Object(ue.d)(n))+e}),[t,n]);return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(pt,{id:"guide-sponsorblocks",loadedStatus:c["guide-sponsorblocks"],src:l("sponsor_blocks.png"),tellSize:r,filterColor:o.sponsor_color,opacity:o.sponsor_opacity,listening:!1,visible:!!a.includes(A.g.SPONSORBLOCKS),onLoadLayer:i}),Object(re.jsx)(pt,{id:"guide-numberblocks",loadedStatus:c["guide-numberblocks"],src:l("number_blocks.png"),tellSize:r,filterColor:o.numberblock_color,opacity:o.numberblock_opacity,listening:!1,visible:!!a.includes(A.g.NUMBERBLOCKS),onLoadLayer:i})]})},wt=b.a.memo(_t),Ct=function(e){var t=e.layers,a=e.legacyMode,n=e.carMake,r=e.loadedStatuses,o=e.handleImageSize,c=e.onLoadLayer,i=Object(u.useMemo)((function(){return f.a.orderBy(t.filter((function(e){return e.layer_type===A.e.CAR})),["layer_order"],["desc"])}),[t]),l=Object(u.useCallback)((function(e){return(a?Object(ue.o)(n):Object(ue.d)(n))+e}),[a,n]);return Object(re.jsx)(re.Fragment,{children:i.map((function(e){return Object(re.jsx)(pt,{id:e.id,src:l(e.layer_data.img),filterColor:e.layer_data.color,listening:!1,visible:!!e.layer_visible,loadedStatus:r[e.id],onLoadLayer:c,tellSize:o},e.id)}))})},vt=b.a.memo(Ct),kt=function(e){var t=e.legacyMode,a=e.layers,n=e.carMake,r=e.loadedStatuses,o=e.handleImageSize,c=e.onLoadLayer,i=Object(u.useMemo)((function(){return f.a.orderBy(a.filter((function(e){return e.layer_type===A.e.BASE})),["layer_order","desc"])}),[a]),l=Object(u.useCallback)((function(e){return t?Object(ue.n)(e.layer_data)+e.layer_data.img:Object(ue.c)(n,e.layer_data.basePaintIndex)+e.layer_data.img}),[t,n]);return Object(re.jsx)(re.Fragment,{children:i.map((function(e){return Object(re.jsx)(pt,{id:e.id,src:l(e),opacity:e.layer_data.opacity,filterColor:e.layer_data.color,listening:!1,visible:!!e.layer_visible,loadedStatus:r[e.id],tellSize:o,onLoadLayer:c},e.id)}))})},Lt=b.a.memo(kt),St=function(e){var t=e.id,a=e.src,n=e.editable,c=e.bgColor,l=void 0===c?null:c,d=e.paddingX,b=void 0===d?0:d,j=e.paddingY,h=void 0===j?0:j,O=e.filterColor,f=e.frameSize,p=e.allowFit,y=e.layer_data,g=e.loadedStatus,m=e.onLoadLayer,x=e.tellSize,_=e.onSelect,w=e.onChange,C=e.onHover,v=e.onDragStart,k=e.onDragEnd,L=Object(be.a)(e,["id","src","editable","bgColor","paddingX","paddingY","filterColor","frameSize","allowFit","layer_data","loadedStatus","onLoadLayer","tellSize","onSelect","onChange","onHover","onDragStart","onDragEnd"]),S=Object(u.useRef)(null),R=Object(u.useRef)(),I=Object(u.useRef)(),D=Object(u.useState)(null),E=Object(s.a)(D,2),T=E[0],M=E[1],F=Object(u.useMemo)((function(){return O&&O.length?[ft.a.Filters.RGBA]:[]}),[O]),B=Object(u.useCallback)((function(e){return S.current?Math.max(1,S.current.width/e.width(),S.current.height/e.height()):1}),[]);Object(u.useEffect)((function(){return!1!==g&&!0!==g&&m&&t&&m(t,!1),P(),function(){S.current&&S.current.removeEventListener("load",A)}}),[]),Object(u.useEffect)((function(){I.current&&(O&&O.length?I.current.cache({pixelRatio:B(I.current),imageSmoothingEnabled:!0}):I.current.clearCache())}),[O]);var A=Object(u.useCallback)(Object(o.a)(r.a.mark((function e(){var n,o,c,i,l,s,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!p||S.current.width<=f.width/2&&S.current.height<=f.height/2?S.current.width:f.width/2,o=!p||S.current.width<=f.width/2&&S.current.height<=f.height/2?S.current.height:f.width/2*S.current.height/S.current.width,c=L.width||n,i=L.height||o,!a.toLowerCase().includes(".svg")||S.current.width&&S.current.height){e.next=19;break}return l=document.createElement("canvas"),s=l.getContext("2d"),e.next=9,ht.a.from(s,a,{enableRedraw:!0});case 9:return d=e.sent,console.log(d),c=c||d.documentElement.node.width.baseVal.value||200,i=i||d.documentElement.node.height.baseVal.value||200,d.resize(c,i,"none"),e.next=16,d.render();case 16:M(l),e.next=20;break;case 19:M(S.current);case 20:!w||L.width||L.height||w({left:Object(ue.p)(L.x-c/2),top:Object(ue.p)(L.y-i/2),width:Object(ue.p)(c),height:Object(ue.p)(i)}),O&&O.length&&I.current.cache({pixelRatio:B(I.current),imageSmoothingEnabled:!0}),x&&x({width:c,height:i}),m&&t&&m(t,!0);case 24:case"end":return e.stop()}}),e)}))),[f,p,L.width,L.height,x,m,w,M,B,ue.p]),P=Object(u.useCallback)(Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new window.Image).src=a+"?timestamp=".concat((new Date).toISOString()),t.crossOrigin="anonymous",S.current=t,S.current.addEventListener("load",A);case 5:case"end":return e.stop()}}),e)}))),[A]),N=Object(u.useCallback)((function(e){_(),v&&v()}),[_,v]),U=Object(u.useCallback)((function(e){w&&w({left:Object(ue.p)(e.target.x()),top:Object(ue.p)(e.target.y())}),k&&k()}),[ue.p,w,k]),Y=Object(u.useCallback)((function(e){if(w){var t=R.current,a=I.current,n=t.scaleX(),r=t.scaleY();console.log("scaleX, scaleY: ",n,r),t.scaleX(n>0?1:-1),t.scaleY(r>0?1:-1);var o=Math.abs(1!==Math.abs(Object(ue.p)(r))?r:n);w({left:Object(ue.p)(t.x()),top:Object(ue.p)(t.y()),width:Object(ue.p)(Math.max(1,t.width()*Math.abs(n))),height:Object(ue.p)(Math.max(1,t.height()*Math.abs(r))),rotation:Object(ue.p)(t.rotation())||0,flop:n>0?0:1,flip:r>0?0:1,shadowBlur:Object(ue.p)(a.shadowBlur()*o),shadowOffsetX:Object(ue.p)((y.shadowOffsetX||0)*Math.abs(n)),shadowOffsetY:Object(ue.p)((y.shadowOffsetY||0)*Math.abs(r)),paddingX:Object(ue.p)((y.paddingX||0)*Math.abs(n)),paddingY:Object(ue.p)((y.paddingY||0)*Math.abs(r))}),O&&O.length?a.cache({pixelRatio:B(a),imageSmoothingEnabled:!0}):a.clearCache()}}),[O,ue.p,B,w]);return Object(re.jsxs)(ut.e,Object(i.a)(Object(i.a)({},L),{},{ref:R,onClick:_,onTap:_,draggable:w&&n,onDragStart:N,onDragEnd:U,onTransformEnd:Y,onMouseOver:function(){return L.listening&&C&&C(!0)},onMouseOut:function(){return L.listening&&C&&C(!1)},children:[Object(re.jsx)(ut.i,{x:-b||0,y:-h||0,width:L.width+2*(b||0),height:L.height+2*(h||0),fill:l}),Object(re.jsx)(ut.f,{x:0,y:0,width:L.width,height:L.height,shadowBlur:L.shadowBlur,shadowOffsetX:L.shadowOffsetX,shadowOffsetY:L.shadowOffsetY,image:T,ref:I,red:O&&O.length?Object(ue.m)(O).r:null,green:O&&O.length?Object(ue.m)(O).g:null,blue:O&&O.length?Object(ue.m)(O).b:null,alpha:O&&O.length?Object(ue.m)(O).a/255:null,filters:F.length?F:null,perfectDrawEnabled:!1,shadowForStrokeEnabled:!1})]}))},Rt=a(46),It=function(e){var t=e.layers,a=e.editable,n=e.setCurrentLayer,r=e.frameSize,o=e.mouseMode,c=e.boardRotate,i=e.loadedStatuses,l=e.onChange,s=e.onHover,d=e.onLoadLayer,b=e.onDragStart,j=e.onDragEnd,h=Object(u.useMemo)((function(){return f.a.orderBy(t.filter((function(e){return e.layer_type===A.e.OVERLAY})),["layer_order"],["desc"])}),[t]),O=Object(u.useCallback)((function(e){return Object(ue.i)(c,{x:e.layer_data.shadowOffsetX,y:e.layer_data.shadowOffsetY})}),[c]);return Object(re.jsx)(re.Fragment,{children:h.map((function(e){var t=O(e);return Object(re.jsx)(St,{id:e.id,editable:a,name:e.id.toString(),src:"".concat(Rt.a.assetsURL,"/").concat(e.layer_data.source_file),x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),allowFit:!0,filterColor:e.layer_data.color,width:e.layer_data.width,height:e.layer_data.height,rotation:e.layer_data.rotation,boardRotate:c,loadedStatus:i[e.id],opacity:e.layer_data.opacity,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,skewX:e.layer_data.skewX,skewY:e.layer_data.skewY,bgColor:e.layer_data.bgColor,paddingX:e.layer_data.paddingX,paddingY:e.layer_data.paddingY,shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:t.x,shadowOffsetY:t.y,onSelect:function(){return n(e)},listening:!e.layer_locked&&o===A.f.DEFAULT,frameSize:r,layer_data:e.layer_data,onChange:function(t){return l(e,t)},onHover:function(t){return s(e,t)},visible:!!e.layer_visible,onLoadLayer:d,onDragStart:b,onDragEnd:j},e.id)}))})},Dt=b.a.memo(It),Et=function(e){var t=e.id,a=e.fontFamily,n=e.fontFile,r=e.loadedFontList,o=(e.loadedList,e.shadowColor),c=e.shadowBlur,l=e.shadowOpacity,d=e.shadowOffsetX,b=e.shadowOffsetY,j=e.onLoadLayer,h=e.onSelect,O=e.onChange,f=e.onFontLoad,p=e.onHover,y=e.onDragStart,g=e.onDragEnd,m=Object(be.a)(e,["id","fontFamily","fontFile","loadedFontList","loadedList","shadowColor","shadowBlur","shadowOpacity","shadowOffsetX","shadowOffsetY","onLoadLayer","onSelect","onChange","onFontLoad","onHover","onDragStart","onDragEnd"]),x=Object(u.useState)(null),_=Object(s.a)(x,2),w=_[0],C=_[1],v=Object(u.useRef)();Object(u.useEffect)((function(){a&&n&&(r.includes(a)?(C(a),j&&t&&j(t,!0)):k())}),[a,n]);var k=Object(u.useCallback)((function(){new FontFace(a,n).load().then((function(e){document.fonts.add(e),f(a),C(a),j&&t&&j(t,!0)})).catch((function(e){console.warn(e,a)}))}),[t,a,n,f,j,C]),L=Object(u.useCallback)((function(e){h(),y&&y()}),[h,y]),S=Object(u.useCallback)((function(e){if(O){var t=v.current;O({left:Object(ue.p)(e.target.x()),top:Object(ue.p)(e.target.y()),width:Object(ue.p)(Math.max(5,t.width())),height:Object(ue.p)(Math.max(5,t.height()))})}g&&g()}),[O,g]),R=Object(u.useCallback)((function(e){if(O){var t=v.current,a=t.scaleX(),n=t.scaleY();O({left:Object(ue.p)(t.x()),top:Object(ue.p)(t.y()),width:Object(ue.p)(Math.max(5,t.width())),height:Object(ue.p)(Math.max(5,t.height())),rotation:Object(ue.p)(t.rotation())||0,scaleX:Object(ue.p)(Math.max(.01,a)),scaleY:Object(ue.p)(Math.max(.01,n)),flop:a>0?0:1,flip:n>0?0:1})}}),[O]);return Object(re.jsx)(ut.n,Object(i.a)(Object(i.a)({},m),{},{fontFamily:w,onClick:h,onTap:h,ref:v,shadowColor:v.current?o:null,shadowBlur:v.current?c:null,shadowOpacity:v.current?l:null,shadowOffsetX:v.current?d:null,shadowOffsetY:v.current?b:null,draggable:O,onDragStart:L,onDragEnd:S,onTransformEnd:R,perfectDrawEnabled:!1,shadowForStrokeEnabled:!1,onMouseOver:function(){return m.listening&&p&&p(!0)},onMouseOut:function(){return m.listening&&p&&p(!1)}}))},Tt=function(e){var t=e.editable,a=e.layers,n=e.loadedFontList,r=e.loadedStatuses,o=e.fonts,c=e.frameSize,i=e.mouseMode,l=e.setCurrentLayer,s=e.boardRotate,d=e.onChange,b=e.onFontLoad,j=e.onHover,h=e.onLoadLayer,O=e.onDragStart,p=e.onDragEnd,y=Object(u.useMemo)((function(){return f.a.orderBy(a.filter((function(e){return e.layer_type===A.e.LOGO||e.layer_type===A.e.UPLOAD||e.layer_type===A.e.TEXT})),["layer_order"],["desc"])}),[a]),g=Object(u.useCallback)((function(e){return o.length?o.find((function(t){return t.id===e.layer_data.font})):{}}),[o]),m=Object(u.useCallback)((function(e){return Object(ue.i)(s,{x:e.layer_data.shadowOffsetX,y:e.layer_data.shadowOffsetY})}),[s]);return Object(re.jsx)(re.Fragment,{children:y.map((function(e){var a=m(e);if(e.layer_type!==A.e.TEXT)return Object(re.jsx)(St,{id:e.id,name:e.id.toString(),editable:t,src:"".concat(Rt.a.assetsURL,"/").concat(e.layer_data.source_file),loadedStatus:r[e.id],x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),allowFit:!0,width:e.layer_data.width,height:e.layer_data.height,frameSize:c,rotation:e.layer_data.rotation,boardRotate:s,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,shadowColor:e.layer_data.shadowColor,bgColor:e.layer_data.bgColor,paddingX:e.layer_data.paddingX,paddingY:e.layer_data.paddingY,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:a.x,shadowOffsetY:a.y,skewX:e.layer_data.skewX,skewY:e.layer_data.skewY,opacity:e.layer_data.opacity,layer_data:e.layer_data,onSelect:function(){return l(e)},listening:!e.layer_locked&&i===A.f.DEFAULT,onChange:function(t){return d(e,t)},onHover:function(t){return j(e,t)},visible:!!e.layer_visible,onLoadLayer:h,onDragStart:O,onDragEnd:p},e.id);var o=g(e);return Object(re.jsx)(Et,{id:e.id,editable:t,name:e.id.toString(),text:e.layer_data.text,fontFamily:o.font_name,fontFile:o.font_file?"url(".concat(Rt.a.assetsURL,"/").concat(o.font_file,")"):null,loadedFontList:n,loadedStatus:r[e.id],onFontLoad:b,fontSize:e.layer_data.size,fill:e.layer_data.color,strokeWidth:e.layer_data.stroke,stroke:e.layer_data.scolor,strokeEnabled:!0,x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),skewX:e.layer_data.skewX,skewY:e.layer_data.skewY,offsetX:0,offsetY:0,opacity:e.layer_data.opacity,rotation:e.layer_data.rotation,scaleX:(e.layer_data.scaleX||1)*(1===e.layer_data.flop?-1:1),scaleY:(e.layer_data.scaleY||1)*(1===e.layer_data.flip?-1:1),shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:a.x,shadowOffsetY:a.y,visible:!!e.layer_visible,onSelect:function(){return l(e)},listening:!e.layer_locked&&i===A.f.DEFAULT,onChange:function(t){return d(e,t)},onHover:function(t){return j(e,t)},onLoadLayer:h,onDragStart:O,onDragEnd:p},e.id)}))})},Mt=b.a.memo(Tt),Ft=function(e){var t=e.id,a=e.type,n=e.editable,r=e.x,o=e.y,c=e.width,l=e.height,s=e.radius,d=e.points,b=e.lineCap,j=e.lineJoin,h=e.offsetsFromStroke,O=e.pointerLength,p=e.pointerWidth,y=e.innerRadius,g=e.outerRadius,m=e.cornerRadius,x=e.numPoints,_=e.angle,w=e.shadowColor,C=e.shadowBlur,v=e.shadowOpacity,k=e.shadowOffsetX,L=e.shadowOffsetY,S=e.layer_data,R=e.onSelect,I=e.onChange,D=e.onHover,E=e.onDragStart,T=e.onDragEnd,M=e.onLoadLayer,F=Object(be.a)(e,["id","type","editable","x","y","width","height","radius","points","lineCap","lineJoin","offsetsFromStroke","pointerLength","pointerWidth","innerRadius","outerRadius","cornerRadius","numPoints","angle","shadowColor","shadowBlur","shadowOpacity","shadowOffsetX","shadowOffsetY","layer_data","onSelect","onChange","onHover","onDragStart","onDragEnd","onLoadLayer"]),B=Object(u.useRef)(),P=Object(u.useCallback)((function(e){R(),E&&E()}),[R,E]),N=Object(u.useCallback)((function(e){if(I){var t=A.a[A.e.SHAPE][a];I(f.a.pick({left:Object(ue.p)(e.target.x()-h.x),top:Object(ue.p)(e.target.y()-h.y)},t.filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")}))))}T&&T()}),[h,I,T]),U=Object(u.useCallback)((function(e){if(I){var t=A.a[A.e.SHAPE][a],n=B.current,r=n.scaleX(),o=n.scaleY(),c=a!==A.f.ELLIPSE?n.width():n.radiusX(),i=a!==A.f.ELLIPSE?n.height():n.radiusY(),l=Math.abs(1!==Math.abs(Object(ue.p)(o))?o:r);n.scaleX(r>0?1:-1),n.scaleY(o>0?1:-1),I(f.a.pick({left:Object(ue.p)(n.x()-h.x),top:Object(ue.p)(n.y()-h.y),width:Object(ue.p)(Math.max(1,c*Math.abs(r))-h.width),height:Object(ue.p)(Math.max(1,i*Math.abs(o))-h.height),radius:n.radius?Object(ue.p)(Math.max(1,n.radius()*Math.abs(o))-h.radius):0,innerRadius:n.innerRadius?Object(ue.p)(Math.max(1,n.innerRadius()*Math.abs(o))-h.innerRadius):0,outerRadius:n.outerRadius?Object(ue.p)(Math.max(1,n.outerRadius()*Math.abs(o))-h.outerRadius):0,rotation:Object(ue.p)(n.rotation())||0,flop:r>0?0:1,flip:o>0?0:1,stroke:Object(ue.p)(n.strokeWidth()*l),shadowBlur:Object(ue.p)(n.shadowBlur()*l),shadowOffsetX:Object(ue.p)(S.shadowOffsetX*Math.abs(r)),shadowOffsetY:Object(ue.p)(S.shadowOffsetY*Math.abs(o)),cornerTopLeft:Object(ue.p)(S.cornerTopLeft*l),cornerTopRight:Object(ue.p)(S.cornerTopRight*l),cornerBottomLeft:Object(ue.p)(S.cornerBottomLeft*l),cornerBottomRight:Object(ue.p)(S.cornerBottomRight*l),points:d.map((function(e,t){return t%2===0?Object(ue.p)(e*Math.abs(r)):Object(ue.p)(e*Math.abs(o))}))},t.filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")}))))}}),[a,h,S,d,I]);return Object(u.useEffect)((function(){M&&t&&M(t,!0)}),[]),Object(re.jsx)(re.Fragment,{children:a===A.f.RECT?Object(re.jsx)(ut.i,Object(i.a)(Object(i.a)({},F),{},{ref:B,shadowColor:B.current?w:null,shadowBlur:B.current?C:null,shadowOpacity:B.current?v:null,shadowOffsetX:B.current?k:null,shadowOffsetY:B.current?L:null,cornerRadius:m,x:r,y:o,width:c,height:l,draggable:I&&n,onClick:R,onDragStart:P,onDragEnd:N,onTransformEnd:U,shadowForStrokeEnabled:!1,onMouseOver:function(){return F.listening&&D&&D(!0)},onMouseOut:function(){return F.listening&&D&&D(!1)}})):a===A.f.CIRCLE?Object(re.jsx)(ut.c,Object(i.a)(Object(i.a)({},F),{},{ref:B,x:r,y:o,radius:s,shadowColor:B.current?w:null,shadowBlur:B.current?C:null,shadowOpacity:B.current?v:null,shadowOffsetX:B.current?k:null,shadowOffsetY:B.current?L:null,draggable:I&&n,onClick:R,onDragStart:P,onDragEnd:N,onTransformEnd:U,shadowForStrokeEnabled:!1,onMouseOver:function(){return F.listening&&D&&D(!0)},onMouseOut:function(){return F.listening&&D&&D(!1)}})):a===A.f.ELLIPSE?Object(re.jsx)(ut.d,Object(i.a)(Object(i.a)({},F),{},{ref:B,x:r,y:o,radiusX:c,radiusY:l,shadowColor:B.current?w:null,shadowBlur:B.current?C:null,shadowOpacity:B.current?v:null,shadowOffsetX:B.current?k:null,shadowOffsetY:B.current?L:null,draggable:I&&n,onClick:R,onDragStart:P,onDragEnd:N,onTransformEnd:U,shadowForStrokeEnabled:!1,onMouseOver:function(){return F.listening&&D&&D(!0)},onMouseOut:function(){return F.listening&&D&&D(!1)}})):a===A.f.STAR?Object(re.jsx)(ut.m,Object(i.a)(Object(i.a)({},F),{},{ref:B,x:r,y:o,innerRadius:y,outerRadius:g,numPoints:x,shadowColor:B.current?w:null,shadowBlur:B.current?C:null,shadowOpacity:B.current?v:null,shadowOffsetX:B.current?k:null,shadowOffsetY:B.current?L:null,draggable:I&&n,onClick:R,onDragStart:P,onDragEnd:N,onTransformEnd:U,shadowForStrokeEnabled:!1,onMouseOver:function(){return F.listening&&D&&D(!0)},onMouseOut:function(){return F.listening&&D&&D(!1)}})):a===A.f.RING?Object(re.jsx)(ut.k,Object(i.a)(Object(i.a)({},F),{},{ref:B,x:r,y:o,innerRadius:y,outerRadius:g,shadowColor:B.current?w:null,shadowBlur:B.current?C:null,shadowOpacity:B.current?v:null,shadowOffsetX:B.current?k:null,shadowOffsetY:B.current?L:null,draggable:I&&n,onClick:R,onDragStart:P,onDragEnd:N,onTransformEnd:U,shadowForStrokeEnabled:!1,onMouseOver:function(){return F.listening&&D&&D(!0)},onMouseOut:function(){return F.listening&&D&&D(!1)}})):a===A.f.REGULARPOLYGON?Object(re.jsx)(ut.j,Object(i.a)(Object(i.a)({},F),{},{ref:B,x:r,y:o,radius:s,sides:x,shadowColor:B.current?w:null,shadowBlur:B.current?C:null,shadowOpacity:B.current?v:null,shadowOffsetX:B.current?k:null,shadowOffsetY:B.current?L:null,draggable:I&&n,onClick:R,onDragStart:P,onDragEnd:N,onTransformEnd:U,shadowForStrokeEnabled:!1,onMouseOver:function(){return F.listening&&D&&D(!0)},onMouseOut:function(){return F.listening&&D&&D(!1)}})):a===A.f.WEDGE?Object(re.jsx)(ut.p,Object(i.a)(Object(i.a)({},F),{},{ref:B,x:r,y:o,radius:s,angle:_,shadowColor:B.current?w:null,shadowBlur:B.current?C:null,shadowOpacity:B.current?v:null,shadowOffsetX:B.current?k:null,shadowOffsetY:B.current?L:null,draggable:I&&n,onClick:R,onDragStart:P,onDragEnd:N,onTransformEnd:U,shadowForStrokeEnabled:!1,onMouseOver:function(){return F.listening&&D&&D(!0)},onMouseOut:function(){return F.listening&&D&&D(!1)}})):a===A.f.ARC?Object(re.jsx)(ut.a,Object(i.a)(Object(i.a)({},F),{},{ref:B,x:r,y:o,innerRadius:y,outerRadius:g,angle:_,shadowColor:B.current?w:null,shadowBlur:B.current?C:null,shadowOpacity:B.current?v:null,shadowOffsetX:B.current?k:null,shadowOffsetY:B.current?L:null,draggable:I&&n,onClick:R,onDragStart:P,onDragEnd:N,onTransformEnd:U,shadowForStrokeEnabled:!1,onMouseOver:function(){return F.listening&&D&&D(!0)},onMouseOut:function(){return F.listening&&D&&D(!1)}})):a===A.f.LINE||a===A.f.PEN?Object(re.jsx)(ut.h,Object(i.a)(Object(i.a)({},F),{},{ref:B,x:r,y:o,points:d,lineCap:b,lineJoin:j,shadowColor:B.current?w:null,shadowBlur:B.current?C:null,shadowOpacity:B.current?v:null,shadowOffsetX:B.current?k:null,shadowOffsetY:B.current?L:null,draggable:I&&n,onClick:R,onDragStart:P,onDragEnd:N,onTransformEnd:U,onMouseOver:function(){return F.listening&&D&&D(!0)},onMouseOut:function(){return F.listening&&D&&D(!1)}})):a===A.f.POLYGON?Object(re.jsx)(ut.h,Object(i.a)(Object(i.a)({},F),{},{ref:B,x:r,y:o,points:d,lineCap:b,lineJoin:j,shadowColor:B.current?w:null,shadowBlur:B.current?C:null,shadowOpacity:B.current?v:null,shadowOffsetX:B.current?k:null,shadowOffsetY:B.current?L:null,draggable:I&&n,closed:!0,onClick:R,onDragStart:P,onDragEnd:N,onTransformEnd:U,onMouseOver:function(){return F.listening&&D&&D(!0)},onMouseOut:function(){return F.listening&&D&&D(!1)}})):a===A.f.ARROW?Object(re.jsx)(ut.b,Object(i.a)(Object(i.a)({},F),{},{ref:B,x:r,y:o,points:d,lineCap:b,lineJoin:j,pointerLength:O,pointerWidth:p,shadowColor:B.current?w:null,shadowBlur:B.current?C:null,shadowOpacity:B.current?v:null,shadowOffsetX:B.current?k:null,shadowOffsetY:B.current?L:null,draggable:I&&n,onClick:R,onDragStart:P,onDragEnd:N,onTransformEnd:U,onMouseOver:function(){return F.listening&&D&&D(!0)},onMouseOut:function(){return F.listening&&D&&D(!1)}})):Object(re.jsx)(re.Fragment,{})})},Bt=function(e){var t=e.editable,a=e.layers,n=e.drawingLayer,r=e.setCurrentLayer,o=e.boardRotate,c=e.mouseMode,i=e.loadedStatuses,l=e.onChange,s=e.onHover,d=e.onLoadLayer,b=e.onDragStart,j=e.onDragEnd,h=Object(u.useMemo)((function(){return f.a.orderBy(a.filter((function(e){return e.layer_type===A.e.SHAPE})),["layer_order"],["desc"])}),[a]),O=Object(u.useCallback)((function(e){return Object(ue.i)(o,{x:e.layer_data.shadowOffsetX,y:e.layer_data.shadowOffsetY})}),[o]),p=Object(u.useCallback)((function(e){return"inside"===e.layer_data.strokeType?{x:[A.f.RECT,A.f.ELLIPSE].includes(e.layer_type)?e.layer_data.stroke/2:0,y:[A.f.RECT,A.f.ELLIPSE].includes(e.layer_type)?e.layer_data.stroke/2:0,height:-e.layer_data.stroke/2,width:-e.layer_data.stroke/2,radius:-e.layer_data.stroke/2,pointerLength:-e.layer_data.stroke/2,pointerWidth:-e.layer_data.stroke/2,innerRadius:e.layer_data.stroke/2,outerRadius:-e.layer_data.stroke/2}:"outside"===e.layer_data.strokeType?{x:[A.f.RECT,A.f.ELLIPSE].includes(e.layer_type)?-e.layer_data.stroke/2:0,y:[A.f.RECT,A.f.ELLIPSE].includes(e.layer_type)?-e.layer_data.stroke/2:0,height:e.layer_data.stroke/2,width:e.layer_data.stroke/2,radius:e.layer_data.stroke/2,pointerLength:e.layer_data.stroke/2,pointerWidth:e.layer_data.stroke/2,innerRadius:-e.layer_data.stroke/2,outerRadius:e.layer_data.stroke/2}:{x:0,y:0,height:0,width:0,radius:0,pointerLength:0,pointerWidth:0,innerRadius:0,outerRadius:0}}),[]);return Object(re.jsxs)(re.Fragment,{children:[h.map((function(e){var a=O(e),n=p(e);return Object(re.jsx)(Ft,{id:e.id,editable:t,type:e.layer_data.type,x:parseFloat(e.layer_data.left+n.x||0),y:parseFloat(e.layer_data.top+n.y||0),width:Math.abs(e.layer_data.width+n.width),height:Math.abs(e.layer_data.height+n.height),radius:Math.abs(e.layer_data.radius+n.radius),offsetsFromStroke:n,points:e.layer_data.points?Object(ue.t)(e.layer_data.points):[],loadedStatus:i[e.id],pointerLength:Math.abs(e.layer_data.pointerLength+n.pointerLength),pointerWidth:Math.abs(e.layer_data.pointerWidth+n.pointerWidth),lineCap:e.layer_data.lineCap,lineJoin:e.layer_data.lineJoin,innerRadius:Math.abs(e.layer_data.innerRadius+n.innerRadius),outerRadius:Math.abs(e.layer_data.outerRadius+n.outerRadius),numPoints:e.layer_data.numPoints,cornerRadius:[e.layer_data.cornerTopLeft,e.layer_data.cornerTopRight,e.layer_data.cornerBottomLeft,e.layer_data.cornerBottomRight],rotation:e.layer_data.rotation,angle:e.layer_data.angle,opacity:e.layer_data.opacity,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:a.x,shadowOffsetY:a.y,skewX:e.layer_data.skewX,skewY:e.layer_data.skewY,fill:e.layer_data.color,strokeWidth:e.layer_data.stroke,stroke:e.layer_data.scolor,strokeEnabled:!0,globalCompositeOperation:"normal"===e.layer_data.blendType?null:e.layer_data.blendType,name:e.id.toString(),visible:!!e.layer_visible,layer_data:e.layer_data,perfectDrawEnabled:!1,onSelect:function(){return r(e)},listening:!e.layer_locked&&c===A.f.DEFAULT,onChange:function(t){return l(e,t)},onHover:function(t){return s(e,t)},onLoadLayer:d,onDragStart:b,onDragEnd:j},e.id)})),n?Object(re.jsx)(Ft,{type:n.layer_data.type,x:parseFloat(n.layer_data.left||0),y:parseFloat(n.layer_data.top||0),width:n.layer_data.width,height:n.layer_data.height,radius:Math.abs(n.layer_data.radius),angle:n.layer_data.angle,points:n.layer_data.points?Object(ue.t)(n.layer_data.points):[],pointerLength:n.layer_data.pointerLength,pointerWidth:n.layer_data.pointerWidth,lineCap:n.layer_data.lineCap,lineJoin:n.layer_data.lineJoin,innerRadius:Math.abs(n.layer_data.innerRadius),outerRadius:Math.abs(n.layer_data.outerRadius),numPoints:n.layer_data.numPoints,fill:n.layer_data.color,strokeWidth:n.layer_data.stroke,stroke:n.layer_data.scolor,strokeEnabled:!0,layer_data:n.layer_data,perfectDrawEnabled:!1}):Object(re.jsx)(re.Fragment,{})]})},At=b.a.memo(Bt),Pt=function(e){var t=e.trRef,a=e.selectedLayer,n=e.pressedKey,r=e.hoveredTransform,o=Object(u.useMemo)((function(){return a&&(a.layer_data.sizeLocked||[A.f.CIRCLE,A.f.STAR,A.f.RING,A.f.REGULARPOLYGON,A.f.WEDGE,A.f.ARC].includes(a.layer_data.type)||"shift"===n)}),[a,n]),c=Object(u.useCallback)((function(){if(a){var e=t.current.getStage().findOne("."+a.id);if(e===t.current.node())return;e?t.current.nodes([e]):t.current.detach(),t.current.getLayer().batchDraw()}}),[a]);Object(u.useEffect)((function(){c()}),[c]);var i=Object(u.useCallback)((function(e,t){var a=Object(ue.j)(t.rotation)-e.rotation;return"shift"===n?t.rotation-e.rotation===0?t:Math.abs(a)>0?Object(ue.u)(e,a):e:t}),[n,ue.j,ue.u]);return a?Object(re.jsx)(ut.o,{id:"defaultTransformer",ref:t,keepRatio:o,enabledAnchors:r||"h"===n?[]:o?["top-left","top-right","bottom-left","bottom-right"]:["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],borderEnabled:"h"!==n,rotateEnabled:!r&&"h"!==n,boundBoxFunc:i,borderStroke:r?"red":null}):Object(re.jsx)(re.Fragment,{})},Nt=a(220),Ut=a(49),Yt=Object(d.c)(z.a).withConfig({displayName:"Board__IconButton",componentId:"sc-13eabpa-0"})(W.b),Wt=Object(d.c)(Yt).withConfig({displayName:"Board__RotationButton",componentId:"sc-13eabpa-1"})(["background:black;border-radius:0;&:hover{background:#444;}"]),Xt=function(e){var t=e.wrapperWidth,a=e.wrapperHeight,n=e.wrapperRef,r=e.hoveredLayerJSON,o=e.editable,l=e.onChangeHoverJSONItem,d=e.onChangeBoardRotation,b=e.stageRef,j=e.baseLayerRef,h=e.mainLayerRef,O=e.carMaskLayerRef,f=e.activeTransformerRef,y=e.hoveredTransformerRef,g=Object(u.useState)({}),m=Object(s.a)(g,2),x=m[0],_=m[1],w=Object(u.useRef)(null),C=Object(u.useRef)(0),v=Object(u.useRef)(0),k=Object(u.useState)(0),L=Object(s.a)(k,2),S=L[0],R=L[1],I=Object(u.useState)([]),D=Object(s.a)(I,2),E=D[0],T=D[1],M=Object(p.d)(),F=Object(p.e)((function(e){return e.boardReducer.frameSize})),N=Object(p.e)((function(e){return e.boardReducer.zoom})),Y=Object(p.e)((function(e){return e.boardReducer.paintingGuides})),W=Object(p.e)((function(e){return e.boardReducer.pressedKey})),X=Object(p.e)((function(e){return e.boardReducer.boardRotate})),z=Object(p.e)((function(e){return e.boardReducer.mouseMode})),G=Object(p.e)((function(e){return e.carMakeReducer.current})),H=Object(p.e)((function(e){return e.schemeReducer.current})),K=Object(p.e)((function(e){return e.schemeReducer.saving})),V=Object(p.e)((function(e){return e.schemeReducer.loaded})),q=Object(p.e)((function(e){return e.fontReducer.list})),Z=Object(p.e)((function(e){return e.fontReducer.loadedList})),J=Object(p.e)((function(e){return e.layerReducer.list})),Q=Object(p.e)((function(e){return e.layerReducer.current})),$=Object(p.e)((function(e){return e.layerReducer.loadedStatuses})),te=Object(p.e)((function(e){return e.layerReducer.drawingStatus}));Object(u.useEffect)((function(){switch(te){case Ut.a.ADD_TO_SHAPE:if(w.current){var e=Object(i.a)(Object(i.a)({},w.current),{},{layer_data:Object(i.a)(Object(i.a)({},w.current.layer_data),{},{points:Object(ue.t)(w.current.layer_data.points)})});M(Object(Ut.h)(H.id,e)),M(Object(U.h)(A.f.DEFAULT))}break;case Ut.a.CLEAR_COMMAND:w.current=null,M(Object(Ut.q)(null))}}),[te]),dt()((function(){z!==A.f.DEFAULT&&R(S+1)}),50*(Math.min(v.current-C.current>4?v.current-C.current:(v.current-C.current)/2,20)||1)),dt()((function(){z!==A.f.DEFAULT&&(v.current=v.current+1)}),5);var ae=Object(u.useCallback)((function(e){z===A.f.DEFAULT&&(e.target===e.target.getStage()&&Q&&M(Object(Ut.p)(null)))}),[M,z,Q]),ne=Object(u.useCallback)((function(e){if(z!==A.f.DEFAULT){var t=Object(ue.h)(b.current);if(w.current){if([A.f.LINE,A.f.ARROW,A.f.POLYGON].includes(z)){var a=Object(i.a)(Object(i.a)({},w.current),{},{layer_data:Object(i.a)(Object(i.a)({},w.current.layer_data),{},{points:Object(ue.t)(w.current.layer_data.points)})});a.layer_data.points=a.layer_data.points.concat([t.x-w.current.layer_data.left,t.y-w.current.layer_data.top,t.x-w.current.layer_data.left,t.y-w.current.layer_data.top]),w.current=a}}else{var n=Object(i.a)(Object(i.a)({},A.b),{},{layer_type:A.e.SHAPE,layer_data:Object(i.a)(Object(i.a)({},A.b.layer_data),{},{type:z,name:z,left:t.x,top:t.y,color:H.guide_data.default_shape_color||"#000000",opacity:H.guide_data.default_shape_opacity||1,scolor:H.guide_data.default_shape_scolor||"#000000",stroke:H.guide_data.default_shape_stroke||0})});[A.f.LINE,A.f.ARROW,A.f.POLYGON].includes(z)&&(n.layer_data.stroke=5,n.layer_data.points=[0,0,0,0]),z===A.f.PEN&&(n.layer_data.stroke=5,n.layer_data.points=[0,0]),w.current=n}}}),[z,H.guide_data,ue.h,w.current,b.current]),oe=Object(u.useCallback)((function(){if(z!==A.f.DEFAULT&&w.current){var e=Object(ue.h)(b.current),t=e.x-w.current.layer_data.left,a=e.y-w.current.layer_data.top,n=e.x-w.current.layer_data.left,r=e.y-w.current.layer_data.top;if((w.current.layer_data.points.length<2||n!==w.current.layer_data.points[w.current.layer_data.points.length-2]||r!==w.current.layer_data.points[w.current.layer_data.points.length-1])&&(v.current-C.current>1||w.current.layer_data.points.length<2||Math.abs(n-w.current.layer_data.points[w.current.layer_data.points.length-2])>10||Math.abs(r-w.current.layer_data.points[w.current.layer_data.points.length-1])>10)){var o=Object(i.a)(Object(i.a)({},w.current),{},{layer_data:Object(i.a)(Object(i.a)({},w.current.layer_data),{},{points:Object(c.a)(w.current.layer_data.points),width:A.f.ELLIPSE!==w.current.layer_type&&t>0?t:0,height:A.f.ELLIPSE!==w.current.layer_type&&a>0?a:0,radius:Math.abs(t),innerRadius:Math.abs(t)/2.5,outerRadius:Math.abs(t)})});[A.f.LINE,A.f.ARROW,A.f.POLYGON].includes(z)&&o.layer_data.points.splice(-2,2,n,r),z===A.f.PEN&&(o.layer_data.points.push(n),o.layer_data.points.push(r)),w.current=o}C.current=v.current}}),[z,w.current,ue.h,b.current,v.current]),ce=Object(u.useCallback)((function(e){[A.f.DEFAULT,A.f.LINE,A.f.ARROW,A.f.POLYGON].includes(z)||M(Object(Ut.q)(Ut.a.ADD_TO_SHAPE));var t=Object(ue.h)(b.current);_(t)}),[M,z,ue.h,_]),ie=Object(u.useCallback)((function(e){var t=Object(ue.h)(b.current);[A.f.DEFAULT,A.f.LINE,A.f.ARROW,A.f.POLYGON].includes(z)&&w.current&&x.x===t.x&&x.y===t.y&&M(Object(Ut.q)(Ut.a.ADD_TO_SHAPE))}),[M,z,ue.h,w.current,x]),le=Object(u.useCallback)((function(e){if(e.evt.preventDefault(),null!==b.current&&e.evt.ctrlKey){var t=b.current,a=t.scaleX(),n=t.getPointerPosition(),r=n.x,o=n.y,c={x:(r-t.x())/a,y:(o-t.y())/a},i=Math.max(Math.min(e.evt.deltaY>0?a/1.2:1.2*a,10),.25);M(Object(U.l)(i));var l={x:r-c.x*i,y:o-c.y*i};t.position(l),t.batchDraw()}}),[M,b.current]),se=Object(u.useCallback)((function(e){(F.width<e.width||F.height<e.height)&&M(Object(U.g)({width:Math.max(F.width,e.width),height:Math.max(F.height,e.height)}))}),[M,F]),de=Object(u.useCallback)((function(e,t){M(Object(Ut.u)(Object(i.a)(Object(i.a)({},e),{},{layer_data:Object(i.a)(Object(i.a)({},e.layer_data),t)})))}),[M]),be=Object(u.useCallback)((function(e){M(Object(Ut.p)(e))}),[M]),je=Object(u.useCallback)((function(e,t){l(e.id,t)}),[l]),he=Object(u.useCallback)((function(e){M(Object(Nt.c)(e))}),[M]),Oe=Object(u.useCallback)((function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?(e=X+90)>=360&&(e=0):(e=X-90)<0&&(e=270),d(e)}),[X,d]),fe=Object(u.useCallback)((function(e,t){M(Object(Ut.s)({key:e,value:t}))}),[M]),pe=Object(u.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e){if(!E.length){T(Object(c.a)(Y));var t=Object(c.a)(Y);H.guide_data.show_wireframe&&!t.includes(A.g.WIREFRAME)&&t.push(A.g.WIREFRAME),H.guide_data.show_numberBlocks&&!t.includes(A.g.NUMBERBLOCKS)&&t.push(A.g.NUMBERBLOCKS),H.guide_data.show_sponsor&&!t.includes(A.g.SPONSORBLOCKS)&&t.push(A.g.SPONSORBLOCKS),H.guide_data.show_grid&&!t.includes(A.g.GRID)&&t.push(A.g.GRID),M(Object(U.i)(t))}}else M(Object(U.i)(Object(c.a)(E))),T([])}),[M,Y,E,T,H]),ye=Object(u.useCallback)((function(){(H.guide_data.show_wireframe||H.guide_data.show_numberBlocks||H.guide_data.show_sponsor||H.guide_data.show_grid)&&pe(!0)}),[pe,H]),ge=Object(u.useCallback)((function(){(H.guide_data.show_wireframe||H.guide_data.show_numberBlocks||H.guide_data.show_sponsor||H.guide_data.show_grid)&&pe(!1)}),[pe,H]);return Object(re.jsxs)(B.a,{width:"100%",height:"100%",position:"relative",children:[Object(re.jsxs)(B.a,{width:"100%",height:"100%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",margin:"auto",id:"board-wrapper",position:"relative",ref:n,children:[Object(re.jsxs)(ut.l,{width:t,height:a,onMousedown:ae,onContentMousedown:ne,onContentMousemove:oe,onContentMouseup:ce,onDblClick:ie,onTouchStart:ae,onWheel:le,scaleX:N||1,scaleY:N||1,rotation:X,x:t/2,y:a/2,offsetX:F.width/2,offsetY:F.height/2,ref:b,draggable:z===A.f.DEFAULT,style:{cursor:z===A.f.DEFAULT?"default":"crosshair"},children:[Object(re.jsxs)(ut.g,{ref:j,listening:!1,children:[Object(re.jsx)(ut.i,{x:0,y:0,width:F.width,height:F.height,fill:"transparent"===H.base_color?H.base_color:"#"+H.base_color,listening:!1}),Object(re.jsx)(Lt,{legacyMode:H.legacy_mode,carMake:G,layers:J,loadedStatuses:$,handleImageSize:se,onLoadLayer:fe})]}),Object(re.jsx)(ut.g,{listening:!1,children:Object(re.jsx)(wt,{legacyMode:H.legacy_mode,carMake:G,paintingGuides:Y,guideData:H.guide_data,loadedStatuses:$,handleImageSize:se,onLoadLayer:fe})}),Object(re.jsxs)(ut.g,{ref:h,children:[H.guide_data.show_carparts_on_top?Object(re.jsx)(re.Fragment,{}):Object(re.jsx)(vt,{layers:J,legacyMode:H.legacy_mode,carMake:G,loadedStatuses:$,handleImageSize:se,onLoadLayer:fe}),Object(re.jsx)(Dt,{editable:o,layers:J,frameSize:F,boardRotate:X,currentLayer:Q,mouseMode:z,loadedStatuses:$,handleImageSize:se,setCurrentLayer:be,onChange:de,onHover:je,onLoadLayer:fe,onDragStart:ye,onDragEnd:ge}),Object(re.jsx)(At,{editable:o,layers:J,drawingLayer:w.current,boardRotate:X,mouseMode:z,currentLayer:Q,loadedStatuses:$,setCurrentLayer:be,onChange:de,onHover:je,onLoadLayer:fe,onDragStart:ye,onDragEnd:ge}),Object(re.jsx)(Mt,{editable:o,layers:J,fonts:q,loadedFontList:Z,frameSize:F,mouseMode:z,boardRotate:X,loadedStatuses:$,currentLayer:Q,setCurrentLayer:be,onChange:de,onFontLoad:he,onHover:je,onLoadLayer:fe,onDragStart:ye,onDragEnd:ge}),H.guide_data.show_carparts_on_top?Object(re.jsx)(vt,{layers:J,legacyMode:H.legacy_mode,carMake:G,loadedStatuses:$,handleImageSize:se,onLoadLayer:fe}):Object(re.jsx)(re.Fragment,{})]}),Object(re.jsx)(ut.g,{ref:O,listening:!1,children:Object(re.jsx)(xt,{legacyMode:H.legacy_mode,carMake:G,paintingGuides:Y,loadedStatuses:$,guideData:H.guide_data,handleImageSize:se,onLoadLayer:fe})}),Object(re.jsxs)(ut.g,{children:[Object(re.jsx)(gt,{legacyMode:H.legacy_mode,carMake:G,paintingGuides:Y,loadedStatuses:$,frameSize:F,guideData:H.guide_data,handleImageSize:se,onLoadLayer:fe}),o?Object(re.jsx)(Pt,{trRef:f,selectedLayer:Q,pressedKey:W}):Object(re.jsx)(re.Fragment,{}),!r||Q&&r[Q.id]&&o?Object(re.jsx)(re.Fragment,{}):Object(re.jsx)(Pt,{trRef:y,selectedLayer:J.find((function(e){return r[e.id]})),hoveredTransform:!0})]})]}),Object(re.jsxs)(B.a,{position:"absolute",right:0,top:0,children:[Object(re.jsx)(ee.a,{title:"Rotate Left",position:"bottom",arrow:!0,children:Object(re.jsx)(Wt,{onClick:function(){return Oe(!1)},children:Object(re.jsx)(bt.a,{})})}),Object(re.jsx)(ee.a,{title:"Rotate Right",position:"bottom",arrow:!0,children:Object(re.jsx)(Wt,{onClick:function(){return Oe(!0)},children:Object(re.jsx)(jt.a,{})})})]})]}),K||!V?Object(re.jsx)(B.a,{width:"100%",height:"100%",bgcolor:"#282828",position:"absolute",left:"0",top:"0",display:"flex",justifyContent:"center",alignItems:"center",children:Object(re.jsx)(P.a,{})}):Object(re.jsx)(re.Fragment,{})]})},zt=a(568),Gt=a(572),Ht=a(571),Kt={DELETE:"Delete Layer",ENTER:"Complete Drawing",1:"Toggle Car Mask Guide",2:"Toggle Wireframe Guide",3:"Toggle Sponsor Block Guide",4:"Toggle Number Block Guide",5:"Toggle Grid Guide",T:"Insert Text",S:"Insert Overlay",L:"Insert Logo",B:"Insert Basepaint",H:"Hide Transformer","\u2191":"Move Layer Up","\u2193":"Move Layer Down","\u2190":"Move Lyer Left","\u2192":"Move Lyer Right","Shift \u2191":"10x Move Layer Up","Shift \u2193":"10x Move Layer Down","Shift \u2190":"10x Move Lyer Left","Shift \u2192":"10x Move Lyer Right","Shift +":"Zoom In","Shift -":"Zoom Out","Shift 9":"Zoom To Fit","Shift 0":"Zoom To 100%","Shift D":"Default Mouse Mode","Shift B":"Brush Drawing Mode","Shift R":"Rectangle Drawing Mode","Shift C":"Circle Drawing Mode","Shift E":"Ellipse Drawing Mode","Shift S":"Star Drawing Mode","Shift G":"Ring Drawing Mode","Shift O":"Regular-Polygon Drawing Mode","Shift W":"Wedge Drawing Mode","Shift A":"Arc Drawing Mode","Shift P":"Polygon Drawing Mode","Shift L":"Line Drawing Mode","Shift >":"Arrow Drawing Mode","Ctrl/Meta C":"Copy Layer To Clipboard","Ctrl/Meta V":"Paste Layer From Clipboard","Ctrl/Meta Z":"Undo Action","Ctrl/Meta Y":"Redo Action"},Vt=Object(d.c)(Oe.a).withConfig({displayName:"ShortCutsDialog__Grid",componentId:"sc-3fzz2e-0"})(W.b),qt=Object(d.c)(X.a).withConfig({displayName:"ShortCutsDialog__KeyText",componentId:"sc-3fzz2e-1"})(["color:#ca812c;background:#000000;width:fit-content;padding:0px 10px;border-radius:3px;"]),Zt=Object(d.c)(X.a).withConfig({displayName:"ShortCutsDialog__DescriptionText",componentId:"sc-3fzz2e-2"})(["width:fit-content;padding:0px;"]),Jt=function(e){var t=e.onCancel,a=e.open;return Object(re.jsxs)(zt.a,{"aria-labelledby":"short-cuts-title",open:a,onClose:t,fullWidth:!0,maxWidth:"sm",children:[Object(re.jsx)(Gt.a,{id:"short-cuts-title",children:"Shortcuts"}),Object(re.jsx)(Ht.a,{dividers:!0,id:"short-cuts-dialog-content",children:Object.keys(Kt).map((function(e,t){return Object(re.jsxs)(Vt,{container:!0,mb:2,children:[Object(re.jsx)(Vt,{item:!0,xs:6,children:Object(re.jsx)(qt,{children:e})}),Object(re.jsx)(Vt,{item:!0,xs:6,children:Object(re.jsx)(Zt,{children:Kt[e]})})]},t)}))})]})},Qt=b.a.memo(Jt),$t=Object(d.c)(Ge.a).withConfig({displayName:"TitleBar__CustomIcon",componentId:"sc-6ardfy-0"})(["width:20px !important;"]),ea=Object(d.c)(Ce.a).withConfig({displayName:"TitleBar__NameInput",componentId:"sc-6ardfy-1"})(["width:",";"],(function(e){return e.width})),ta=function(e){var t=e.onBack,a=Object(p.d)(),n=Object(u.useState)(""),r=Object(s.a)(n,2),o=r[0],c=r[1],i=Object(u.useState)(null),l=Object(s.a)(i,2),d=l[0],b=l[1],j=Object(p.e)((function(e){return e.schemeReducer.current})),h=Object(u.useCallback)((function(e){c(e.target.value)}),[c]),O=Object(u.useCallback)((function(){a(Object(Y.y)({id:j.id,name:o},!0,!1))}),[a,j&&j.id,o]),f=Object(u.useCallback)((function(e){13===e.keyCode&&(e.preventDefault(),O())}),[O]),y=Object(u.useCallback)((function(){c(j.name)}),[c,j&&j.name]);return Object(u.useEffect)((function(){j&&c(j.name)}),[j&&j.name]),Object(re.jsxs)(B.a,{display:"flex",justifyContent:"space-between",alignItems:"center",px:1,my:1,children:[Object(re.jsx)(ea,{value:o,onChange:h,onKeyDown:f,width:j&&o!==j.name?"158px":"250px"}),Object(re.jsxs)(B.a,{display:"flex",children:[j&&o!==j.name?Object(re.jsx)(ee.a,{title:"Discard Change",arrow:!0,children:Object(re.jsx)(z.a,{onClick:y,color:"secondary",children:Object(re.jsx)(Ye.a,{})})}):Object(re.jsx)(re.Fragment,{}),j&&o!==j.name?Object(re.jsx)(ee.a,{title:"Save",arrow:!0,children:Object(re.jsx)(z.a,{onClick:O,children:Object(re.jsx)(We.a,{})})}):Object(re.jsx)(re.Fragment,{}),Object(re.jsx)(ee.a,{title:"Back",arrow:!0,children:Object(re.jsx)(z.a,{onClick:t,children:Object(re.jsx)($t,{icon:Xe.b,size:"xs"})})}),Object(re.jsx)(ee.a,{title:"Shortcuts",arrow:!0,children:Object(re.jsx)(z.a,{onClick:function(){return b(A.c.SHORTCUTS)},children:Object(re.jsx)($t,{icon:Xe.k,size:"xs"})})})]}),Object(re.jsx)(Qt,{open:d===A.c.SHORTCUTS,onCancel:function(){return b(null)}})]})},aa=b.a.memo(ta),na=a(4),ra=a(1197),oa=a(1254),ca=a(1255),ia=a(1256),la=a(1257),sa=a(565),da=a(1258),ua=a(1237),ba=a(1252),ja=a(1253),ha=a(1233),Oa=a(1234),fa=Object(d.c)(B.a).withConfig({displayName:"PartItem__Wrapper",componentId:"sc-1vufzst-0"})(["cursor:pointer;&.sortable-chosen{background:rgba(255,255,255,0.2);}&.activeItem{background:rgba(0,0,0,0.5) !important;}&.hoveredItem{background:rgba(0,0,0,0.2);}"]),pa=Object(d.c)(X.a).withConfig({displayName:"PartItem__CustomTypography",componentId:"sc-1vufzst-1"})(["color:",";"],(function(e){return"true"===e.active?"white":"darkgray"})),ya=Object(d.c)(z.a).withConfig({displayName:"PartItem__SmallIconButton",componentId:"sc-1vufzst-2"})([".MuiSvgIcon-root{width:18px;height:18px;}"]),ga=function(e){var t=e.layer_visible,a=e.layer_locked,n=e.text,r=e.toggleVisible,o=e.toggleLocked,c=e.selected,i=e.disabled,l=e.disableLock,s=e.onSelect,d=e.hovered,b=e.onHover,j=Object(u.useRef)(null),h=Object(u.useCallback)((function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r()}),[r]),O=Object(u.useCallback)((function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),o()}),[r]);return Object(re.jsx)(fa,{ref:j,px:2,py:1,mb:1,display:"flex",width:"100%",border:1,borderColor:"grey.700",borderRadius:5,onClick:s,onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},className:Object(na.a)(c&&"activeItem",d&&"hoveredItem"),children:Object(re.jsxs)(B.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[Object(re.jsx)(pa,{variant:"body2",active:t?"true":"false",noWrap:!0,children:n}),Object(re.jsxs)(B.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[l||i||!(c||d||a)?Object(re.jsx)(B.a,{width:"24px",height:"24px",mr:1}):Object(re.jsx)(B.a,{mr:1,children:Object(re.jsx)(ya,{onClick:O,size:"small",children:a?Object(re.jsx)(ba.a,{}):Object(re.jsx)(ja.a,{})})}),i||!c&&!d&&t?Object(re.jsx)(B.a,{width:"24px",height:"24px"}):Object(re.jsx)(ya,{onClick:h,size:"small",children:t?Object(re.jsx)(ha.a,{}):Object(re.jsx)(Oa.a,{})})]})]})})},ma=b.a.memo(ga),xa=Object(ua.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),_a=Object(d.c)(G.a).withConfig({displayName:"PartGroup__Button",componentId:"d20ix9-0"})(W.b),wa=Object(d.c)(oa.a).withConfig({displayName:"PartGroup__ButtonGroup",componentId:"d20ix9-1"})(W.b),Ca=Object(d.c)(_a).withConfig({displayName:"PartGroup__AddButton",componentId:"d20ix9-2"})(["min-width:40px;padding:3px 5px;.MuiButton-startIcon{margin-right:2px;}.MuiButton-endIcon{margin:0;}.fa-lg{font-size:1.3333333333em !important;}"]),va=Object(d.c)(ca.a).withConfig({displayName:"PartGroup__CustomCardHeader",componentId:"d20ix9-3"})([".MuiCardHeader-title{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}.MuiCardHeader-content{width:calc(100% - 50px);}"]),ka=Object(d.c)(ia.a).withConfig({displayName:"PartGroup__CustomCardContent",componentId:"d20ix9-4"})(["padding-top:0;"]),La=function(e){var t=xa(),a=Object(p.d)(),n=Object(u.useState)(!0),r=Object(s.a)(n,2),o=r[0],c=r[1],d=Object(p.e)((function(e){return e.layerReducer.current})),b=Object(p.e)((function(e){return e.authReducer.user})),j=e.layerList,h=e.title,O=e.disabled,y=e.actions,g=e.extraChildren,m=e.disableLock,x=e.disableDnd,_=e.hoveredLayerJSON,w=e.onChangeHoverJSONItem,C=Object(u.useMemo)((function(){return f.a.orderBy(j,["layer_order"],["asc"])}),[j]);Object(u.useEffect)((function(){for(var e in C)C[e].layer_order!==parseInt(e)+1&&a(Object(Ut.u)(Object(i.a)(Object(i.a)({},C[e]),{},{layer_order:parseInt(e)+1}),!1))}),[j.length]);var v=Object(u.useCallback)((function(){c((function(e){return!e}))}),[c]),k=Object(u.useCallback)((function(e){var t=function(t){var n=j.find((function(a){return a.id==e[t].id}));n&&n.layer_order!==parseInt(t)+1&&a(Object(Ut.u)(Object(i.a)(Object(i.a)({},n),{},{layer_order:parseInt(t)+1}),!1))};for(var n in e)t(n)}),[j,a]),L=Object(u.useCallback)((function(e,t){var n=j.find((function(t){return t.id===e}));a(Object(Ut.u)(Object(i.a)(Object(i.a)({},n),{},Object(l.a)({},t,n[t]?0:1))))}),[j,a]),S=Object(u.useCallback)((function(e){a(Object(Ut.p)(e)),a(Object(U.h)(A.f.DEFAULT))}),[a]),R=Object(u.useCallback)((function(e,t){w(e.id,t)}),[w]),I=Object(u.useCallback)((function(e,t){return t===A.e.UPLOAD&&0===e.indexOf(b.id.toString())?e.slice(b.id.toString().length+1):e}),[b]);return Object(re.jsx)(B.a,{mb:2,children:Object(re.jsxs)(la.a,{children:[Object(re.jsx)(va,{title:h,action:Object(re.jsxs)(B.a,{display:"flex",children:[y?Object(re.jsx)(wa,{mr:1,children:y.map((function(e,t){return Object(re.jsx)(Ca,{onClick:e.onClick,size:"small",startIcon:Object(re.jsx)(da.a,{}),endIcon:Object(re.jsx)(Ge.a,{icon:e.icon,size:"lg"}),variant:"outlined"},t)}))}):Object(re.jsx)(re.Fragment,{}),Object(re.jsx)(z.a,{onClick:v,className:Object(na.a)(t.expand,Object(l.a)({},t.expandOpen,o)),children:Object(re.jsx)(je.a,{})})]})}),Object(re.jsx)(sa.a,{in:o,children:Object(re.jsxs)(ka,{children:[Object(re.jsx)(ra.ReactSortable,{list:C,setList:k,animation:150,onChoose:function(e){return console.log(e)},onSelect:function(e){return console.log(e)},sort:!x&&!O,children:C.map((function(e){return Object(re.jsx)(ma,{text:I(e.layer_data.name,e.layer_type),layer_visible:e.layer_visible,layer_locked:e.layer_locked,toggleVisible:function(){return L(e.id,"layer_visible")},toggleLocked:function(){return L(e.id,"layer_locked")},selected:d&&d.id===e.id,hovered:_[e.id],onSelect:function(){return S(e)},onHover:function(t){return R(e,t)},disableLock:m,disabled:O},e.id)}))}),g]})})]})})},Sa=a(1238),Ra=a(574),Ia=a(1266),Da=a(1265),Ea=a(1267),Ta=a(1268),Ma=a(1227),Fa=a(629),Ba=a(546),Aa=d.c.div.withConfig({displayName:"Loader__Root",componentId:"sc-1gqft2x-0"})(["justify-content:center;align-items:center;display:flex;min-height:60px;"]),Pa=function(){return Object(re.jsx)(Aa,{children:Object(re.jsx)(Ba.a,{m:2,color:"secondary"})})},Na=a(1260),Ua=a(1261),Ya=a(570),Wa=a(630),Xa=Object(d.c)(G.a).withConfig({displayName:"BasePaintDialog__Button",componentId:"sc-1dconu8-0"})(W.b),za=Object(d.c)(Fa.a).withConfig({displayName:"BasePaintDialog__CustomInfiniteScroll",componentId:"sc-1dconu8-1"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),Ga=Object(d.c)(Na.a).withConfig({displayName:"BasePaintDialog__CustomGridList",componentId:"sc-1dconu8-2"})(["overflow:hidden !important;margin:0 !important;"]),Ha=Object(d.c)(Ua.a).withConfig({displayName:"BasePaintDialog__CustomGridListTile",componentId:"sc-1dconu8-3"})(["cursor:pointer;"]),Ka=(d.c.img.withConfig({displayName:"BasePaintDialog__CustomImg",componentId:"sc-1dconu8-4"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),b.a.memo((function(e){var t=Object(u.useState)(30),a=Object(s.a)(t,2),n=a[0],r=a[1],o=e.legacyMode,c=e.basePaints,i=e.carMake,l=e.onCancel,d=e.open,b=e.onOpenBase,j=Object(u.useMemo)((function(){return i?o?c:Array.from({length:i.total_bases},(function(e,t){return t+1})):[]}),[o,c,i]),h=Object(u.useMemo)((function(){return!!i&&(o?n<c.length:n<i.total_bases)}),[o,n,c,i]),O=Object(u.useCallback)((function(e){return o?Object(ue.n)(e)+"preview.jpg":Object(ue.c)(i,e)+"preview.jpg"}),[o,i]),f=Object(u.useCallback)((function(e){return o?e.base_name:"Base Paint ".concat(e)}),[o]),p=Object(u.useCallback)((function(){r(n+30)}),[n,30,r]);return Object(re.jsxs)(zt.a,{"aria-labelledby":"base-paints-title",open:d,onClose:l,children:[Object(re.jsx)(Gt.a,{id:"base-paints-title",children:"Select Base Paint"}),Object(re.jsx)(Ht.a,{dividers:!0,id:"base-paint-dialog-content",children:Object(re.jsx)(za,{dataLength:n,next:p,hasMore:h,loader:Object(re.jsx)(Pa,{}),scrollableTarget:"base-paint-dialog-content",children:Object(re.jsx)(Ga,{cellHeight:178,cols:3,spacing:8,children:j.slice(0,n).map((function(e,t){return Object(re.jsx)(Ha,{cols:1,onClick:function(){return b(e)},children:Object(re.jsx)(Wa.a,{src:O(e),alt:f(e),minHeight:"100px",minWidth:"100px"})},t)}))})})}),Object(re.jsx)(Ya.a,{children:Object(re.jsx)(Xa,{onClick:l,color:"secondary",children:"Cancel"})})]})}))),Va=a(1262),qa=a(673),Za=Object(d.c)(G.a).withConfig({displayName:"OverlayDialog__Button",componentId:"sc-1w6rbnl-0"})(W.b),Ja=Object(d.c)(Fa.a).withConfig({displayName:"OverlayDialog__CustomInfiniteScroll",componentId:"sc-1w6rbnl-1"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),Qa=Object(d.c)(Na.a).withConfig({displayName:"OverlayDialog__CustomGridList",componentId:"sc-1w6rbnl-2"})(["overflow:hidden !important;margin:0 !important;"]),$a=Object(d.c)(Ua.a).withConfig({displayName:"OverlayDialog__CustomGridListTile",componentId:"sc-1w6rbnl-3"})(["cursor:pointer;"]),en=Object(d.c)(Ht.a).withConfig({displayName:"OverlayDialog__CustomDialogContent",componentId:"sc-1w6rbnl-4"})(["width:600px;"]),tn=(d.c.img.withConfig({displayName:"OverlayDialog__CustomImg",componentId:"sc-1w6rbnl-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),function(e){var t=Object(u.useState)(30),a=Object(s.a)(t,2),n=a[0],r=a[1],o=Object(u.useState)(""),c=Object(s.a)(o,2),i=c[0],l=c[1],d=e.overlays,b=e.onCancel,j=e.open,h=e.onOpenOverlay,O=Object(u.useCallback)((function(){r(n+30)}),[n,30,r]),f=Object(u.useMemo)((function(){return d.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase())}))}),[d,i]);return Object(re.jsxs)(zt.a,{"aria-labelledby":"shape-title",open:j,onClose:b,children:[Object(re.jsx)(Gt.a,{id:"shape-title",children:"Insert Overlay"}),Object(re.jsxs)(en,{dividers:!0,children:[Object(re.jsx)(B.a,{mb:2,children:Object(re.jsx)(qa.a,{value:i,onChange:function(e){return l(e)}})}),Object(re.jsx)(B.a,{id:"shape-dialog-content",overflow:"auto",height:"70vh",children:Object(re.jsx)(Ja,{dataLength:n,next:O,hasMore:n<f.length,loader:Object(re.jsx)(Pa,{}),scrollableTarget:"shape-dialog-content",children:Object(re.jsx)(Qa,{cellHeight:178,cols:3,children:f.slice(0,n).map((function(e){return Object(re.jsxs)($a,{cols:1,onClick:function(){return h(e)},children:[Object(re.jsx)(Wa.a,{src:"".concat(Rt.a.assetsURL,"/").concat(e.overlay_thumb),alt:e.name}),Object(re.jsx)(Va.a,{title:e.name,subtitle:e.description})]},e.id)}))})})})]}),Object(re.jsx)(Ya.a,{children:Object(re.jsx)(Za,{onClick:b,color:"secondary",children:"Cancel"})})]})}),an=b.a.memo(tn),nn=Object(d.c)(G.a).withConfig({displayName:"LogoDialog__Button",componentId:"sc-39n1mp-0"})(W.b),rn=Object(d.c)(X.a).withConfig({displayName:"LogoDialog__Typography",componentId:"sc-39n1mp-1"})(W.b),on=Object(d.c)(Fa.a).withConfig({displayName:"LogoDialog__CustomInfiniteScroll",componentId:"sc-39n1mp-2"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),cn=Object(d.c)(Na.a).withConfig({displayName:"LogoDialog__CustomGridList",componentId:"sc-39n1mp-3"})(["overflow:hidden !important;margin:0 !important;"]),ln=Object(d.c)(Ua.a).withConfig({displayName:"LogoDialog__CustomGridListTile",componentId:"sc-39n1mp-4"})(["cursor:pointer;"]),sn=Object(d.c)(Ht.a).withConfig({displayName:"LogoDialog__CustomDialogContent",componentId:"sc-39n1mp-5"})(["width:600px;"]),dn=d.c.img.withConfig({displayName:"LogoDialog__CustomImg",componentId:"sc-39n1mp-6"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),un=Object(qe.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:40,width:"100%",backgroundColor:"#635ee7"}}})((function(e){return Object(re.jsx)(Ke.a,Object(i.a)(Object(i.a)({},e),{},{TabIndicatorProps:{children:Object(re.jsx)("span",{})}}))})),bn=Object(qe.a)((function(e){return{root:{textTransform:"none",color:"#fff",fontWeight:e.typography.fontWeightRegular,fontSize:"1rem",marginRight:0,padding:"6px 5px",minWidth:60,"&:focus":{opacity:1}}}}))((function(e){return Object(re.jsx)(Ve.a,Object(i.a)({disableRipple:!0},e))})),jn=function(e){var t=e.children,a=e.value,n=e.index,r=Object(be.a)(e,["children","value","index"]);return Object(re.jsx)("div",Object(i.a)(Object(i.a)({role:"tabpanel",hidden:a!==n,id:"logo-tabpanel-".concat(n),"aria-labelledby":"logo-tab-".concat(n)},r),{},{children:a===n&&Object(re.jsx)(re.Fragment,{children:t})}))};function hn(e){return{id:"logo-tab-".concat(e),"aria-controls":"logo-tabpanel-".concat(e)}}var On=function(e){var t=30,a=Object(u.useState)(t),n=Object(s.a)(a,2),r=n[0],o=n[1],c=Object(u.useState)(t),l=Object(s.a)(c,2),d=l[0],b=l[1],j=Object(u.useState)(0),h=Object(s.a)(j,2),O=h[0],f=h[1],p=Object(u.useState)(""),y=Object(s.a)(p,2),g=y[0],m=y[1],x=e.logos,_=e.onCancel,w=e.open,C=e.onOpenLogo,v=Object(u.useMemo)((function(){return x.filter((function(e){return e.name.toLowerCase().includes(g.toLowerCase())&&"flag"!==e.type}))}),[x,g]),k=Object(u.useMemo)((function(){return x.filter((function(e){return e.name.toLowerCase().includes(g.toLowerCase())&&"flag"===e.type}))}),[x,g]),L=Object(u.useCallback)((function(){o(r+t)}),[r,t,o]),S=Object(u.useCallback)((function(){b(d+t)}),[d,t,b]),R=Object(u.useCallback)((function(e,t){f(t),m("")}),[f,m]);return Object(re.jsxs)(zt.a,{"aria-labelledby":"logo-title",open:w,onClose:_,children:[Object(re.jsx)(Gt.a,{id:"logo-title",children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(re.jsx)(rn,{variant:"h5",mr:2,children:"Insert:"}),Object(re.jsxs)(un,{value:O,onChange:R,"aria-label":"logo tab",children:[Object(re.jsx)(bn,Object(i.a)({label:"Logo"},hn(0))),Object(re.jsx)(bn,Object(i.a)({label:"Flag"},hn(1)))]})]})}),Object(re.jsxs)(sn,{dividers:!0,children:[Object(re.jsx)(B.a,{mb:2,children:Object(re.jsx)(qa.a,{value:g,onChange:function(e){return m(e)}})}),Object(re.jsx)(jn,{value:O,index:0,children:Object(re.jsx)(B.a,{id:"logo-dialog-content",overflow:"auto",height:"70vh",children:Object(re.jsx)(on,{dataLength:r,next:L,hasMore:r<v.length,loader:Object(re.jsx)(Pa,{}),scrollableTarget:"logo-dialog-content",children:Object(re.jsx)(cn,{cellHeight:178,cols:3,children:v.slice(0,r).map((function(e){return Object(re.jsxs)(ln,{cols:1,onClick:function(){return C(e)},children:[Object(re.jsx)(Wa.a,{src:"".concat(Rt.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object(re.jsx)(Va.a,{title:e.name})]},e.id)}))})})})}),Object(re.jsx)(jn,{value:O,index:1,children:Object(re.jsx)(B.a,{id:"flag-dialog-content",overflow:"auto",height:"70vh",children:Object(re.jsx)(on,{dataLength:d,next:S,hasMore:d<k.length,loader:Object(re.jsx)(Pa,{}),scrollableTarget:"flag-dialog-content",children:Object(re.jsx)(cn,{cellHeight:178,cols:3,children:k.slice(0,d).map((function(e){return Object(re.jsxs)(ln,{cols:1,onClick:function(){return C(e)},children:[Object(re.jsx)(dn,{src:"".concat(Rt.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object(re.jsx)(Va.a,{title:e.name})]},e.id)}))})})})})]}),Object(re.jsx)(Ya.a,{children:Object(re.jsx)(nn,{onClick:_,color:"secondary",children:"Cancel"})})]})},fn=b.a.memo(On),pn=Object(d.c)(G.a).withConfig({displayName:"YesNoDialog__Button",componentId:"uvsbdx-0"})(W.b),yn=Object(d.c)(B.a).withConfig({displayName:"YesNoDialog__TextWrapper",componentId:"uvsbdx-1"})(["font-size:1rem;"]),gn=function(e){var t=e.text,a=e.open,n=e.onYes,r=e.onNo;return Object(re.jsxs)(zt.a,{"aria-labelledby":"confirm-title",open:a,children:[Object(re.jsx)(Gt.a,{id:"confirm-title",children:"Confirm"}),Object(re.jsx)(Ht.a,{dividers:!0,children:Object(re.jsx)(yn,{children:t})}),Object(re.jsxs)(Ya.a,{children:[Object(re.jsx)(pn,{onClick:n,color:"secondary",variant:"outlined",autoFocus:!0,children:"Yes"}),Object(re.jsx)(pn,{onClick:r,color:"primary",variant:"outlined",children:"No"})]})]})},mn=b.a.memo(gn),xn=a(1264),_n=a(1231),wn=a(236),Cn=a(93),vn=Object(d.c)(G.a).withConfig({displayName:"UploadDialog__Button",componentId:"vk7mct-0"})(W.b),kn=Object(d.c)(Fa.a).withConfig({displayName:"UploadDialog__CustomInfiniteScroll",componentId:"vk7mct-1"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),Ln=Object(d.c)(Na.a).withConfig({displayName:"UploadDialog__CustomGridList",componentId:"vk7mct-2"})(["overflow:hidden !important;margin:0 !important;"]),Sn=Object(d.c)(Ua.a).withConfig({displayName:"UploadDialog__CustomGridListTile",componentId:"vk7mct-3"})(["cursor:pointer;"]),Rn=Object(d.c)(Ht.a).withConfig({displayName:"UploadDialog__CustomDialogContent",componentId:"vk7mct-4"})(["width:600px;"]),In=(d.c.img.withConfig({displayName:"UploadDialog__CustomImg",componentId:"vk7mct-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),Object(d.c)(z.a).withConfig({displayName:"UploadDialog__DeleteButton",componentId:"vk7mct-6"})(["color:#ccc;"])),Dn=function(e){var t=Object(p.d)(),a=Object(p.e)((function(e){return e.authReducer.user})),n=Object(p.e)((function(e){return e.schemeReducer.current})),c=Object(u.useState)(null),i=Object(s.a)(c,2),l=i[0],d=i[1],b=Object(u.useState)([]),j=Object(s.a)(b,2),h=j[0],O=j[1],f=Object(u.useState)(30),y=Object(s.a)(f,2),g=y[0],m=y[1],x=Object(u.useState)([]),_=Object(s.a)(x,2),w=_[0],C=_[1],v=Object(u.useState)(1),k=Object(s.a)(v,2),L=k[0],S=k[1],R=e.uploads,I=e.onCancel,D=e.open,E=e.onOpenUpload,T=Object(u.useCallback)((function(){m(g+30)}),[m,g]),M=Object(u.useCallback)((function(e){var t=e.substring(e.lastIndexOf("uploads/")+"uploads/".length,e.lastIndexOf("."));return 0===t.indexOf(a.id.toString())?t.slice(a.id.toString().length+1):t}),[a.id]),F=Object(u.useCallback)((function(e){C(e),console.log(e)}),[C]),A=Object(u.useCallback)((function(){console.log(w),t(Object(wn.d)(a.id,n.id,w)),C([]),S(L+1)}),[t,a.id,n.id,w,C,L,S]),P=Object(u.useCallback)((function(e,t){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),d(t)}),[d]),N=Object(u.useCallback)(Object(o.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Deleting: ",l),e.prev=1,e.next=4,Cn.a.getSchemeListByUploadID(l.id);case 4:(a=e.sent).length?O(a):(t(Object(wn.b)(l,!0)),d(null)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(Object(at.b)({message:e.t0.message})),d(null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[t,l,O,d]),U=Object(u.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(t(Object(Ut.k)(l.id)),t(Object(Ut.p)(null))),t(Object(wn.b)(l,e)),d(null),O([])}),[t,l,d,O]);return Object(re.jsxs)(zt.a,{"aria-labelledby":"upload-title",open:D,onClose:I,children:[Object(re.jsx)(Gt.a,{id:"upload-title",children:"My Uploads"}),Object(re.jsxs)(Rn,{dividers:!0,children:[Object(re.jsx)(_n.a,{onChange:F,value:w,showFileNamesInPreview:!0,showFileNames:!0,maxFiles:10},L),w.length?Object(re.jsx)(B.a,{mt:1,width:"100%",display:"flex",justifyContent:"center",children:Object(re.jsx)(vn,{variant:"contained",color:"primary",onClick:A,children:"Save To My Upload List"})}):Object(re.jsx)(re.Fragment,{}),Object(re.jsx)(B.a,{id:"upload-dialog-content",overflow:"auto",height:"40vh",mt:1,children:Object(re.jsx)(kn,{dataLength:g,next:T,hasMore:g<R.length,loader:Object(re.jsx)(Pa,{}),scrollableTarget:"upload-dialog-content",children:Object(re.jsx)(Ln,{cellHeight:178,cols:3,children:R.slice(0,g).map((function(e){return Object(re.jsxs)(Sn,{cols:1,onClick:function(){return E(e)},children:[Object(re.jsx)(Wa.a,{src:"".concat(Rt.a.assetsURL,"/").concat(e.file_name),alt:M(e.file_name)}),Object(re.jsx)(Va.a,{title:M(e.file_name),actionIcon:Object(re.jsx)(In,{onClick:function(t){return P(t,e)},children:Object(re.jsx)(xn.a,{})})})]},e.id)}))})})})]}),Object(re.jsx)(Ya.a,{children:Object(re.jsx)(vn,{onClick:I,color:"secondary",children:"Cancel"})}),Object(re.jsx)(Ae.a,{text:l?'Are you sure to delete "'.concat(M(l.file_name),'"?'):"",open:!!l,onCancel:function(){return d(null)},onConfirm:N}),Object(re.jsx)(mn,{text:h.length?Object(re.jsxs)(re.Fragment,{children:["The Projects below have the associated file:",Object(re.jsx)("ul",{children:h.map((function(e,t){return Object(re.jsx)("li",{children:e.name},t)}))}),"Would you like delete all of them?"]}):"",open:!!h.length,onYes:function(){return U(!0)},onNo:function(){return U(!1)}})]})},En=b.a.memo(Dn),Tn=a(531),Mn=a(533),Fn=a(551),Bn=Object(d.c)(Fn.a).withConfig({displayName:"FontSelect__Select",componentId:"sc-79nr26-0"})(W.b),An=Object(d.c)(Bn).withConfig({displayName:"FontSelect__CustomSelect",componentId:"sc-79nr26-1"})([".MuiSelect-selectMenu{display:flex;align-items:center;height:2rem;}"]),Pn=d.c.img.withConfig({displayName:"FontSelect__FontImage",componentId:"sc-79nr26-2"})(["width:506px;filter:invert(1);"]),Nn=function(e){var t=e.fontList,a=e.value,n=e.disabled,r=e.onChange;return Object(re.jsx)(An,{labelId:"font-select-label",id:"font-select-outlined",value:a,disabled:n,onChange:r,label:"Font",mb:4,renderValue:function(e){var a=t.find((function(t){return t.id===e}));return a?Object(re.jsx)(Wa.a,{ImageComponent:Pn,src:"".concat(Rt.a.assetsURL,"/").concat(a.font_preview),alt:a.font_name,minHeight:"20px"}):Object(re.jsx)(re.Fragment,{children:"Select Font"})},children:t.map((function(e){return Object(re.jsx)(Ra.a,{value:e.id,children:Object(re.jsx)(Wa.a,{ImageComponent:Pn,src:"".concat(Rt.a.assetsURL,"/").concat(e.font_preview),alt:e.font_name,minHeight:"20px"})},e.id)}))})},Un=Object(d.c)(G.a).withConfig({displayName:"TextDialog__Button",componentId:"sc-18v4ol9-0"})(W.b),Yn=Object(d.c)(Ce.a).withConfig({displayName:"TextDialog__TextField",componentId:"sc-18v4ol9-1"})(W.b),Wn=Object(d.c)(X.a).withConfig({displayName:"TextDialog__Typography",componentId:"sc-18v4ol9-2"})(W.b),Xn=Object(d.c)(Yn).withConfig({displayName:"TextDialog__CustomeTextField",componentId:"sc-18v4ol9-3"})([".MuiInputBase-input{height:2rem;}"]),zn=Object(d.c)(B.a).withConfig({displayName:"TextDialog__TextPreviewWrapper",componentId:"sc-18v4ol9-4"})(["overflow:auto;background:#",";"],(function(e){return e.backcolor})),Gn=Object(d.c)(B.a).withConfig({displayName:"TextDialog__TextPreview",componentId:"sc-18v4ol9-5"})(["color:",";-webkit-text-stroke-width:","px;-webkit-text-stroke-color:",";font-size:","px;font-family:",";transform:rotate(","deg);"],(function(e){return e.color}),(function(e){return e.stroke}),(function(e){return e.scolor}),(function(e){return e.size}),(function(e){return e.font}),(function(e){return e.rotate})),Hn=b.a.memo((function(e){var t=e.fontList,a=e.errors,n=e.handleBlur,r=e.handleChange,o=e.setFieldValue,c=e.touched,i=e.values,l=e.baseColor,s=Object(p.d)(),d=Object(p.e)((function(e){return e.fontReducer.loadedList})),b=Object(u.useCallback)((function(e,t){new FontFace(e,t).load().then((function(t){document.fonts.add(t),s(Object(Nt.c)(e))})).catch((function(t){console.warn(t,e)}))}),[Nt.c]);return Object(u.useEffect)((function(){var e=t.length?t.find((function(e){return e.id===i.font})):null;e&&!d.includes(e.font_name)&&b(e.font_name,"url(".concat(Rt.a.assetsURL,"/").concat(e.font_file,")"))}),[i.font]),Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(Xn,{name:"text",label:"Text",placeholder:"Input Text here",variant:"outlined",value:i.text,error:Boolean(c.text&&a.text),helperText:c.text&&a.text,onBlur:n,onChange:r,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0},autoFocus:!0}),Object(re.jsxs)(Tn.a,{variant:"outlined",children:[Object(re.jsx)(Mn.a,{id:"font-select-label",children:"Font"}),Object(re.jsx)(Nn,{value:i.font,onChange:function(e){return o("font",e.target.value)},fontList:t})]}),Object(re.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(re.jsx)(Oe.a,{item:!0,xs:12,sm:6,children:Object(re.jsx)(_e,{label:"Font Size",min:6,max:72,value:i.size,setValue:function(e){return o("size",e)}})}),Object(re.jsx)(Oe.a,{item:!0,xs:12,sm:6,children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(re.jsx)(Wn,{variant:"body1",color:"textSecondary",mr:2,children:"Font Color"}),Object(re.jsx)(ke,{value:i.color,onChange:function(e){return o("color",e)},onInputChange:function(e){return o("color",e)},error:Boolean(a.color),helperText:a.color})]})})]}),Object(re.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(re.jsx)(Oe.a,{item:!0,xs:12,sm:6,children:Object(re.jsx)(_e,{label:"Stroke Width",min:0,max:10,value:i.stroke,setValue:function(e){return o("stroke",e)}})}),Object(re.jsx)(Oe.a,{item:!0,xs:12,sm:6,children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(re.jsx)(Wn,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"}),Object(re.jsx)(ke,{value:i.scolor,onChange:function(e){return o("scolor",e)},onInputChange:function(e){return o("scolor",e)},error:Boolean(a.scolor),helperText:a.scolor})]})})]}),Object(re.jsx)(Oe.a,{container:!0,spacing:2,children:Object(re.jsx)(Oe.a,{item:!0,xs:12,sm:6,children:Object(re.jsx)(_e,{label:"Rotation",min:-179,max:179,value:i.rotation,setValue:function(e){return o("rotation",e)}})})}),Object(re.jsx)(zn,{width:"100%",height:"200px",my:2,display:"flex",justifyContent:"center",alignItems:"center",backcolor:l,children:Object(re.jsx)(Gn,{color:i.color,stroke:i.stroke,scolor:i.scolor,size:i.size,rotate:i.rotation,font:t.find((function(e){return e.id===i.font})).font_name,children:i.text})})]})})),Kn=function(e){var t=e.fontList,a=e.onCancel,n=e.open,r=e.baseColor,o=e.defaultColor,c=e.defaultStrokeColor,l=e.onCreate;return Object(re.jsxs)(zt.a,{"aria-labelledby":"insert-text-title",open:n,onClose:a,children:[Object(re.jsx)(Gt.a,{id:"insert-text-title",children:"Insert Text"}),Object(re.jsx)(de.b,{initialValues:{text:"",font:1,size:14,color:o||"#000000",stroke:0,scolor:c||"#000000",rotation:0},validationSchema:se.b().shape({text:se.c().required("Required"),color:se.c().nullable().test("color-validation","Incorrect Color Format",ue.e),scolor:se.c().nullable().test("color-validation","Incorrect Color Format",ue.e)}),validate:function(e){return console.log(e),{}},onSubmit:l,children:function(e){return Object(re.jsxs)(de.a,{onSubmit:e.handleSubmit,children:[Object(re.jsx)(Ht.a,{dividers:!0,id:"insert-text-dialog-content",children:Object(re.jsx)(Hn,Object(i.a)(Object(i.a)({},e),{},{fontList:t,baseColor:r}))}),Object(re.jsxs)(Ya.a,{children:[Object(re.jsx)(Un,{onClick:a,color:"secondary",children:"Cancel"}),Object(re.jsx)(Un,{type:"submit",color:"primary",variant:"outlined",disabled:e.isSubmitting,children:"Create"})]})]})}})]})},Vn=b.a.memo(Kn),qn=Object(d.c)(G.a).withConfig({displayName:"DefaultSettingsDialog__Button",componentId:"ol0j2l-0"})(W.b),Zn=Object(d.c)(X.a).withConfig({displayName:"DefaultSettingsDialog__Typography",componentId:"ol0j2l-1"})(W.b),Jn=function(e){e.label;var t=e.colorKey,a=e.opacityKey,n=e.errors,r=(e.handleBlur,e.handleChange,e.setFieldValue),o=(e.touched,e.values),c=e.extraChildren;return Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",width:"100%",mb:1,children:[Object(re.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(re.jsx)(Oe.a,{item:!0,xs:12,sm:6,children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(re.jsx)(Zn,{variant:"body1",color:"textSecondary",mr:2,children:"Color"}),Object(re.jsx)(ke,{value:o[t],onChange:function(e){return r(t,e)},onInputChange:function(e){return r(t,e)},error:Boolean(n[t]),helperText:n[t]})]})}),Object(re.jsx)(Oe.a,{item:!0,xs:12,sm:6,children:Object(re.jsx)(_e,{label:"Opacity",min:0,max:1,step:.01,value:o[a],setValue:function(e){return r(a,e)}})})]}),c]})},Qn=function(e){var t=e.onCancel,a=e.open,n=e.onApply,r=Object(p.e)((function(e){return e.schemeReducer.current.guide_data}));return Object(re.jsxs)(zt.a,{"aria-labelledby":"insert-text-title",open:a,onClose:t,fullWidth:!0,maxWidth:"sm",children:[Object(re.jsx)(Gt.a,{id:"insert-text-title",children:"Default Shape Settings"}),Object(re.jsx)(de.b,{initialValues:{default_shape_color:r.default_shape_color||"#000000",default_shape_opacity:r.default_shape_opacity||1,default_shape_scolor:r.default_shape_scolor||"#000000",default_shape_stroke:r.default_shape_stroke||0},validationSchema:se.b().shape({default_shape_color:se.c().nullable().test("color-validation","Incorrect Color Format",ue.e),default_shape_scolor:se.c().nullable().test("color-validation","Incorrect Color Format",ue.e)}),validate:function(e){return console.log(e),{}},onSubmit:n,children:function(e){return Object(re.jsxs)(de.a,{onSubmit:e.handleSubmit,noValidate:!0,children:[Object(re.jsx)(Ht.a,{dividers:!0,id:"insert-text-dialog-content",children:Object(re.jsx)(Jn,Object(i.a)(Object(i.a)({label:"Default Shapes",colorKey:"default_shape_color",opacityKey:"default_shape_opacity"},e),{},{extraChildren:Object(re.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(re.jsx)(Oe.a,{item:!0,xs:12,sm:6,children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(re.jsx)(Zn,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"}),Object(re.jsx)(ke,{value:e.values.default_shape_scolor,onChange:function(t){return e.setFieldValue("default_shape_scolor",t)},onInputChange:function(t){return e.setFieldValue("default_shape_scolor",t)},error:Boolean(e.errors.default_shape_scolor),helperText:e.errors.default_shape_scolor})]})}),Object(re.jsx)(Oe.a,{item:!0,xs:12,sm:6,children:Object(re.jsx)(_e,{label:"Stroke Width",min:0,max:10,step:1,value:e.values.default_shape_stroke,setValue:function(t){return e.setFieldValue("default_shape_stroke",t)}})})]})}))}),Object(re.jsxs)(Ya.a,{children:[Object(re.jsx)(qn,{onClick:t,color:"secondary",children:"Cancel"}),Object(re.jsx)(qn,{type:"submit",color:"primary",variant:"outlined",disabled:e.isSubmitting||!e.isValid,children:"Apply"})]})]})}})]})},$n=b.a.memo(Qn),er=Object(d.c)(Sa.a).withConfig({displayName:"DrawerBar__Divider",componentId:"sc-1d7p22o-0"})(W.b),tr=Object(d.c)(B.a).withConfig({displayName:"DrawerBar__Wrapper",componentId:"sc-1d7p22o-1"})(["background:#666666;padding:0px 10px 0 15px;"]),ar=Object(d.c)(B.a).withConfig({displayName:"DrawerBar__ToolWrapper",componentId:"sc-1d7p22o-2"})(["background:#444;border-radius:5px;padding:5px 1px;"]),nr=Object(d.c)(Ra.a).withConfig({displayName:"DrawerBar__CustomItem",componentId:"sc-1d7p22o-3"})(["display:flex;justify-content:center;padding:7px 10px;background-color:",";"],(function(e){return"true"===e.active?"rgba(255, 255, 255, 0.08)":"none"})),rr=Object(d.c)(Ge.a).withConfig({displayName:"DrawerBar__CustomFontAwesomeIcon",componentId:"sc-1d7p22o-4"})(["transform:",";"],(function(e){return"true"===e.isstretch?"scaleX(1.2) scaleY(0.8)":"none"})),or=Object(d.c)(B.a).withConfig({displayName:"DrawerBar__DefaultSettingsButton",componentId:"sc-1d7p22o-5"})(["outline:",";cursor:pointer;"],(function(e){return e.outline})),cr=[{value:A.f.DEFAULT,label:"Default Mode",icon:Object(re.jsx)(rr,{icon:Xe.i})},{value:A.f.POLYGON,label:"Polygon Mode",icon:Object(re.jsx)(rr,{icon:Xe.e})},{value:A.f.LINE,label:"Line Mode",icon:Object(re.jsx)(Da.a,{})},{value:A.f.PEN,label:"Brush Mode",icon:Object(re.jsx)(rr,{icon:Xe.j})},{value:A.f.RECT,label:"Rectangle Mode",icon:Object(re.jsx)(rr,{icon:Xe.n})},{value:A.f.CIRCLE,label:"Circle Mode",icon:Object(re.jsx)(rr,{icon:Xe.c})},{value:A.f.ELLIPSE,label:"Ellipse Mode",icon:Object(re.jsx)(rr,{icon:Xe.c,isstretch:"true"})},{value:A.f.STAR,label:"Star Mode",icon:Object(re.jsx)(rr,{icon:Xe.o})},{value:A.f.RING,label:"Ring Mode",icon:Object(re.jsx)(rr,{icon:Xe.d})},{value:A.f.REGULARPOLYGON,label:"Regular Polygon Mode",icon:Object(re.jsx)(Ia.a,{size:17})},{value:A.f.WEDGE,label:"Wedge Mode",icon:Object(re.jsx)(Ea.a,{fontSize:"small"})},{value:A.f.ARC,label:"Arc Mode",icon:Object(re.jsx)(rr,{icon:Ma.a})},{value:A.f.ARROW,label:"Arrow Mode",icon:Object(re.jsx)(Ta.a,{fontSize:"small"})}],ir=[{value:A.c.UPLOAD,label:"Insert My Logo/Upload New Logo",icon:Object(re.jsx)(rr,{icon:Xe.f})},{value:A.c.LOGO,label:"Insert Logo",icon:Object(re.jsx)(rr,{icon:Xe.h})},{value:A.c.TEXT,label:"Insert Text",icon:Object(re.jsx)(rr,{icon:Xe.g})},{value:A.c.SHAPE,label:"Insert Overlay",icon:Object(re.jsx)(rr,{icon:Xe.l})},{value:A.c.BASEPAINT,label:"Insert BasePaint",icon:Object(re.jsx)(rr,{icon:Xe.a})}],lr=function(e){var t=e.dialog,a=e.setDialog,n=e.focusBoard,r=e.stageRef,o=e.editable,c=Object(p.d)(),l=Object(p.e)((function(e){return e.boardReducer.mouseMode})),s=Object(p.e)((function(e){return e.schemeReducer.current})),d=Object(p.e)((function(e){return e.carMakeReducer.current})),b=Object(p.e)((function(e){return e.overlayReducer.list})),j=Object(p.e)((function(e){return e.logoReducer.list})),h=Object(p.e)((function(e){return e.uploadReducer.list})),O=Object(p.e)((function(e){return e.fontReducer.list})),f=Object(p.e)((function(e){return e.boardReducer.frameSize})),y=Object(p.e)((function(e){return e.boardReducer.zoom})),g=Object(p.e)((function(e){return e.basePaintReducer.list})),m=Object(u.useCallback)((function(e){c(Object(U.h)(e)),e!==A.f.DEFAULT&&c(Object(Ut.p)(null))}),[c]),x=Object(u.useCallback)((function(e){c(Object(U.h)(A.f.DEFAULT)),c(Object(Ut.g)(s.id,e,s.legacy_mode)),a(null),n()}),[c,a,n,s&&s.id]),_=Object(u.useCallback)((function(e){c(Object(U.h)(A.f.DEFAULT)),c(Object(Ut.e)(s.id,e,Object(ue.l)(r,f,y))),a(null),n()}),[c,a,n,s&&s.id,ue.l,r,f,y]),w=Object(u.useCallback)((function(e){c(Object(U.h)(A.f.DEFAULT)),c(Object(Ut.d)(s.id,e,Object(ue.l)(r,f,y))),a(null),n()}),[c,a,n,s&&s.id,ue.l,r,f,y]),C=Object(u.useCallback)((function(e){c(Object(U.h)(A.f.DEFAULT)),c(Object(Ut.f)(s.id,e,Object(ue.l)(r,f,y))),a(null),n()}),[c,a,n,s&&s.id,ue.l,r,f,y]),v=Object(u.useCallback)((function(e){c(Object(U.h)(A.f.DEFAULT)),console.log(Object(ue.l)(r,f,y)),c(Object(Ut.i)(s.id,e,Object(ue.l)(r,f,y))),a(null),n()}),[c,a,n,s&&s.id,ue.l,r,f,y]),k=Object(u.useCallback)((function(e){c(Object(Y.y)(Object(i.a)(Object(i.a)({},s),{},{guide_data:e}))),a(null)}),[c,s,a]);return Object(re.jsxs)(tr,{children:[Object(re.jsxs)(ar,{children:[cr.map((function(e){return Object(re.jsx)(ee.a,{title:e.label,arrow:!0,placement:"right",children:Object(re.jsx)(nr,{value:e.value,disabled:!o,onClick:function(){return m(e.value)},active:e.value===l?"true":"false",children:e.icon})},e.value)})),Object(re.jsx)(er,{my:1}),ir.map((function(e){return Object(re.jsx)(ee.a,{title:e.label,arrow:!0,placement:"right",children:Object(re.jsx)(nr,{value:e.value,disabled:!o,onClick:function(){return a(e.value)},children:e.icon})},e.value)})),Object(re.jsx)(er,{my:1}),Object(re.jsx)(B.a,{display:"flex",justifyContent:"center",width:"45px",height:"45px",alignItems:"center",children:Object(re.jsx)(ee.a,{title:"Default Shape Settings",arrow:!0,placement:"right",children:Object(re.jsx)(B.a,{bgcolor:"#FFFFFF",height:"25px",children:Object(re.jsx)(or,{width:"25px",height:"25px",bgcolor:(s.guide_data.default_shape_color||"#000000")+Object(ue.b)(s.guide_data.default_shape_opacity||1),outline:"".concat(s.guide_data.default_shape_stroke||0,"px solid ").concat(s.guide_data.default_shape_scolor||"#000000"),onClick:function(){return o?a(A.c.DEFAULT_SHAPE_SETTINGS):null}})})})})]}),Object(re.jsx)(Ka,{open:t===A.c.BASEPAINT,legacyMode:s.legacy_mode,carMake:d,basePaints:g,onOpenBase:x,onCancel:function(){return a(null)}}),Object(re.jsx)(an,{open:t===A.c.SHAPE,overlays:b,onOpenOverlay:_,onCancel:function(){return a(null)}}),Object(re.jsx)(fn,{open:t===A.c.LOGO,logos:j,onOpenLogo:w,onCancel:function(){return a(null)}}),Object(re.jsx)(En,{open:t===A.c.UPLOAD,uploads:h,onOpenUpload:C,onCancel:function(){return a(null)}}),Object(re.jsx)(Vn,{open:t===A.c.TEXT,fontList:O,baseColor:s.base_color,defaultColor:s.guide_data.default_shape_color,defaultStrokeColor:s.guide_data.default_shape_scolor,onCreate:v,onCancel:function(){return a(null)}}),Object(re.jsx)($n,{open:t===A.c.DEFAULT_SHAPE_SETTINGS,onApply:k,onCancel:function(){return a(null)}})]})},sr=b.a.memo(lr),dr=Object(d.c)(B.a).withConfig({displayName:"sideBar__LayerWrapper",componentId:"sc-10zcfrv-0"})(["width:300px;background:#666666;overflow:auto;"]),ur=Object(d.c)(B.a).withConfig({displayName:"sideBar__TitleWrapper",componentId:"sc-10zcfrv-1"})(["background:#666666;"]),br=Object(d.c)(B.a).withConfig({displayName:"sideBar__Wrapper",componentId:"sc-10zcfrv-2"})(["height:calc(100% - 46px);position:relative;"]),jr=Object(d.c)(G.a).withConfig({displayName:"sideBar__ColorApplyButton",componentId:"sc-10zcfrv-3"})(["padding:3px 15px 5px;"]),hr=function(e){var t=e.dialog,a=e.setDialog,n=e.editable,r=e.stageRef,o=e.focusBoard,c=e.hoveredLayerJSON,i=e.onBack,l=e.onChangeHoverJSONItem,d=Object(p.d)(),b=Object(p.e)((function(e){return e.schemeReducer.current})),j=Object(p.e)((function(e){return e.layerReducer.list})),h=Object(p.e)((function(e){return e.carMakeReducer.current})),O=Object(u.useMemo)((function(){return"transparent"===b.base_color?b.base_color:"#"+b.base_color}),[b.base_color]),f=Object(u.useState)(O),y=Object(s.a)(f,2),g=y[0],m=y[1],x=Object(u.useState)(!1),_=Object(s.a)(x,2),w=_[0],C=_[1];Object(u.useEffect)((function(){m(O)}),[O]);var v=Object(u.useCallback)((function(e){var t=e;"transparent"!==t&&(t=t.replace("#","")),d(Object(Y.y)({id:b.id,base_color:t})),m(e),C(!1)}),[d,b&&b.id,m,C]),k=Object(u.useCallback)((function(e){m(e),C(e!==O)}),[O,m,C]),L=Object(u.useCallback)((function(){var e=g;"transparent"!==e&&(e=e.replace("#","")),d(Object(Y.y)({id:b.id,base_color:e})),C(!1)}),[d,b&&b.id,g,C]);return Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",children:[Object(re.jsx)(ur,{px:3,children:Object(re.jsx)(aa,{onBack:i})}),Object(re.jsxs)(br,{display:"flex",children:[Object(re.jsx)(sr,{dialog:t,setDialog:a,stageRef:r,focusBoard:o,editable:n}),Object(re.jsxs)(dr,{pr:3,pb:2,children:[Object(re.jsx)(La,{title:h?h.name:"",layerList:j.filter((function(e){return e.layer_type===A.e.CAR})),disabled:!n,disableLock:!0,disableDnd:!0,hoveredLayerJSON:c,onChangeHoverJSONItem:l}),Object(re.jsx)(La,{title:"Logos & Text",layerList:j.filter((function(e){return e.layer_type===A.e.LOGO||e.layer_type===A.e.TEXT||e.layer_type===A.e.UPLOAD})),disabled:!n,hoveredLayerJSON:c,onChangeHoverJSONItem:l}),Object(re.jsx)(La,{title:"Shapes",layerList:j.filter((function(e){return e.layer_type===A.e.SHAPE})),disabled:!n,hoveredLayerJSON:c,onChangeHoverJSONItem:l}),Object(re.jsx)(La,{title:"Overlays",layerList:j.filter((function(e){return e.layer_type===A.e.OVERLAY})),disabled:!n,hoveredLayerJSON:c,onChangeHoverJSONItem:l}),Object(re.jsx)(La,{title:"Base Paint",layerList:j.filter((function(e){return e.layer_type===A.e.BASE})),disabled:!n,disableLock:!0,hoveredLayerJSON:c,onChangeHoverJSONItem:l,extraChildren:Object(re.jsxs)(B.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(re.jsx)(ke,{value:g,disabled:!n,onChange:v,onInputChange:k}),w&&Object(ue.e)(g)?Object(re.jsx)(jr,{onClick:L,variant:"outlined",children:"Apply"}):Object(ue.e)(g)?Object(re.jsx)(re.Fragment,{}):Object(re.jsx)(X.a,{color:"secondary",variant:"body2",children:"Invalid Color"})]})})]})]})]})},Or=a(585),fr=a(567),pr=a(566),yr=Object(d.c)(Ce.a).withConfig({displayName:"GeneralProperty__CustomeTextField",componentId:"sc-55yoxm-0"})([".MuiInputBase-input{height:2rem;}"]),gr=function(e){var t=e.user,a=e.editable,n=e.errors,r=e.isValid,o=e.checkLayerDataDirty,c=e.handleBlur,i=e.handleChange,l=e.setFieldValue,d=e.touched,b=e.values,j=e.toggleField,h=["name","text","numPoints","angle"],O=Object(u.useState)(!0),f=Object(s.a)(O,2),p=f[0],y=f[1],g=Object(u.useMemo)((function(){return b.layer_type?b.layer_type!==A.e.SHAPE?A.a[b.layer_type]:A.a[b.layer_type][b.layer_data.type]:[]}),[b]),m=Object(u.useCallback)((function(e,a){return a===A.e.UPLOAD&&0===e.indexOf(t.id.toString())?e.slice(t.id.toString().length+1):e}),[t]);return"{}"!==JSON.stringify(n)&&console.log(n),h.every((function(e){return!g.includes("layer_data."+e)}))?Object(re.jsx)(re.Fragment,{}):Object(re.jsxs)(Or.a,{expanded:p,onChange:function(){return y(!p)},children:[Object(re.jsx)(fr.a,{expandIcon:Object(re.jsx)(je.a,{}),children:Object(re.jsx)(X.a,{children:"General"})}),Object(re.jsx)(pr.a,{children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",width:"100%",children:[g.includes("layer_data.name")?Object(re.jsx)(yr,{name:"layer_data.name",label:"Name",variant:"outlined",value:m(b.layer_data.name,b.layer_type),disabled:!a,error:Boolean(d.layer_data&&d.layer_data.name&&n.layer_data&&n.layer_data.name),helperText:d.layer_data&&d.layer_data.name&&n.layer_data&&n.layer_data.name,onBlur:c,onChange:i,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{}),g.includes("layer_data.text")?Object(re.jsx)(yr,{name:"layer_data.text",label:"Text",variant:"outlined",value:b.layer_data.text,disabled:!a,error:Boolean(d.layer_data&&d.layer_data.text&&n.layer_data&&n.layer_data.text),helperText:d.layer_data&&d.layer_data.text&&n.layer_data&&n.layer_data.text,onBlur:c,onChange:i,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{}),g.includes("layer_data.numPoints")?Object(re.jsx)(yr,{name:"layer_data.numPoints",label:"Number of Points",variant:"outlined",type:"number",value:Math.round(b.layer_data.numPoints),disabled:!a,error:Boolean(d.layer_data&&d.layer_data.numPoints&&n.layer_data&&n.layer_data.numPoints),helperText:d.layer_data&&d.layer_data.numPoints&&n.layer_data&&n.layer_data.numPoints,onBlur:c,onChange:i,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{}),g.includes("layer_data.angle")?Object(re.jsx)(_e,{label:"Angle",disabled:!a,min:0,max:360,value:Math.round(b.layer_data.angle),setValue:function(e){return l("layer_data.angle",e)}}):Object(re.jsx)(re.Fragment,{}),g.includes("layer_visible")?Object(re.jsxs)(B.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object(re.jsx)(X.a,{variant:"body1",color:"textSecondary",mr:2,children:"Visibility"}),Object(re.jsx)(z.a,{disabled:!a,onClick:function(){return j("layer_visible")},size:"small",children:b.layer_visible?Object(re.jsx)(ha.a,{}):Object(re.jsx)(Oa.a,{})})]}):Object(re.jsx)(re.Fragment,{}),g.includes("layer_locked")?Object(re.jsxs)(B.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object(re.jsx)(X.a,{variant:"body1",color:"textSecondary",mr:2,children:"Locking"}),Object(re.jsx)(z.a,{disabled:!a,onClick:function(){return j("layer_locked")},size:"small",children:b.layer_locked?Object(re.jsx)(ba.a,{}):Object(re.jsx)(ja.a,{})})]}):Object(re.jsx)(re.Fragment,{}),a&&r&&o(h)?Object(re.jsx)(B.a,{mt:2,width:"100%",children:Object(re.jsx)(G.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object(re.jsx)(re.Fragment,{})]})})]})},mr=b.a.memo(gr),xr=a(1269),_r=a(1270),wr=Object(d.c)(Ce.a).withConfig({displayName:"SizeProperty__CustomeTextField",componentId:"sc-8yv6lk-0"})([".MuiInputBase-input{height:2rem;}"]),Cr=Object(d.c)(z.a).withConfig({displayName:"SizeProperty__CustomIconButton",componentId:"sc-8yv6lk-1"})(["margin:0 5px;height:50px;"]),vr=function(e){var t=e.editable,a=e.errors,n=e.isValid,r=e.checkLayerDataDirty,o=e.handleBlur,c=e.handleChange,i=e.setFieldValue,l=e.touched,d=e.values,b=e.toggleLayerDataField,j=e.currentLayer,h=e.pressedKey,O=["width","height","scaleX","scaleY","radius","innerRadius","outerRadius","pointerLength","pointerWidth"],f=Object(u.useState)(!0),p=Object(s.a)(f,2),y=p[0],g=p[1],m=Object(u.useMemo)((function(){return d.layer_type?d.layer_type!==A.e.SHAPE?A.a[d.layer_type]:A.a[d.layer_type][d.layer_data.type]:[]}),[d]),x=Object(u.useMemo)((function(){return"shift"===h}),[h]),_=Object(u.useCallback)((function(e){var t=parseFloat(e.target.value)||0;d.layer_data.sizeLocked&&i("layer_data.height",t*j.layer_data.height/j.layer_data.width),i("layer_data.width",parseFloat(e.target.value)||0)}),[i,j&&j.layer_data.height,j&&j.layer_data.width]),w=Object(u.useCallback)((function(e){var t=parseFloat(e.target.value)||0;d.layer_data.sizeLocked&&i("layer_data.width",t*j.layer_data.width/j.layer_data.height),i("layer_data.height",parseFloat(e.target.value)||0)}),[i,j&&j.layer_data.height,j&&j.layer_data.width]),C=Object(u.useCallback)((function(e){var t=parseFloat(e.target.value)||0;d.layer_data.sizeLocked&&i("layer_data.scaleY",t*j.layer_data.scaleY/j.layer_data.scaleX),i("layer_data.scaleX",parseFloat(e.target.value)||0)}),[i,j&&j.layer_data.scaleY,j&&j.layer_data.scaleX]),v=Object(u.useCallback)((function(e){var t=parseFloat(e.target.value)||0;d.layer_data.sizeLocked&&i("layer_data.scaleX",t*j.layer_data.scaleX/j.layer_data.scaleY),i("layer_data.scaleY",parseFloat(e.target.value)||0)}),[i,j&&j.layer_data.scaleY,j&&j.layer_data.scaleX]),k=Object(u.useCallback)((function(e){var t=parseFloat(e.target.value)||0;d.layer_data.sizeLocked&&i("layer_data.outerRadius",t*j.layer_data.outerRadius/j.layer_data.innerRadius),i("layer_data.innerRadius",parseFloat(e.target.value)||0)}),[i,j&&j.layer_data.outerRadius,j&&j.layer_data.innerRadius]),L=Object(u.useCallback)((function(e){var t=parseFloat(e.target.value)||0;d.layer_data.sizeLocked&&i("layer_data.innerRadius",t*j.layer_data.innerRadius/j.layer_data.outerRadius),i("layer_data.outerRadius",parseFloat(e.target.value)||0)}),[i,j&&j.layer_data.outerRadius,j&&j.layer_data.innerRadius]);return O.every((function(e){return!m.includes("layer_data."+e)}))?Object(re.jsx)(re.Fragment,{}):Object(re.jsxs)(Or.a,{expanded:y,onChange:function(){return g(!y)},children:[Object(re.jsx)(fr.a,{expandIcon:Object(re.jsx)(je.a,{}),children:Object(re.jsx)(X.a,{children:"Size"})}),Object(re.jsx)(pr.a,{children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",width:"100%",children:[Object(re.jsxs)(B.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[m.includes("layer_data.width")?Object(re.jsx)(wr,{name:"layer_data.width",label:d.layer_data.type!==A.f.ELLIPSE?"Width":"RadiusX",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.width),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.width&&a.layer_data&&a.layer_data.width),helperText:l.layer_data&&l.layer_data.width&&a.layer_data&&a.layer_data.width,onBlur:o,onChange:_,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{}),m.includes("layer_data.width")&&m.includes("layer_data.height")?Object(re.jsx)(Cr,{disabled:!t,onClick:function(){return b("sizeLocked")},children:d.layer_data.sizeLocked||x?Object(re.jsx)(xr.a,{}):Object(re.jsx)(_r.a,{})}):Object(re.jsx)(re.Fragment,{}),m.includes("layer_data.height")?Object(re.jsx)(wr,{name:"layer_data.height",label:d.layer_data.type!==A.f.ELLIPSE?"Height":"RadiusY",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.height),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.height&&a.layer_data&&a.layer_data.height),helperText:l.layer_data&&l.layer_data.height&&a.layer_data&&a.layer_data.height,onBlur:o,onChange:w,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})]}),Object(re.jsxs)(B.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[m.includes("layer_data.scaleX")?Object(re.jsx)(wr,{name:"layer_data.scaleX",label:"ScaleX",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.scaleX),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.scaleX&&a.layer_data&&a.layer_data.scaleX),helperText:l.layer_data&&l.layer_data.scaleX&&a.layer_data&&a.layer_data.scaleX,onBlur:o,onChange:C,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{}),m.includes("layer_data.scaleX")&&m.includes("layer_data.scaleY")?Object(re.jsx)(Cr,{disabled:!t,onClick:function(){return b("sizeLocked")},children:d.layer_data.sizeLocked||x?Object(re.jsx)(xr.a,{}):Object(re.jsx)(_r.a,{})}):Object(re.jsx)(re.Fragment,{}),m.includes("layer_data.scaleY")?Object(re.jsx)(wr,{name:"layer_data.scaleY",label:"ScaleY",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.scaleY),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.scaleY&&a.layer_data&&a.layer_data.scaleY),helperText:l.layer_data&&l.layer_data.scaleY&&a.layer_data&&a.layer_data.scaleY,onBlur:o,onChange:v,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})]}),Object(re.jsxs)(B.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[m.includes("layer_data.innerRadius")?Object(re.jsx)(wr,{name:"layer_data.innerRadius",label:"Inner Radius",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.innerRadius),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.innerRadius&&a.layer_data&&a.layer_data.innerRadius),helperText:l.layer_data&&l.layer_data.innerRadius&&a.layer_data&&a.layer_data.innerRadius,onBlur:o,onChange:k,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{}),m.includes("layer_data.innerRadius")&&m.includes("layer_data.outerRadius")?Object(re.jsx)(Cr,{disabled:!t,onClick:function(){return b("sizeLocked")},children:d.layer_data.sizeLocked||x?Object(re.jsx)(xr.a,{}):Object(re.jsx)(_r.a,{})}):Object(re.jsx)(re.Fragment,{}),m.includes("layer_data.outerRadius")?Object(re.jsx)(wr,{name:"layer_data.outerRadius",label:"Outer Radius",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.outerRadius),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.outerRadius&&a.layer_data&&a.layer_data.outerRadius),helperText:l.layer_data&&l.layer_data.outerRadius&&a.layer_data&&a.layer_data.outerRadius,onBlur:o,onChange:L,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})]}),m.includes("layer_data.radius")?Object(re.jsx)(wr,{name:"layer_data.radius",label:"Radius",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.radius),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.radius&&a.layer_data&&a.layer_data.radius),helperText:l.layer_data&&l.layer_data.radius&&a.layer_data&&a.layer_data.radius,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{}),m.includes("layer_data.pointerWidth")?Object(re.jsx)(wr,{name:"layer_data.pointerWidth",label:"Pointer Width",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.pointerWidth),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.pointerWidth&&a.layer_data&&a.layer_data.pointerWidth),helperText:l.layer_data&&l.layer_data.pointerWidth&&a.layer_data&&a.layer_data.pointerWidth,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{}),m.includes("layer_data.pointerLength")?Object(re.jsx)(wr,{name:"layer_data.pointerLength",label:"Pointer Length",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.pointerLength),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.pointerLength&&a.layer_data&&a.layer_data.pointerLength),helperText:l.layer_data&&l.layer_data.pointerLength&&a.layer_data&&a.layer_data.pointerLength,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{}),t&&n&&r(O)?Object(re.jsx)(B.a,{mt:2,width:"100%",children:Object(re.jsx)(G.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object(re.jsx)(re.Fragment,{})]})})]})},kr=b.a.memo(vr),Lr=Object(d.c)(Ce.a).withConfig({displayName:"PositionProperty__CustomeTextField",componentId:"sc-16v7yid-0"})([".MuiInputBase-input{height:2rem;}"]),Sr=function(e){var t=e.editable,a=e.errors,n=e.isValid,r=e.checkLayerDataDirty,o=e.handleBlur,c=e.handleChange,i=(e.setFieldValue,e.touched),l=e.values,d=["left","top"],b=Object(u.useState)(!0),j=Object(s.a)(b,2),h=j[0],O=j[1],f=Object(u.useMemo)((function(){return l.layer_type?l.layer_type!==A.e.SHAPE?A.a[l.layer_type]:A.a[l.layer_type][l.layer_data.type]:[]}),[l]);return d.every((function(e){return!f.includes("layer_data."+e)}))?Object(re.jsx)(re.Fragment,{}):Object(re.jsxs)(Or.a,{expanded:h,onChange:function(){return O(!h)},children:[Object(re.jsx)(fr.a,{expandIcon:Object(re.jsx)(je.a,{}),children:Object(re.jsx)(X.a,{children:"Position"})}),Object(re.jsx)(pr.a,{children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",width:"100%",children:[Object(re.jsxs)(Oe.a,{container:!0,spacing:1,children:[Object(re.jsx)(Oe.a,{item:!0,sm:6,children:f.includes("layer_data.left")?Object(re.jsx)(Lr,{name:"layer_data.left",label:"X",variant:"outlined",type:"number",value:Object(ue.p)(l.layer_data.left),disabled:!t,error:Boolean(i.layer_data&&i.layer_data.left&&a.layer_data&&a.layer_data.left),helperText:i.layer_data&&i.layer_data.left&&a.layer_data&&a.layer_data.left,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})}),Object(re.jsx)(Oe.a,{item:!0,sm:6,children:f.includes("layer_data.top")?Object(re.jsx)(Lr,{name:"layer_data.top",label:"Y",variant:"outlined",type:"number",value:Object(ue.p)(l.layer_data.top),disabled:!t,error:Boolean(i.layer_data&&i.layer_data.top&&a.layer_data&&a.layer_data.top),helperText:i.layer_data&&i.layer_data.top&&a.layer_data&&a.layer_data.top,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})})]}),t&&n&&r(d)?Object(re.jsx)(B.a,{mt:2,width:"100%",children:Object(re.jsx)(G.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object(re.jsx)(re.Fragment,{})]})})]})},Rr=b.a.memo(Sr),Ir=Object(d.c)(Tn.a).withConfig({displayName:"FontProperty__FormControl",componentId:"sc-8xx6kn-0"})(W.b),Dr=function(e){var t=e.editable,a=e.errors,n=e.isValid,r=e.checkLayerDataDirty,o=(e.handleBlur,e.handleChange,e.setFieldValue),c=(e.touched,e.values),i=e.fontList,l=e.onLayerDataUpdate,d=["font"],b=Object(u.useState)(!0),j=Object(s.a)(b,2),h=j[0],O=j[1],f=Object(u.useMemo)((function(){return c.layer_type?c.layer_type!==A.e.SHAPE?A.a[c.layer_type]:A.a[c.layer_type][c.layer_data.type]:[]}),[c]);return d.every((function(e){return!f.includes("layer_data."+e)}))?Object(re.jsx)(re.Fragment,{}):Object(re.jsxs)(Or.a,{expanded:h,onChange:function(){return O(!h)},children:[Object(re.jsx)(fr.a,{expandIcon:Object(re.jsx)(je.a,{}),children:Object(re.jsx)(X.a,{children:"Font"})}),Object(re.jsx)(pr.a,{children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",width:"100%",children:[f.includes("layer_data.font")?Object(re.jsxs)(Ir,{variant:"outlined",mt:2,children:[Object(re.jsx)(Mn.a,{id:"font-select-label",children:"Font"}),Object(re.jsx)(Nn,{value:c.layer_data.font,disabled:!t,onChange:function(e){return l("font",e.target.value)},fontList:i})]}):Object(re.jsx)(re.Fragment,{}),f.includes("layer_data.color")?Object(re.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsx)(X.a,{variant:"body1",color:"textSecondary",mr:2,children:"Font Color"})}),Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsx)(ke,{value:c.layer_data.color,disabled:!t,onChange:function(e){return l("color",e)},onInputChange:function(e){return o("layer_data.color",e)},error:Boolean(a.layer_data&&a.layer_data.color),helperText:a.layer_data&&a.layer_data.color})})]}):Object(re.jsx)(re.Fragment,{}),f.includes("layer_data.size")?Object(re.jsx)(_e,{label:"Font Size",disabled:!t,min:6,max:72,value:c.layer_data.size,setValue:function(e){return o("layer_data.size",e)}}):Object(re.jsx)(re.Fragment,{}),t&&n&&r(d)?Object(re.jsx)(B.a,{mt:2,width:"100%",children:Object(re.jsx)(G.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object(re.jsx)(re.Fragment,{})]})})]})},Er=b.a.memo(Dr),Tr=function(e){var t=e.editable,a=e.errors,n=e.isValid,r=e.checkLayerDataDirty,o=(e.handleBlur,e.handleChange,e.setFieldValue),c=(e.touched,e.values),i=e.onLayerDataUpdate,l=["stroke","scolor","strokeType"],d=Object(u.useState)(!0),b=Object(s.a)(d,2),j=b[0],h=b[1],O=Object(u.useMemo)((function(){return c.layer_type?c.layer_type!==A.e.SHAPE?A.a[c.layer_type]:A.a[c.layer_type][c.layer_data.type]:[]}),[c]);return l.every((function(e){return!O.includes("layer_data."+e)}))?Object(re.jsx)(re.Fragment,{}):Object(re.jsxs)(Or.a,{expanded:j,onChange:function(){return h(!j)},children:[Object(re.jsx)(fr.a,{expandIcon:Object(re.jsx)(je.a,{}),children:Object(re.jsx)(X.a,{children:"Stroke"})}),Object(re.jsx)(pr.a,{children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",width:"100%",children:[O.includes("layer_data.scolor")?Object(re.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsx)(X.a,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"})}),Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsx)(ke,{value:c.layer_data.scolor,disabled:!t,onChange:function(e){return i("scolor",e)},onInputChange:function(e){return o("layer_data.scolor",e)},error:Boolean(a.layer_data&&a.layer_data.scolor),helperText:a.layer_data&&a.layer_data.scolor})})]}):Object(re.jsx)(re.Fragment,{}),O.includes("layer_data.stroke")?Object(re.jsx)(B.a,{mb:2,children:Object(re.jsx)(_e,{label:"Stroke Width",min:0,max:10,value:c.layer_data.stroke,disabled:!t,setValue:function(e){return o("layer_data.stroke",e)}})}):Object(re.jsx)(re.Fragment,{}),O.includes("layer_data.strokeType")?Object(re.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsx)(X.a,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Type"})}),Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsxs)(Fn.a,{name:"layer_data.strokeType",variant:"outlined",value:c.layer_data.strokeType,disabled:!t,onChange:function(e){return i("strokeType",e.target.value)},fullWidth:!0,children:[Object(re.jsx)(Ra.a,{value:"inside",children:"Inside"}),Object(re.jsx)(Ra.a,{value:"middle",children:"Middle"}),Object(re.jsx)(Ra.a,{value:"outside",children:"Outside"})]})})]}):Object(re.jsx)(re.Fragment,{}),t&&n&&r(l)?Object(re.jsx)(B.a,{mt:2,width:"100%",children:Object(re.jsx)(G.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object(re.jsx)(re.Fragment,{})]})})]})},Mr=b.a.memo(Tr),Fr=function(e){var t=e.editable,a=e.errors,n=(e.handleBlur,e.handleChange,e.isValid),r=e.checkLayerDataDirty,o=e.setFieldValue,c=(e.touched,e.values),i=e.onLayerDataUpdate,l=["color","opacity","blendType"],d=Object(u.useState)(!0),b=Object(s.a)(d,2),j=b[0],h=b[1],O=Object(u.useMemo)((function(){return c.layer_type?c.layer_type!==A.e.SHAPE?A.a[c.layer_type]:A.a[c.layer_type][c.layer_data.type]:[]}),[c]);return l.every((function(e){return!O.includes("layer_data."+e)}))?Object(re.jsx)(re.Fragment,{}):Object(re.jsxs)(Or.a,{expanded:j,onChange:function(){return h(!j)},children:[Object(re.jsx)(fr.a,{expandIcon:Object(re.jsx)(je.a,{}),children:Object(re.jsx)(X.a,{children:"Colors"})}),Object(re.jsx)(pr.a,{children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",width:"100%",children:[O.includes("layer_data.color")&&c.layer_type!==A.e.TEXT?Object(re.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsx)(X.a,{variant:"body1",color:"textSecondary",mr:2,children:"Color"})}),Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsx)(ke,{value:c.layer_data.color,disabled:!t,onChange:function(e){return i("color",e)},onInputChange:function(e){return o("layer_data.color",e)},error:Boolean(a.layer_data&&a.layer_data.color),helperText:a.layer_data&&a.layer_data.color})})]}):Object(re.jsx)(re.Fragment,{}),O.includes("layer_data.opacity")?Object(re.jsx)(B.a,{mb:2,children:Object(re.jsx)(_e,{label:"Opacity",disabled:!t,min:0,max:1,step:.01,value:c.layer_data.opacity,setValue:function(e){return o("layer_data.opacity",e)}})}):Object(re.jsx)(re.Fragment,{}),O.includes("layer_data.blendType")?Object(re.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsx)(X.a,{variant:"body1",color:"textSecondary",mr:2,children:"Blend Type"})}),Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsxs)(Fn.a,{name:"layer_data.blendType",variant:"outlined",value:c.layer_data.blendType,disabled:!t,onChange:function(e){return i("blendType",e.target.value)},fullWidth:!0,children:[Object(re.jsx)(Ra.a,{value:"normal",children:"Normal"}),Object(re.jsx)(Ra.a,{value:"multiply",children:"Multiply"}),Object(re.jsx)(Ra.a,{value:"darken",children:"Darken"}),Object(re.jsx)(Ra.a,{value:"lighten",children:"Lighten"}),Object(re.jsx)(Ra.a,{value:"color-burn",children:"Color Burn"}),Object(re.jsx)(Ra.a,{value:"color",children:"Color"}),Object(re.jsx)(Ra.a,{value:"screen",children:"Screen"}),Object(re.jsx)(Ra.a,{value:"overlay",children:"Overlay"}),Object(re.jsx)(Ra.a,{value:"hue",children:"Hue"}),Object(re.jsx)(Ra.a,{value:"saturation",children:"Saturation"}),Object(re.jsx)(Ra.a,{value:"luminosity",children:"Luminosity"}),Object(re.jsx)(Ra.a,{value:"xor",children:"Xor"})]})})]}):Object(re.jsx)(re.Fragment,{}),t&&n&&r(l)?Object(re.jsx)(B.a,{mt:2,width:"100%",children:Object(re.jsx)(G.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object(re.jsx)(re.Fragment,{})]})})]})},Br=b.a.memo(Fr),Ar=Object(d.c)(le.z).withConfig({displayName:"BackgroundProperty__CustomeTextField",componentId:"sc-8gty0c-0"})([".MuiInputBase-input{height:2rem;}"]),Pr=function(e){var t=e.editable,a=e.errors,n=e.handleBlur,r=e.handleChange,o=e.isValid,c=e.checkLayerDataDirty,i=e.setFieldValue,l=e.touched,d=e.values,b=e.onLayerDataUpdate,j=["bgColor","paddingX","paddingY"],h=Object(u.useState)(!0),O=Object(s.a)(h,2),f=O[0],p=O[1],y=Object(u.useMemo)((function(){return d.layer_type?d.layer_type!==A.e.SHAPE?A.a[d.layer_type]:A.a[d.layer_type][d.layer_data.type]:[]}),[d]);return j.every((function(e){return!y.includes("layer_data."+e)}))?Object(re.jsx)(re.Fragment,{}):Object(re.jsxs)(le.a,{expanded:f,onChange:function(){return p(!f)},children:[Object(re.jsx)(le.c,{expandIcon:Object(re.jsx)(je.a,{}),children:Object(re.jsx)(le.A,{children:"Background"})}),Object(re.jsx)(le.b,{children:Object(re.jsxs)(le.f,{display:"flex",flexDirection:"column",width:"100%",children:[y.includes("layer_data.bgColor")?Object(re.jsxs)(le.q,{container:!0,spacing:2,children:[Object(re.jsx)(le.q,{item:!0,xs:6,children:Object(re.jsx)(le.f,{display:"flex",alignItems:"center",height:"100%",children:Object(re.jsx)(le.A,{variant:"body1",color:"textSecondary",children:"BG Color"})})}),Object(re.jsx)(le.q,{item:!0,xs:6,children:Object(re.jsx)(ke,{value:d.layer_data.bgColor,disabled:!t,onChange:function(e){return b("bgColor",e)},onInputChange:function(e){return i("layer_data.bgColor",e)},error:Boolean(a.layer_data&&a.layer_data.bgColor),helperText:a.layer_data&&a.layer_data.bgColor})})]}):Object(re.jsx)(re.Fragment,{}),Object(re.jsxs)(le.q,{container:!0,spacing:1,children:[Object(re.jsx)(le.q,{item:!0,sm:6,children:y.includes("layer_data.paddingX")?Object(re.jsx)(Ar,{name:"layer_data.paddingX",label:"PaddingX",variant:"outlined",type:"number",disabled:!t,value:Object(ue.p)(d.layer_data.paddingX),error:Boolean(l.layer_data&&l.layer_data.paddingX&&a.layer_data&&a.layer_data.paddingX),helperText:l.layer_data&&l.layer_data.paddingX&&a.layer_data&&a.layer_data.paddingX,onBlur:n,onChange:r,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})}),Object(re.jsx)(le.q,{item:!0,sm:6,children:y.includes("layer_data.paddingY")?Object(re.jsx)(Ar,{name:"layer_data.paddingY",label:"PaddingY",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.paddingY),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.paddingY&&a.layer_data&&a.layer_data.paddingY),helperText:l.layer_data&&l.layer_data.paddingY&&a.layer_data&&a.layer_data.paddingY,onBlur:n,onChange:r,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})})]}),t&&o&&c(j)?Object(re.jsx)(le.f,{mt:2,width:"100%",children:Object(re.jsx)(le.g,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object(re.jsx)(re.Fragment,{})]})})]})},Nr=b.a.memo(Pr),Ur=a(1271),Yr=a(1272),Wr=function(e){var t=e.editable,a=(e.errors,e.isValid),n=e.checkLayerDataDirty,r=e.stageRef,o=e.currentLayer,c=(e.handleBlur,e.handleChange,e.setFieldValue),i=(e.toggleField,e.touched,e.values),l=e.onLayerDataUpdate,d=["rotation","flip","flop"],b=Object(u.useState)(!0),j=Object(s.a)(b,2),h=j[0],O=j[1],f=Object(u.useMemo)((function(){return i.layer_type?i.layer_type!==A.e.SHAPE?A.a[i.layer_type]:A.a[i.layer_type][i.layer_data.type]:[]}),[i]),p=Object(u.useCallback)((function(e){if(![A.f.CIRCLE,A.f.ELLIPSE,A.f.STAR,A.f.RING,A.f.REGULARPOLYGON,A.f.WEDGE,A.f.ARC,A.f.ARROW,A.f.PEN].includes(o.layer_data.type)){var t=r.current.findOne("."+o.id),a=e/180*Math.PI,n={x:t.x(),y:t.y(),width:t.width(),height:t.height(),rotation:t.rotation()/180*Math.PI},i=Object(ue.u)(n,a-n.rotation);c("layer_data.left",i.x),c("layer_data.top",i.y)}c("layer_data.rotation",e)}),[o,ue.u]);return d.every((function(e){return!f.includes("layer_data."+e)}))?Object(re.jsx)(re.Fragment,{}):Object(re.jsxs)(Or.a,{expanded:h,onChange:function(){return O(!h)},children:[Object(re.jsx)(fr.a,{expandIcon:Object(re.jsx)(je.a,{}),children:Object(re.jsx)(X.a,{children:"Rotation"})}),Object(re.jsx)(pr.a,{children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",width:"100%",children:[f.includes("layer_data.rotation")?Object(re.jsx)(_e,{label:"Rotation",min:-179,max:179,value:Math.round(i.layer_data.rotation),disabled:!t,setValue:p}):Object(re.jsx)(re.Fragment,{}),f.includes("layer_data.flop")?Object(re.jsxs)(B.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object(re.jsx)(X.a,{variant:"body1",color:"textSecondary",mr:2,children:"Flop"}),Object(re.jsx)(z.a,{disabled:!t,onClick:function(){return l("flop",i.layer_data.flop?0:1)},size:"small",children:i.layer_data.flop?Object(re.jsx)(Ur.a,{}):Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(Ur.a,{}),Object(re.jsx)(B.a,{position:"absolute",left:"4px",top:"5px",children:Object(re.jsx)(Ge.a,{icon:Xe.m,size:"sm"})})]})})]}):Object(re.jsx)(re.Fragment,{}),f.includes("layer_data.flip")?Object(re.jsxs)(B.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object(re.jsx)(X.a,{variant:"body1",color:"textSecondary",mr:2,children:"Flip"}),Object(re.jsx)(z.a,{disabled:!t,onClick:function(){return l("flip",i.layer_data.flip?0:1)},size:"small",children:i.layer_data.flip?Object(re.jsx)(Yr.a,{}):Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(Yr.a,{}),Object(re.jsx)(B.a,{position:"absolute",left:"4px",top:"5px",children:Object(re.jsx)(Ge.a,{icon:Xe.m,size:"sm"})})]})})]}):Object(re.jsx)(re.Fragment,{}),t&&a&&n(d)?Object(re.jsx)(B.a,{mt:2,width:"100%",children:Object(re.jsx)(G.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object(re.jsx)(re.Fragment,{})]})})]})},Xr=b.a.memo(Wr),zr=Object(d.c)(Ce.a).withConfig({displayName:"ShadowProperty__CustomeTextField",componentId:"sc-1d6vteb-0"})([".MuiInputBase-input{height:2rem;}"]),Gr=function(e){var t=e.editable,a=e.errors,n=e.isValid,r=e.checkLayerDataDirty,o=e.handleBlur,c=e.handleChange,i=e.setFieldValue,l=e.touched,d=e.values,b=e.onLayerDataUpdate,j=["shadowColor","shadowBlur","shadowOpacity","shadowOffsetX","shadowOffsetY"],h=Object(u.useState)(!0),O=Object(s.a)(h,2),f=O[0],p=O[1],y=Object(u.useMemo)((function(){return d.layer_type?d.layer_type!==A.e.SHAPE?A.a[d.layer_type]:A.a[d.layer_type][d.layer_data.type]:[]}),[d]),g=Object(u.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];d.layer_data.shadowColor&&"transparent"!==d.layer_data.shadowColor||i("layer_data.shadowBlur",5),t?b("shadowColor",e):i("layer_data.shadowColor",e)}),[i,b,d.layer_data]);return j.every((function(e){return!y.includes("layer_data."+e)}))?Object(re.jsx)(re.Fragment,{}):Object(re.jsxs)(Or.a,{expanded:f,onChange:function(){return p(!f)},children:[Object(re.jsx)(fr.a,{expandIcon:Object(re.jsx)(je.a,{}),children:Object(re.jsx)(X.a,{children:"Shadow"})}),Object(re.jsx)(pr.a,{children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",width:"100%",children:[y.includes("layer_data.shadowColor")?Object(re.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsx)(B.a,{display:"flex",alignItems:"center",height:"100%",children:Object(re.jsx)(X.a,{variant:"body1",color:"textSecondary",mr:2,children:"Shadow Color"})})}),Object(re.jsx)(Oe.a,{item:!0,xs:6,children:Object(re.jsx)(ke,{value:d.layer_data.shadowColor,disabled:!t,onChange:function(e){return g(e)},onInputChange:function(e){return g(e,!1)},error:Boolean(a.layer_data&&a.layer_data.shadowColor),helperText:a.layer_data&&a.layer_data.shadowColor})})]}):Object(re.jsx)(re.Fragment,{}),y.includes("layer_data.shadowBlur")?Object(re.jsx)(zr,{name:"layer_data.shadowBlur",label:"Shadow Blur",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.shadowBlur),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.shadowBlur&&a.layer_data&&a.layer_data.shadowBlur),helperText:l.layer_data&&l.layer_data.shadowBlur&&a.layer_data&&a.layer_data.shadowBlur,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{}),y.includes("layer_data.shadowOpacity")?Object(re.jsx)(_e,{label:"Opacity",min:0,max:1,step:.01,value:d.layer_data.shadowOpacity,disabled:!t,setValue:function(e){return i("layer_data.shadowOpacity",e)}}):Object(re.jsx)(re.Fragment,{}),Object(re.jsxs)(Oe.a,{container:!0,spacing:1,children:[Object(re.jsx)(Oe.a,{item:!0,sm:6,children:y.includes("layer_data.shadowOffsetX")?Object(re.jsx)(zr,{name:"layer_data.shadowOffsetX",label:"Shadow OffsetX",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.shadowOffsetX),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.shadowOffsetX&&a.layer_data&&a.layer_data.shadowOffsetX),helperText:l.layer_data&&l.layer_data.shadowOffsetX&&a.layer_data&&a.layer_data.shadowOffsetX,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})}),Object(re.jsx)(Oe.a,{item:!0,sm:6,children:y.includes("layer_data.shadowOffsetY")?Object(re.jsx)(zr,{name:"layer_data.shadowOffsetY",label:"Shadow OffsetY",variant:"outlined",type:"number",value:Object(ue.p)(d.layer_data.shadowOffsetY),disabled:!t,error:Boolean(l.layer_data&&l.layer_data.shadowOffsetY&&a.layer_data&&a.layer_data.shadowOffsetY),helperText:l.layer_data&&l.layer_data.shadowOffsetY&&a.layer_data&&a.layer_data.shadowOffsetY,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})})]}),t&&n&&r(j)?Object(re.jsx)(B.a,{mt:2,width:"100%",children:Object(re.jsx)(G.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object(re.jsx)(re.Fragment,{})]})})]})},Hr=b.a.memo(Gr),Kr=Object(d.c)(Ce.a).withConfig({displayName:"CornerProperty__CustomeTextField",componentId:"sc-1szt41-0"})([".MuiInputBase-input{height:2rem;}"]),Vr=function(e){var t=e.editable,a=e.errors,n=e.isValid,r=e.checkLayerDataDirty,o=e.handleBlur,c=e.handleChange,i=(e.setFieldValue,e.touched),l=e.values,d=["cornerTopLeft","cornerTopRight","cornerBottomLeft","cornerBottomRight"],b=Object(u.useState)(!0),j=Object(s.a)(b,2),h=j[0],O=j[1],f=Object(u.useMemo)((function(){return l.layer_type?l.layer_type!==A.e.SHAPE?A.a[l.layer_type]:A.a[l.layer_type][l.layer_data.type]:[]}),[l]);return d.every((function(e){return!f.includes("layer_data."+e)}))?Object(re.jsx)(re.Fragment,{}):Object(re.jsxs)(Or.a,{expanded:h,onChange:function(){return O(!h)},children:[Object(re.jsx)(fr.a,{expandIcon:Object(re.jsx)(je.a,{}),children:Object(re.jsx)(X.a,{children:"Corner Radius"})}),Object(re.jsx)(pr.a,{children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",width:"100%",children:[Object(re.jsxs)(Oe.a,{container:!0,spacing:1,children:[Object(re.jsx)(Oe.a,{item:!0,xs:6,children:f.includes("layer_data.cornerTopLeft")?Object(re.jsx)(Kr,{name:"layer_data.cornerTopLeft",label:"Top Left",variant:"outlined",type:"number",value:Object(ue.p)(l.layer_data.cornerTopLeft),disabled:!t,error:Boolean(i.layer_data&&i.layer_data.cornerTopLeft&&a.layer_data&&a.layer_data.cornerTopLeft),helperText:i.layer_data&&i.layer_data.cornerTopLeft&&a.layer_data&&a.layer_data.cornerTopLeft,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})}),Object(re.jsx)(Oe.a,{item:!0,xs:6,children:f.includes("layer_data.cornerTopRight")?Object(re.jsx)(Kr,{name:"layer_data.cornerTopRight",label:"Top Right",variant:"outlined",type:"number",value:Object(ue.p)(l.layer_data.cornerTopRight),disabled:!t,error:Boolean(i.layer_data&&i.layer_data.cornerTopRight&&a.layer_data&&a.layer_data.cornerTopRight),helperText:i.layer_data&&i.layer_data.cornerTopRight&&a.layer_data&&a.layer_data.cornerTopRight,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})}),Object(re.jsx)(Oe.a,{item:!0,xs:6,children:f.includes("layer_data.cornerBottomLeft")?Object(re.jsx)(Kr,{name:"layer_data.cornerBottomLeft",label:"Bottom Left",variant:"outlined",type:"number",value:Object(ue.p)(l.layer_data.cornerBottomLeft),disabled:!t,error:Boolean(i.layer_data&&i.layer_data.cornerBottomLeft&&a.layer_data&&a.layer_data.cornerBottomLeft),helperText:i.layer_data&&i.layer_data.cornerBottomLeft&&a.layer_data&&a.layer_data.cornerBottomLeft,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})}),Object(re.jsx)(Oe.a,{item:!0,xs:6,children:f.includes("layer_data.cornerBottomRight")?Object(re.jsx)(Kr,{name:"layer_data.cornerBottomRight",label:"Bottom Right",variant:"outlined",type:"number",value:Object(ue.p)(l.layer_data.cornerBottomRight),disabled:!t,error:Boolean(i.layer_data&&i.layer_data.cornerBottomRight&&a.layer_data&&a.layer_data.cornerBottomRight),helperText:i.layer_data&&i.layer_data.cornerBottomRight&&a.layer_data&&a.layer_data.cornerBottomRight,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})})]}),t&&n&&r(d)?Object(re.jsx)(B.a,{mt:2,width:"100%",children:Object(re.jsx)(G.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object(re.jsx)(re.Fragment,{})]})})]})},qr=b.a.memo(Vr),Zr=function(e){var t=e.editable,a=(e.errors,e.handleBlur,e.handleChange,e.setFieldValue,e.touched,e.values),n=e.onClone,r=e.onDelete,o=Object(u.useMemo)((function(){return a.layer_type?a.layer_type!==A.e.SHAPE?A.a[a.layer_type]:A.a[a.layer_type][a.layer_data.type]:[]}),[a]);return o.includes("clone")||o.includes("delete")?Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",width:"100%",children:[t&&o.includes("clone")?Object(re.jsx)(G.a,{variant:"outlined",onClick:n,children:"Clone"}):Object(re.jsx)(re.Fragment,{}),t&&o.includes("delete")?Object(re.jsx)(B.a,{width:"100%",mt:2,children:Object(re.jsx)(G.a,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:r,children:"Delete"})}):Object(re.jsx)(re.Fragment,{})]}):Object(re.jsx)(re.Fragment,{})},Jr=b.a.memo(Zr),Qr=Object(d.c)(Ce.a).withConfig({displayName:"SkewProperty__CustomeTextField",componentId:"sc-1rg1njy-0"})([".MuiInputBase-input{height:2rem;}"]),$r=function(e){var t=e.editable,a=e.errors,n=e.isValid,r=e.checkLayerDataDirty,o=e.handleBlur,c=e.handleChange,i=(e.setFieldValue,e.touched),l=e.values,d=["skewX","skewY"],b=Object(u.useState)(!0),j=Object(s.a)(b,2),h=j[0],O=j[1],f=Object(u.useMemo)((function(){return l.layer_type?l.layer_type!==A.e.SHAPE?A.a[l.layer_type]:A.a[l.layer_type][l.layer_data.type]:[]}),[l]);return d.every((function(e){return!f.includes("layer_data."+e)}))?Object(re.jsx)(re.Fragment,{}):Object(re.jsxs)(Or.a,{expanded:h,onChange:function(){return O(!h)},children:[Object(re.jsx)(fr.a,{expandIcon:Object(re.jsx)(je.a,{}),children:Object(re.jsx)(X.a,{children:"Skew"})}),Object(re.jsx)(pr.a,{children:Object(re.jsxs)(B.a,{display:"flex",flexDirection:"column",width:"100%",children:[Object(re.jsxs)(Oe.a,{container:!0,spacing:1,children:[Object(re.jsx)(Oe.a,{item:!0,sm:6,children:f.includes("layer_data.skewX")?Object(re.jsx)(Qr,{name:"layer_data.skewX",label:"SkewX",variant:"outlined",type:"number",inputProps:{step:.1},value:Object(ue.p)(l.layer_data.skewX),disabled:!t,error:Boolean(i.layer_data&&i.layer_data.skewX&&a.layer_data&&a.layer_data.skewX),helperText:i.layer_data&&i.layer_data.skewX&&a.layer_data&&a.layer_data.skewX,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})}),Object(re.jsx)(Oe.a,{item:!0,sm:6,children:f.includes("layer_data.skewY")?Object(re.jsx)(Qr,{name:"layer_data.skewY",label:"SkewY",variant:"outlined",type:"number",inputProps:{step:.1},value:Object(ue.p)(l.layer_data.skewY),disabled:!t,error:Boolean(i.layer_data&&i.layer_data.skewY&&a.layer_data&&a.layer_data.skewY),helperText:i.layer_data&&i.layer_data.skewY&&a.layer_data&&a.layer_data.skewY,onBlur:o,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(re.jsx)(re.Fragment,{})})]}),t&&n&&r(d)?Object(re.jsx)(B.a,{mt:2,width:"100%",children:Object(re.jsx)(G.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object(re.jsx)(re.Fragment,{})]})})]})},eo=b.a.memo($r),to=Object(d.c)(B.a).withConfig({displayName:"propertyBar__Wrapper",componentId:"sc-1e4csol-0"})(["width:300px;background:#666666;overflow:auto;"]),ao=b.a.memo((function(e){var t=e.user,a=e.editable,n=e.stageRef,r=e.fontList,o=e.toggleField,c=e.toggleLayerDataField,s=e.currentLayer,d=e.pressedKey,b=e.onClone,j=e.onDelete,h=e.onLayerDataUpdate,O=Object(be.a)(e,["user","editable","stageRef","fontList","toggleField","toggleLayerDataField","currentLayer","pressedKey","onClone","onDelete","onLayerDataUpdate"]),f=Object(u.useCallback)((function(e){if(!s)return!1;var t,a=Object(N.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(O.values.layer_data[n]!=s.layer_data[n])return!0}}catch(r){a.e(r)}finally{a.f()}return!1}),[O.values,s]);return Object(re.jsxs)(de.a,{onSubmit:O.handleSubmit,noValidate:!0,children:[Object(re.jsx)(B.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"34px",children:Object(re.jsx)(X.a,{variant:"h5",noWrap:!0,children:"Properties"})}),Object(re.jsx)(mr,Object(i.a)(Object(i.a)({},O),{},{editable:a,user:t,toggleField:o,checkLayerDataDirty:f})),Object(re.jsx)(Er,Object(i.a)(Object(i.a)({},O),{},{editable:a,fontList:r,onLayerDataUpdate:h,checkLayerDataDirty:f})),Object(re.jsx)(Br,Object(i.a)(Object(i.a)({},O),{},{editable:a,onLayerDataUpdate:h,checkLayerDataDirty:f})),Object(re.jsx)(Nr,Object(i.a)(Object(i.a)({},O),{},{editable:a,onLayerDataUpdate:h,checkLayerDataDirty:f})),Object(re.jsx)(Mr,Object(i.a)(Object(i.a)({},O),{},Object(l.a)({editable:a,checkLayerDataDirty:f,onLayerDataUpdate:h},"onLayerDataUpdate",h))),Object(re.jsx)(kr,Object(i.a)(Object(i.a)({},O),{},{editable:a,toggleLayerDataField:c,currentLayer:s,pressedKey:d,checkLayerDataDirty:f})),Object(re.jsx)(Rr,Object(i.a)(Object(i.a)({},O),{},{editable:a,checkLayerDataDirty:f})),Object(re.jsx)(Xr,Object(i.a)(Object(i.a)({},O),{},{editable:a,stageRef:n,currentLayer:s,toggleField:o,checkLayerDataDirty:f,onLayerDataUpdate:h})),Object(re.jsx)(eo,Object(i.a)(Object(i.a)({},O),{},{editable:a,checkLayerDataDirty:f})),Object(re.jsx)(Hr,Object(i.a)(Object(i.a)({},O),{},{editable:a,checkLayerDataDirty:f,onLayerDataUpdate:h})),Object(re.jsx)(qr,Object(i.a)(Object(i.a)({editable:a},O),{},{checkLayerDataDirty:f})),Object(re.jsx)(Jr,Object(i.a)(Object(i.a)({},O),{},{editable:a,onClone:b,onDelete:j}))]})})),no=function(e){var t=e.editable,a=e.stageRef,n=e.onClone,r=e.onDelete,o=Object(p.d)(),c=Object(p.e)((function(e){return e.layerReducer.current})),s=Object(p.e)((function(e){return e.fontReducer.list})),d=Object(p.e)((function(e){return e.boardReducer.pressedKey})),b=Object(p.e)((function(e){return e.authReducer.user})),j=Object(u.useMemo)((function(){return c?c.layer_type!==A.e.SHAPE?A.a[c.layer_type]:A.a[c.layer_type][c.layer_data.type]:[]}),[c]),h=Object(u.useMemo)((function(){return f.a.pick({layer_visible:1,layer_locked:0,layer_data:f.a.pick(A.b.layer_data,j.filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")})))},j.filter((function(e){return!e.includes("layer_data.")})))}),[j]),O=Object(u.useMemo)((function(){return c?Object(i.a)(Object(i.a)(Object(i.a)({},h),c),{},{layer_data:Object(i.a)(Object(i.a)({},h.layer_data),c.layer_data)}):Object(i.a)({},h)}),[h,c]),y=Object(u.useCallback)((function(){c&&n(c)}),[n,c]),g=Object(u.useCallback)((function(){c&&r(c)}),[r,c]),m=Object(u.useCallback)((function(e){o(Object(Ut.u)(e))}),[o]),x=Object(u.useCallback)((function(e){o(Object(Ut.u)(Object(i.a)(Object(i.a)({},c),{},Object(l.a)({},e,c[e]?0:1))))}),[o,c]),_=Object(u.useCallback)((function(e,t){o(Object(Ut.u)(Object(i.a)(Object(i.a)({},c),{},{layer_data:Object(i.a)(Object(i.a)({},c.layer_data),{},Object(l.a)({},e,t))})))}),[o,c]),w=Object(u.useCallback)((function(e){o(Object(Ut.u)(Object(i.a)(Object(i.a)({},c),{},{layer_data:Object(i.a)(Object(i.a)({},c.layer_data),{},Object(l.a)({},e,c.layer_data[e]?0:1))})))}),[o,c]);return c?Object(re.jsx)(to,{py:5,px:3,children:Object(re.jsx)(de.b,{initialValues:O,validationSchema:se.b({layer_order:se.a(),layer_visible:se.a(),layer_locked:se.a(),layer_data:se.b(f.a.pick({name:se.c().required("Required"),text:se.c().test("text-validation","Required",(function(e){return e&&e.length||!j.includes("layer_data.text")})),width:se.a().test("width-validation","Required",(function(e){return e||!j.includes("layer_data.width")})),height:se.a().test("height-validation","Required",(function(e){return e||!j.includes("layer_data.height")})),left:se.a(),top:se.a(),rotation:se.a().moreThan(-181,"Must be greater than -181").lessThan(181,"Must be less than 181"),flop:se.a(),flip:se.a(),scaleX:se.a().moreThan(0,"Must be greater than 0"),scaleY:se.a().moreThan(0,"Must be greater than 0"),color:se.c().nullable().test("color-validation","Incorrect Color Format",ue.e),size:se.a(),scolor:se.c().nullable().test("color-validation","Incorrect Color Format",ue.e),stroke:se.a(),font:se.a(),opacity:se.a(),shadowColor:se.c().nullable().test("color-validation","Incorrect Color Format",ue.e),shadowBlur:se.a(),shadowOpacity:se.a(),shadowOffsetX:se.a(),shadowOffsetY:se.a(),skewX:se.a(),skewY:se.a(),cornerTopLeft:se.a(),cornerTopRight:se.a(),cornerBottomLeft:se.a(),cornerBottomRight:se.a(),radius:se.a().moreThan(0,"Must be greater than 0"),innerRadius:se.a().moreThan(0,"Must be greater than 0"),outerRadius:se.a().moreThan(0,"Must be greater than 0"),numPoints:se.a().moreThan(1,"Must be greater than 1"),angle:se.a(),pointerLength:se.a().moreThan(0,"Must be greater than 0"),pointerWidth:se.a().moreThan(0,"Must be greater than 0")},j.filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")}))))}),enableReinitialize:!0,validate:function(e){return console.log(e),{}},onSubmit:m,children:function(e){return Object(re.jsx)(ao,Object(i.a)(Object(i.a)({},e),{},{editable:t,user:b,stageRef:a,fontList:s,toggleField:x,toggleLayerDataField:w,currentLayer:c,pressedKey:d,onClone:y,onDelete:g,onLayerDataUpdate:_}))}})}):Object(re.jsx)(to,{py:5,px:3,children:Object(re.jsx)(B.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"34px",children:Object(re.jsx)(X.a,{variant:"h5",noWrap:!0,children:"Properties"})})})},ro=a(362),oo=a(363),co=a(364),io=a(30),lo=Object(d.c)(B.a).withConfig({displayName:"scheme__Wrapper",componentId:"sc-188wpva-0"})(["background-color:",";"],(function(e){return e.background}));t.default=function(){var e=Object(p.d)(),t=Object(x.f)(),a=Object(x.g)(),n=Object(u.useState)(""),d=Object(s.a)(n,2),b=d[0],O=d[1],y=Object(u.useState)(null),_=Object(s.a)(y,2),w=_[0],C=_[1],v=Object(u.useState)({}),k=Object(s.a)(v,2),L=k[0],S=k[1],R=Object(h.a)(),I=R.width,D=R.height,E=R.ref,T=Object(u.useRef)(0),M=Object(u.useRef)(0),N=Object(u.useRef)(null),W=Object(u.useRef)(null),X=Object(u.useRef)(null),z=Object(u.useRef)(null),G=Object(u.useRef)(null),H=Object(u.useRef)(null),K=Object(j.a)(Object(p.e)((function(e){return e.authReducer.user}))),V=Object(s.a)(K,2),q=V[0],Z=V[1],J=Object(j.a)(Object(p.e)((function(e){return e.schemeReducer.current}))),Q=Object(s.a)(J,2),$=Q[0],ee=Q[1],te=Object(j.a)(Object(p.e)((function(e){return e.carMakeReducer.current}))),ae=Object(s.a)(te,2),ne=(ae[0],ae[1]),oe=Object(p.e)((function(e){return e.schemeReducer.loaded})),ce=Object(p.e)((function(e){return e.layerReducer.current})),ie=Object(p.e)((function(e){return e.layerReducer.clipboard})),le=Object(p.e)((function(e){return e.layerReducer.loadedStatuses})),se=Object(p.e)((function(e){return e.overlayReducer.list})),de=Object(p.e)((function(e){return e.logoReducer.list})),be=Object(p.e)((function(e){return e.fontReducer.list})),je=Object(p.e)((function(e){return e.userReducer.list})),he=Object(p.e)((function(e){return e.schemeReducer.sharedUsers})),Oe=Object(p.e)((function(e){return e.schemeReducer.favoriteList})),fe=Object(p.e)((function(e){return e.boardReducer.zoom})),pe=Object(p.e)((function(e){return e.boardReducer.pressedKey})),ye=Object(p.e)((function(e){return e.boardReducer.boardRotate})),ge=Object(j.a)(Object(p.e)((function(e){return e.boardReducer.showProperties}))),me=Object(s.a)(ge,2),xe=me[0],_e=me[1],we=Object(j.a)(Object(p.e)((function(e){return e.boardReducer.frameSize}))),Ce=Object(s.a)(we,2),ve=Ce[0],ke=Ce[1],Le=Object(p.e)((function(e){return e.boardReducer.mouseMode})),Se=Object(p.e)((function(e){return e.boardReducer.paintingGuides})),Re=Object(p.e)((function(e){return e.schemeReducer.loading})),Ie=Object(p.e)((function(e){return e.carMakeReducer.loading})),De=Object(p.e)((function(e){return e.fontReducer.loading})),Ee=Object(p.e)((function(e){return e.uploadReducer.initialized})),Te=Object(u.useMemo)((function(){return!(!q||!$)&&(q.id===$.user_id||he.find((function(e){return e.user_id===q.id&&e.editable})))}),[q,$,he]),Me=Object(u.useCallback)((function(e,t){S(!0===t?Object(l.a)({},e,t):function(a){return Object(i.a)(Object(i.a)({},a),{},Object(l.a)({},e,t))})}),[S]),Fe=Object(u.useCallback)((function(t){if(ce&&ce.layer_data){var a=N.current,n=a.scaleX(),r=a.findOne("."+ce.id).getAbsolutePosition(),o=r.x,c=r.y,i={x:(o-a.x())/n,y:(c-a.y())/n};e(Object(U.l)(t));var l={x:o-i.x*t,y:c-i.y*t};a.position(l),a.batchDraw()}else e(Object(U.l)(t))}),[e,ce,N.current]),Be=Object(u.useCallback)((function(){var e=Object(ue.q)(Math.max(Math.min(1.25*fe,10),.25));Fe(e)}),[fe,Fe]),Pe=Object(u.useCallback)((function(){var e=Object(ue.q)(Math.max(Math.min(fe/1.25,10),.25));Fe(e)}),[fe,Fe]),Ne=Object(u.useCallback)((function(){var t=N.current.attrs.width,a=N.current.attrs.height,n=Object(ue.q)(Math.min(t/ve.width,a/ve.height));N.current.x(t/2),N.current.y(a/2),e(Object(U.l)(n))}),[e,N.current&&N.current.attrs&&N.current.attrs.width,N.current&&N.current.attrs&&N.current.attrs.height,ve]),Ue=Object(u.useCallback)((function(t){e(Object(U.i)(t))}),[]),Ye=Object(u.useCallback)((function(t){e(Object(U.f)(t))}),[]),We=Object(u.useCallback)((function(e){var t=Object(c.a)(Se),a=t.indexOf(e);a>-1?t.splice(a,1):t.push(e),Ue(t)}),[Se,Ue]),Xe=Object(u.useCallback)((function(){setTimeout((function(){return document.activeElement.blur()}),1e3)}),[]),ze=Object(u.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e(Object(Ut.c)(t,a,n,Object(ue.l)(N,ve,fe))),Xe()}),[e,ue.l,Xe,N,ve,fe]),Ge=Object(u.useCallback)((function(e){O('Are you sure to delete "'.concat(e.layer_data.name,'"?'))}),[O]),He=Object(u.useCallback)((function(t,a){if("INPUT"!==a.target.tagName&&"keydown"===a.type&&(pe!==t&&e(Object(U.j)(t)),("del"===t||"backspace"===t)&&ce&&ce.layer_type!==A.e.CAR&&Te?Ge(ce):"esc"===t&&ce?e(Object(Ut.p)(null)):"+"===a.key&&a.shiftKey?Be():"_"===a.key&&a.shiftKey?Pe():")"===a.key&&a.shiftKey?e(Object(U.l)(1)):"("===a.key&&a.shiftKey?Ne():"D"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.DEFAULT)):"B"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.PEN)):"R"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.RECT)):"C"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.CIRCLE)):"E"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.ELLIPSE)):"S"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.STAR)):"G"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.RING)):"O"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.REGULARPOLYGON)):"W"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.WEDGE)):"A"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.ARC)):"P"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.POLYGON)):"L"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.LINE)):">"===a.key&&a.shiftKey&&Te?e(Object(U.h)(A.f.ARROW)):"c"===a.key&&(a.ctrlKey||a.metaKey)&&ce&&Te?e(Object(Ut.o)(ce)):"v"===a.key&&(a.ctrlKey||a.metaKey)&&ie&&Te?ze(ie):"z"===a.key&&(a.ctrlKey||a.metaKey)&&Te?e(Object(U.c)()):"y"===a.key&&(a.ctrlKey||a.metaKey)&&Te?e(Object(U.d)()):"1"===t?We(A.g.CARMASK):"2"===t?We(A.g.WIREFRAME):"3"===t?We(A.g.SPONSORBLOCKS):"4"===t?We(A.g.NUMBERBLOCKS):"5"===t?We(A.g.GRID):"t"===t&&Te?C(A.c.TEXT):"s"===t&&Te?C(A.c.SHAPE):"l"===t&&Te?C(A.c.LOGO):"b"===t&&Te?C(A.c.BASEPAINT):"enter"===t&&Te&&([A.f.LINE,A.f.ARROW,A.f.POLYGON].includes(Le)?e(Object(Ut.q)(Ut.a.ADD_TO_SHAPE)):ce&&e(Object(Ut.p)(null)))),"INPUT"!==a.target.tagName&&Te&&("keyup"===a.type&&e(Object(U.j)(null)),["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(a.key)&&ce&&![A.e.CAR,A.e.BASE].includes(ce.layer_type))){var n=a.shiftKey?10:1,r="ArrowLeft"===a.key?-n:"ArrowRight"===a.key?n:0,o="ArrowUp"===a.key?-n:"ArrowDown"===a.key?n:0,c=r,l=o;if(90===ye?(c=o,l=-r):180===ye?(c=-r,l=-o):270===ye&&(c=-o,l=r),"keyup"===a.type){var s=Object(i.a)({},ce.layer_data);M.current!=T.current&&(s.left=ce.layer_data.left+c,s.top=ce.layer_data.top+l),e(Object(Ut.u)(Object(i.a)(Object(i.a)({},ce),{},{layer_data:s})))}else M.current!=T.current&&(M.current=Object.assign(T.current),e(Object(Ut.v)(Object(i.a)(Object(i.a)({},ce),{},{layer_data:Object(i.a)(Object(i.a)({},ce.layer_data),{},{left:ce.layer_data.left+c,top:ce.layer_data.top+l})}))))}}),[e,pe,ce,ie,M.current,T.current,Te,ze,Ge]),Ke=Object(u.useCallback)((function(){e(Object(Ut.l)(ce)),O("")}),[e,ce,O]),Ve=Object(u.useCallback)(Object(o.a)(r.a.mark((function t(){var a,n,o,c,l,s,d,u,b,j,h,O,p,y,g,m=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!(m.length>0&&void 0!==m[0])||m[0],n=document.createElement("canvas"),o=n.getContext("2d"),c="Misc"===ne.current.car_type?1024:2048,l=c/ke.current.width,s=ke.current.width*l,d=ke.current.height*l,h=Object(i.a)({},N.current.attrs),E.current.style.width="".concat(ke.current.width,"px"),E.current.style.height="".concat(ke.current.height,"px"),O=_e.current,e(Object(U.k)(!1)),N.current.setAttrs({x:0,y:0,offsetX:ke.current.width/2,offsetY:ke.current.width/2,scaleX:1,scaleY:1,rotation:0,width:ke.current.width,height:ke.current.height}),N.current.draw(),!W.current){t.next=19;break}return p=W.current.toDataURL({pixelRatio:l,x:-ke.current.width/2,y:-ke.current.width/2,width:ke.current.width,height:ke.current.height}),t.next=18,Object(ue.a)(p);case 18:u=t.sent;case 19:if(!X.current){t.next=24;break}return y=X.current.toDataURL({pixelRatio:l,x:0,y:0,width:ke.current.width,height:ke.current.height}),t.next=23,Object(ue.a)(y);case 23:b=t.sent;case 24:if(!z.current){t.next=29;break}return g=z.current.toDataURL({pixelRatio:l,x:0,y:0,width:ke.current.width,height:ke.current.height}),t.next=28,Object(ue.a)(g);case 28:j=t.sent;case 29:return N.current.setAttrs(f.a.omit(h,["container"])),N.current.draw(),E.current.style.width="100%",E.current.style.height="100%",e(Object(U.k)(O)),n.width=s,n.height=d,u&&o.drawImage(u,0,0,s,d),b&&o.drawImage(b,0,0,s,d),j&&a&&o.drawImage(j,0,0,s,d),t.abrupt("return",{canvas:n,ctx:o,carMaskLayerImg:j});case 40:case"end":return t.stop()}}),t)}))),[e,_e.current,ke.current,ne.current,N.current,W.current,X.current,z.current]),qe=Object(u.useCallback)(function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=Object(ue.f)(a),o=new File([n],"".concat(ee.current.id,".png"),{type:"image/png"}),(c=new FormData).append("files",o),c.append("schemeID",ee.current.id),e(Object(Y.u)({thumbnail_updated:1})),t.next=9,Cn.a.uploadThumbnail(c);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e(Object(at.b)({message:t.t0.message}));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),[e,ee.current]),Ze=Object(u.useCallback)(Object(o.a)(r.a.mark((function t(){var a,n,o,c,i=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!(i.length>0&&void 0!==i[0])||i[0],!N.current||!ee.current||ee.current.thumbnail_updated){t.next=20;break}return t.prev=2,console.log("Uploading Thumbnail"),e(Object(Y.w)(!0)),t.next=7,Ve();case 7:return n=t.sent,o=n.canvas,c=o.toDataURL("image/png"),a&&e(Object(Y.w)(!1)),t.next=13,qe(c);case 13:a||e(Object(Y.w)(!1)),console.log("Uploaded Thumbnail"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),e(Object(at.b)({message:t.t0.message}));case 20:case"end":return t.stop()}}),t,null,[[2,17]])}))),[e,ee.current,!N.current,Ve,qe]),Je=Object(u.useCallback)(Object(o.a)(r.a.mark((function t(){var a,n,o,c,i,l,s,d,u,b,j;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!N.current||!ee.current){t.next=33;break}return t.prev=1,e(Object(Y.w)(!0)),a="Misc"===ne.current.car_type?1024:2048,n="Misc"===ne.current.car_type?1024:2048,t.next=7,Ve(!1);case 7:if(o=t.sent,c=o.canvas,i=o.ctx,l=o.carMaskLayerImg,s=i.getImageData(0,0,a,n),e(Object(Y.w)(!1)),(d=new F({width:a,height:n,imageType:F.Type.RGB})).setImageData(s),u=d.getBlobURL(),(b=document.createElement("a")).style="display: none",b.href=u,b.download="car_".concat(Z.current.id,".tga"),b.click(),window.URL.revokeObjectURL(u),i.drawImage(l,0,0,a,n),j=c.toDataURL("image/png"),ee.current.thumbnail_updated){t.next=27;break}return t.next=27,qe(j);case 27:t.next=33;break;case 29:t.prev=29,t.t0=t.catch(1),console.log(t.t0),e(Object(at.b)({message:t.t0.message}));case 33:case"end":return t.stop()}}),t,null,[[1,29]])}))),[e,ee.current,Z.current,ne.current,ke.current,!N.current,Ve,qe]),Qe=Object(u.useCallback)(Object(o.a)(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ze(!1);case 2:e(Object(U.a)()),e(Object(Y.e)()),e(Object(Y.a)()),e(Object(Ut.b)()),e(Object(Ut.t)({})),e(Object(Y.v)(!1)),t.push("/");case 9:case"end":return a.stop()}}),a)}))),[t,e,Ze]);return Object(u.useEffect)((function(){q&&q.id&&a.id&&($||e(Object(Y.q)(a.id,(function(n,r){q.id===n.user_id||r.find((function(e){return e.user_id===q.id}))?(Ee||e(Object(wn.c)(q.id)),se.length||e(Object(ro.b)()),de.length||e(Object(oo.b)()),be.length||e(Object(Nt.b)()),je.length||e(Object(co.b)()),he.length||e(Object(Y.t)(a.id)),Oe.length||e(Object(Y.p)(q.id))):(e(Object(at.b)({message:"You don't have permission for this project!"})),t.push("/"))}),(function(){t.push("/")}))))}),[q]),Object(u.useEffect)((function(){if(Te){var e=setInterval((function(){T.current+=1}),200),t=setInterval(Ze,3e5);return function(){clearInterval(e),clearInterval(t)}}}),[Te]),Object(u.useEffect)((function(){return io.a.connect(),io.a.on("connect",(function(){io.a.emit("room",a.id)})),io.a.on("client-create-layer",(function(t){e(Object(Ut.n)(t.data))})),io.a.on("client-update-layer",(function(t){e(Object(Ut.w)(t.data))})),io.a.on("client-delete-layer",(function(t){e(Object(Ut.m)(t.data))})),io.a.on("client-update-scheme",(function(t){e(Object(Y.x)(t.data)),e(Object(Y.u)(t.data))})),io.a.on("client-delete-scheme",(function(){e(Object(at.b)({message:"The Project has been deleted!"})),t.push("/")})),function(){io.a.disconnect()}}),[]),Object(u.useEffect)((function(){!oe&&Object.keys(le).length&&Object.keys(le).every((function(e){return le[e]}))&&N.current&&(e(Object(Y.v)(!0)),Ne(),setTimeout(Ze,5e3))}),[le,oe]),Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(m.b,{title:$?$.name:null}),Re||Ie||De||!$?Object(re.jsx)(P.a,{}):Object(re.jsxs)(B.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:[Object(re.jsx)(g.a,{handleKeys:["all"],onKeyEvent:He}),Object(re.jsx)(g.a,{handleKeys:["all"],handleEventType:"keyup",onKeyEvent:He}),Object(re.jsxs)(B.a,{width:"100%",height:"calc(100% - 50px)",display:"flex",justifyContent:"space-between",children:[Object(re.jsx)(hr,{dialog:w,setDialog:C,focusBoard:Xe,editable:Te,hoveredLayerJSON:L,stageRef:N,onBack:Qe,onChangeHoverJSONItem:Me}),Object(re.jsx)(lo,{background:"#282828",overflow:"hidden",flexGrow:"1",children:Object(re.jsx)(Xt,{wrapperWidth:I,wrapperHeight:D,wrapperRef:E,hoveredLayerJSON:L,editable:Te,onChangeHoverJSONItem:Me,onChangeBoardRotation:Ye,stageRef:N,baseLayerRef:W,mainLayerRef:X,carMaskLayerRef:z,activeTransformerRef:G,hoveredTransformerRef:H})}),xe?Object(re.jsx)(no,{stageRef:N,editable:Te,onClone:ze,onDelete:Ge}):Object(re.jsx)(re.Fragment,{})]}),Object(re.jsx)(lt,{editable:Te,onZoomIn:Be,onZoomOut:Pe,onZoomFit:Ne,onChangePaintingGuides:Ue,onDownloadTGA:Je})]}),Object(re.jsx)(Ae.a,{text:b,open:0!==b.length,onCancel:function(){return O("")},onConfirm:Ke})]})}},624:function(e,t,a){"use strict";var n=a(1236),r=a(7),o=Object(r.a)((function(e){return{tooltip:{backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:"rgba(0, 0, 0, 0.2)",fontSize:11},arrow:{color:"white"}}}))(n.a);t.a=o},630:function(e,t,a){"use strict";var n=a(8),r=a(217),o=a(606),c=a(27),i=a(0),l=a(116),s=a(1259),d=a(11),u=c.c.img.withConfig({displayName:"ImageWithLoad__CustomImg",componentId:"sc-1y5zet8-0"})(["width:100%;height:100%;position:relative;object-fit:contain;cursor:pointer;"]),b=Object(c.c)(s.a).withConfig({displayName:"ImageWithLoad__CustomSkeleton",componentId:"sc-1y5zet8-1"})(["position:absolute;z-index:1;top:0;left:0;width:100%;height:100%;"]);t.a=function(e){var t=e.src,a=e.onClick,c=e.ImageComponent,s=e.minHeight,j=void 0===s?"100%":s,h=e.minWidth,O=void 0===h?"100%":h,f=Object(o.a)(e,["src","onClick","ImageComponent","minHeight","minWidth"]),p=Object(i.useState)(!1),y=Object(r.a)(p,2),g=y[0],m=y[1];return Object(d.jsxs)(l.f,{position:"relative",minHeight:j,minWidth:O,display:"flex",justifyContent:"center",alignItems:"center",children:[c?Object(d.jsx)(c,Object(n.a)(Object(n.a)({src:t},f),{},{onClick:a,onLoad:function(){return m(!0)}})):Object(d.jsx)(u,Object(n.a)(Object(n.a)({src:t},f),{},{onClick:a,onLoad:function(){return m(!0)}})),g?Object(d.jsx)(d.Fragment,{}):Object(d.jsx)(b,{variant:"rect",onClick:a})]})}},646:function(e,t,a){"use strict";var n=a(27),r=a(0),o=a.n(r),c=a(70),i=a(419),l=a(568),s=a(572),d=a(571),u=a(82),b=a(570),j=a(11),h=Object(n.c)(i.a).withConfig({displayName:"ConfirmDialog__Button",componentId:"sc-1cd3vhn-0"})(c.b),O=o.a.memo((function(e){var t=e.text,a=e.open,n=e.onCancel,r=e.onConfirm;return Object(j.jsxs)(l.a,{"aria-labelledby":"confirm-title",open:a,children:[Object(j.jsx)(s.a,{id:"confirm-title",children:"Confirm"}),Object(j.jsx)(d.a,{dividers:!0,children:Object(j.jsx)(u.a,{variant:"body1",children:t})}),Object(j.jsxs)(b.a,{children:[Object(j.jsx)(h,{onClick:n,color:"primary",children:"Cancel"}),Object(j.jsx)(h,{onClick:r,color:"secondary",variant:"outlined",autoFocus:!0,children:"Confirm"})]})]})}));t.a=O},673:function(e,t,a){"use strict";var n=a(29),r=a(0),o=a(1237),c=a(416),i=a(794),l=a.n(i),s=a(11),d=Object(o.a)((function(e){return{search:Object(n.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},border:"1px solid #8A8A8A",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%",height:"26px"}}}));t.a=function(e){var t=e.value,a=e.onChange,n=d(),o=Object(r.useCallback)((function(e){a(e.target.value)}),[a]);return Object(s.jsxs)("div",{className:n.search,children:[Object(s.jsx)("div",{className:n.searchIcon,children:Object(s.jsx)(l.a,{})}),Object(s.jsx)(c.a,{placeholder:"Search",classes:{root:n.inputRoot,input:n.inputInput},value:t,inputProps:{"aria-label":"search"},onChange:o})]})}}}]);
//# sourceMappingURL=7.eefee170.chunk.js.map