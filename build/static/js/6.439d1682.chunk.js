(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[6],{1269:function(e,t,n){"use strict";n.r(t);var c=n(8),a=n(20),i=n(193),o=n(24),r=n(0),l=n.n(r),s=n(57),u=n.n(s),d=n(39),j=n(19),b=n(375),p=n(494),h=n(377),f=n(399),O=n(525),m=n(383),x=n(389),g=n(217),C=n(639),y=n(1258),v=n(3),w=n.n(v);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},i=Object.keys(e);for(c=0;c<i.length;c++)n=i[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(c=0;c<i.length;c++)n=i[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var _=Object(r.forwardRef)((function(e,t){var n=e.color,c=void 0===n?"currentColor":n,a=e.size,i=void 0===a?24:a,o=I(e,["color","size"]);return l.a.createElement("svg",k({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:c,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),l.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),l.a.createElement("polyline",{points:"16 17 21 12 16 7"}),l.a.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"}))}));_.propTypes={color:w.a.string,size:w.a.oneOfType([w.a.string,w.a.number])},_.displayName="LogOut";var M=_,D=n(659),S=n(107),N=n(60),L=n(183),P=n(514),z=n(510),B=n(513),E=n(507),R=n(498),A=n(10),F=n(46),V=n(11),T=Object(o.c)(L.a).withConfig({displayName:"CreateProjectDialog__Button",componentId:"e1fbbf-0"})(N.b),q=Object(o.c)(R.a).withConfig({displayName:"CreateProjectDialog__Autocomplete",componentId:"e1fbbf-1"})(N.b),W=Object(o.c)(P.a).withConfig({displayName:"CreateProjectDialog__CustomDialogActions",componentId:"e1fbbf-2"})(["padding-right:24px;"]),J=Object(o.c)(m.a).withConfig({displayName:"CreateProjectDialog__NameField",componentId:"e1fbbf-3"})([".MuiInputBase-root{height:56px;}"]),K=function(e){var t=e.onContinue,n=e.onCancel,a=e.open,o=e.carMakeList,l=e.predefinedCarMakeID,s=Object(r.useState)(null),u=Object(i.a)(s,2),d=u[0],j=u[1],b=Object(r.useState)(""),h=Object(i.a)(b,2),f=h[0],O=h[1],x=Object(r.useState)(""),g=Object(i.a)(x,2),C=g[0],y=g[1],v=Object(r.useCallback)((function(){var e=f&&f.length?f:C;t(d,e)}),[d,f,C,t]),w=Object(r.useCallback)((function(e){13===e.keyCode&&d&&(e.preventDefault(),v())}),[d,v]);return Object(r.useEffect)((function(){if(l){var e=o.find((function(e){return e.id.toString()===l}));j(e)}}),[l]),Object(r.useEffect)((function(){if(a){var e=Object(F.k)(A.j.length);y(A.j[e[0]]+" "+A.j[e[1]]+" Paint")}}),[a]),Object(V.jsxs)(z.a,{"aria-labelledby":"project-select-title",open:a,children:[Object(V.jsx)(B.a,{id:"project-select-title",children:"Create a new paint"}),Object(V.jsx)(E.a,{dividers:!0,children:Object(V.jsxs)(p.a,{display:"flex",flexDirection:"column",children:[o&&o.length?Object(V.jsx)(q,{id:"car-make-select",value:d,options:o,groupBy:function(e){return e.car_type},getOptionLabel:function(e){return e.name},style:{width:500},mb:4,onChange:function(e,t){j(t)},onKeyDown:w,renderInput:function(e){return Object(V.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{label:"Select Vehicle",variant:"outlined"}))}}):Object(V.jsx)(V.Fragment,{}),Object(V.jsx)(J,{label:"Name",value:f&&f.length?f:C,variant:"outlined",onChange:function(e){return O(e.target.value)},onKeyDown:w})]})}),Object(V.jsxs)(W,{children:[Object(V.jsx)(T,{onClick:n,color:"secondary",variant:"outlined",children:"Cancel"}),Object(V.jsx)(T,{onClick:v,color:"primary",variant:"outlined",disabled:!d,children:"Continue"})]})]})},U=l.a.memo(K),H=n(682),G=n(59),Q=n(176),X=n(70),Y=n(380),Z=n(85),$=Object(Z.a)(r.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),ee=n(683),te=o.c.img.withConfig({displayName:"ProjectItem__CustomImg",componentId:"sc-1dqc2a0-0"})(["width:100%;height:100%;position:relative;object-fit:contain;cursor:pointer;"]),ne=Object(o.c)(p.a).withConfig({displayName:"ProjectItem__ItemWrapper",componentId:"sc-1dqc2a0-1"})(["border:1px solid grey;"]),ce=Object(o.c)(Q.a).withConfig({displayName:"ProjectItem__StyledMenu",componentId:"sc-1dqc2a0-2"})([".MuiMenu-paper{border:1px solid grey;}"]),ae=function(e){var t,n=e.scheme,c=e.onDelete,a=e.onCloneProject,o=Object(r.useState)(null),l=Object(i.a)(o,2),s=l[0],u=l[1],d=Object(r.useState)(!1),b=Object(i.a)(d,2),h=b[0],f=b[1],m=Object(j.f)(),x=function(){u(null)};return Object(V.jsxs)(ne,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(te,{src:(t=n.id,"".concat(G.a.assetsURL,"/scheme_thumbnails/").concat(t,".png")),alt:n.name,onClick:function(){return e=n.id,void m.push("/scheme/".concat(e));var e}}),Object(V.jsxs)(p.a,{display:"flex",justifyContent:"space-between",children:[Object(V.jsxs)(p.a,{display:"flex",flexDirection:"column",p:4,children:[Object(V.jsx)(X.a,{variant:"body1",children:n.name}),Object(V.jsxs)(X.a,{variant:"body2",children:["Edited ",Object(F.g)(n.date_modified)]}),Object(V.jsx)(X.a,{variant:"body2",children:n.carMake.name})]}),Object(V.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(V.jsx)(Y.a,{"aria-haspopup":"true","aria-controls":"action-menu-".concat(n.id),onClick:function(e){u(e.currentTarget)},children:Object(V.jsx)($,{})}),Object(V.jsxs)(ce,{id:"action-menu-".concat(n.id),elevation:0,getContentAnchorEl:null,anchorEl:s,keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},open:Boolean(s),onClose:x,children:[Object(V.jsx)(O.a,{onClick:function(){a(n.id),x()},children:"Clone"}),Object(V.jsx)(O.a,{onClick:function(){return f(!0)},children:"Delete"})]})]})]}),Object(V.jsx)(ee.a,{text:'Are you sure to delete "'.concat(n.name,'"?'),open:h,onCancel:function(){return f(!1)},onConfirm:function(){c(n.id),x()}})]})},ie=n(86),oe=n(122),re=n(115),le=Object(o.c)(b.a).withConfig({displayName:"project__CustomFormControl",componentId:"tmuuxz-0"})([".MuiInputBase-root{height:38px;margin-right:10px;}"]),se=Object(o.c)(g.b).withConfig({displayName:"project__CustomAutocomplete",componentId:"tmuuxz-1"})([".MuiInputLabel-outlined{transform:translate(14px,12px) scale(1);&.MuiInputLabel-shrink{transform:translate(14px,-6px) scale(0.75);}}.MuiInputBase-root{padding-top:0;padding-bottom:0;}"]),ue=Object(o.c)(D.a).withConfig({displayName:"project__CustomInfiniteScroll",componentId:"tmuuxz-2"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),de=Object(o.c)(p.a).withConfig({displayName:"project__Wrapper",componentId:"tmuuxz-3"})(["background-color:#444;border-radius:10px;"]);t.default=function(){var e=Object(d.d)(),t=Object(j.f)(),n=Object(d.e)((function(e){return e.authReducer.user})),o=Object(d.e)((function(e){return e.carMakeReducer.list})),l=Object(d.e)((function(e){return e.schemeReducer.list})),s=Object(d.e)((function(e){return e.schemeReducer.loading})),b=Object(d.e)((function(e){return e.carMakeReducer.loading})),v=Object(r.useState)(),w=Object(i.a)(v,2),k=w[0],I=w[1],_=Object(r.useState)(15),D=Object(i.a)(_,2),N=D[0],L=D[1],P=Object(r.useState)(""),z=Object(i.a)(P,2),B=z[0],E=z[1],R=Object(r.useState)(null),A=Object(i.a)(R,2),F=A[0],T=A[1],q=Object(r.useState)(3),W=Object(i.a)(q,2),J=W[0],K=W[1],G=Object(r.useState)(),Q=Object(i.a)(G,2),X=Q[0],Y=Q[1],Z=Object(r.useMemo)((function(){return u.a.orderBy(Object(a.a)(o),["car_type","name"],["asc","asc"])}),[o]),$=Object(r.useMemo)((function(){return u.a.orderBy(l.filter((function(e){return(e.name.toLowerCase().includes(B.toLowerCase())||e.carMake.name.toLowerCase().includes(B.toLowerCase()))&&(!F||F.id===e.carMake.id)})),1===J?["name"]:2===J?["carMake.name"]:["date_modified"],1===J||2===J?["asc"]:["desc"])}),[l,B,F,J]);Object(r.useEffect)((function(){if(n){l.length||e(Object(ie.i)(n.id)),o.length||e(Object(oe.b)());var t=new URL(window.location.href).searchParams.get("make");t&&(Y(t),I("CreateProjectDialog"))}}),[n]);var ee=function(e){t.push("/scheme/".concat(e))},te=function(t){e(Object(ie.g)(t))},ne=function(t){e(Object(ie.d)(t))};return Object(V.jsx)(p.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(de,{display:"flex",flexDirection:"column",justifyContent:"flex-start",m:2,p:5,height:"calc(100% - 16px)",children:[Object(V.jsxs)(p.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",mb:3,children:[Object(V.jsx)(H.a,{value:B,onChange:function(e){return E(e)}}),Object(V.jsxs)(p.a,{display:"flex",children:[Object(V.jsx)(g.d,{onClick:function(){I("CreateProjectDialog")},color:"default",variant:"outlined",startIcon:Object(V.jsx)(y.a,{}),mr:2,children:"New"}),Object(V.jsx)(C.a,{title:"Log Out",arrow:!0,children:Object(V.jsx)(g.g,{onClick:function(){e(Object(re.d)())},size:"small",children:Object(V.jsx)(M,{})})})]})]}),Object(V.jsxs)(p.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",mb:3,children:[Object(V.jsxs)(le,{variant:"outlined",children:[Object(V.jsx)(h.a,{id:"sort-label",children:"Sort By"}),Object(V.jsxs)(f.a,{labelId:"sort-label",value:J,onChange:function(e){return K(e.target.value)},label:"Sort By",children:[Object(V.jsx)(O.a,{value:1,children:"Project Name"}),Object(V.jsx)(O.a,{value:2,children:"Vehicle Name"}),Object(V.jsx)(O.a,{value:3,children:"Last Modified"})]})]}),o&&o.length?Object(V.jsx)(se,{id:"car-make-filter",options:Z,groupBy:function(e){return e.car_type},getOptionLabel:function(e){return e.name},style:{width:500},onChange:function(e,t){T(t)},renderInput:function(e){return Object(V.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{label:"Filter By Vehicle",variant:"outlined"}))}}):Object(V.jsx)(V.Fragment,{})]}),Object(V.jsx)(p.a,{id:"scheme-list-content",overflow:"auto",position:"relative",height:"100%",children:s||b||!l||!o?Object(V.jsx)(S.a,{}):Object(V.jsx)(ue,{dataLength:N,next:function(){L(N+15)},hasMore:N<$.length,loader:Object(V.jsx)(S.a,{}),scrollableTarget:"scheme-list-content",children:Object(V.jsx)(x.a,{container:!0,spacing:4,children:$.slice(0,N).map((function(e){return Object(V.jsx)(x.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,children:Object(V.jsx)(ae,{scheme:e,onDelete:te,onCloneProject:ne})},e.id)}))})})})]}),Object(V.jsx)(U,{carMakeList:Z,predefinedCarMakeID:X,open:"CreateProjectDialog"===k,onContinue:function(t,c){return function(t,c){I(null),e(Object(ie.e)(t,c,n.id,0,ee))}(t,c)},onCancel:function(){return I(null)}})]})})}},639:function(e,t,n){"use strict";var c=n(503),a=n(9),i=Object(a.a)((function(e){return{tooltip:{backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:"rgba(0, 0, 0, 0.2)",fontSize:11},arrow:{color:"white"}}}))(c.a);t.a=i},682:function(e,t,n){"use strict";var c=n(26),a=n(0),i=n(1251),o=n(184),r=n(804),l=n.n(r),s=n(11),u=Object(i.a)((function(e){return{search:Object(c.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},border:"1px solid #8A8A8A",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%",height:"26px"}}}));t.a=function(e){var t=e.value,n=e.onChange,c=u(),i=Object(a.useCallback)((function(e){n(e.target.value)}),[n]);return Object(s.jsxs)("div",{className:c.search,children:[Object(s.jsx)("div",{className:c.searchIcon,children:Object(s.jsx)(l.a,{})}),Object(s.jsx)(o.a,{placeholder:"Search",classes:{root:c.inputRoot,input:c.inputInput},value:t,inputProps:{"aria-label":"search"},onChange:i})]})}},683:function(e,t,n){"use strict";var c=n(24),a=n(0),i=n.n(a),o=n(60),r=n(183),l=n(510),s=n(513),u=n(507),d=n(70),j=n(514),b=n(11),p=Object(c.c)(r.a).withConfig({displayName:"ConfirmDialog__Button",componentId:"sc-1cd3vhn-0"})(o.b),h=i.a.memo((function(e){var t=e.text,n=e.open,c=e.onCancel,a=e.onConfirm;return Object(b.jsxs)(l.a,{"aria-labelledby":"confirm-title",open:n,children:[Object(b.jsx)(s.a,{id:"confirm-title",children:"Confirm"}),Object(b.jsx)(u.a,{dividers:!0,children:Object(b.jsx)(d.a,{variant:"body1",children:t})}),Object(b.jsxs)(j.a,{children:[Object(b.jsx)(p,{onClick:c,color:"primary",children:"Cancel"}),Object(b.jsx)(p,{onClick:a,color:"secondary",variant:"outlined",autoFocus:!0,children:"Confirm"})]})]})}));t.a=h}}]);
//# sourceMappingURL=6.439d1682.chunk.js.map