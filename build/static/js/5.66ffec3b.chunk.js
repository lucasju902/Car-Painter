(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[5],{1112:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(13),i=n(361),o=n(33),r=n(0),l=n.n(r),s=n(48),u=n.n(s),d=n(37),j=n(16),b=n(326),p=n(322),h=n(1066),m=n(324),f=n(1117),O=n(1108),x=n(1119),g=n(1070),C=n(1065),y=n(1090),v=n(421),w=n(1109),I=n(138),_=n(80),k=n(1078),M=n(1111),N=n(1076),D=n(1077),S=n(7),L=Object(o.c)(p.a).withConfig({displayName:"CreateProjectDialog__Button",componentId:"e1fbbf-0"})(b.b),B=Object(o.c)(w.a).withConfig({displayName:"CreateProjectDialog__Autocomplete",componentId:"e1fbbf-1"})(b.b),P=Object(o.c)(k.a).withConfig({displayName:"CreateProjectDialog__CustomDialogActions",componentId:"e1fbbf-2"})(["padding-right:24px;"]),R=Object(o.c)(g.a).withConfig({displayName:"CreateProjectDialog__NameField",componentId:"e1fbbf-3"})([".MuiInputBase-root{height:56px;}"]),z=function(e){var t=e.onContinue,n=e.onCancel,o=e.open,l=e.carMakeList,s=e.predefinedCarMakeID,d=Object(r.useState)(null),j=Object(i.a)(d,2),b=j[0],p=j[1],h=Object(r.useState)(""),f=Object(i.a)(h,2),O=f[0],x=f[1];Object(r.useEffect)((function(){if(s){var e=l.find((function(e){return e.id.toString()===s}));p(e)}}),[s]);var C=u.a.orderBy(Object(c.a)(l),["name","car_type"],["asc","asc"]);return Object(S.jsxs)(M.a,{"aria-labelledby":"project-select-title",open:o,children:[Object(S.jsx)(N.a,{id:"project-select-title",children:"Create a new paint"}),Object(S.jsx)(D.a,{dividers:!0,children:Object(S.jsxs)(m.a,{display:"flex",flexDirection:"column",children:[l&&l.length?Object(S.jsx)(B,{id:"car-make-select",value:b,options:C,groupBy:function(e){return e.car_type},getOptionLabel:function(e){return e.name},style:{width:500},mb:4,onChange:function(e,t){p(t)},renderInput:function(e){return Object(S.jsx)(g.a,Object(a.a)(Object(a.a)({},e),{},{label:"Select Vehicle",variant:"outlined"}))}}):Object(S.jsx)(S.Fragment,{}),Object(S.jsx)(R,{label:"Name",value:O,variant:"outlined",onChange:function(e){return x(e.target.value)}})]})}),Object(S.jsxs)(P,{children:[Object(S.jsx)(L,{onClick:n,color:"secondary",variant:"outlined",children:"Cancel"}),Object(S.jsx)(L,{onClick:function(){return t(b,O)},color:"primary",variant:"outlined",disabled:!b,children:"Continue"})]})]})},A=l.a.memo(z),E=n(444),F=n(75),q=n(1025),V=n(134),J=n(350),T=n(1104),U=n(43),W=o.c.img.withConfig({displayName:"ProjectItem__CustomImg",componentId:"sc-1dqc2a0-0"})(["width:100%;height:100%;position:relative;object-fit:contain;cursor:pointer;"]),G=Object(o.c)(m.a).withConfig({displayName:"ProjectItem__ItemWrapper",componentId:"sc-1dqc2a0-1"})(["border:1px solid grey;"]),H=Object(o.c)(q.a).withConfig({displayName:"ProjectItem__StyledMenu",componentId:"sc-1dqc2a0-2"})([".MuiMenu-paper{border:1px solid grey;}"]),K=function(e){var t,n=e.scheme,a=e.onDelete,c=Object(r.useState)(null),o=Object(i.a)(c,2),l=o[0],s=o[1],u=Object(j.f)(),d=function(){s(null)};return Object(S.jsxs)(G,{display:"flex",flexDirection:"column",children:[Object(S.jsx)(W,{src:(t=n.id,"".concat(F.a.assetsURL,"/scheme_thumbnails/").concat(t,".png")),alt:n.name,onClick:function(){return e=n.id,void u.push("/scheme/".concat(e));var e}}),Object(S.jsxs)(m.a,{display:"flex",justifyContent:"space-between",children:[Object(S.jsxs)(m.a,{display:"flex",flexDirection:"column",p:4,children:[Object(S.jsx)(V.a,{variant:"body1",children:n.name}),Object(S.jsxs)(V.a,{variant:"body2",children:["Edited ",Object(U.e)(n.date_modified)]}),Object(S.jsx)(V.a,{variant:"body2",children:n.carMake.name})]}),Object(S.jsxs)(m.a,{display:"flex",alignItems:"center",children:[Object(S.jsx)(J.a,{"aria-haspopup":"true","aria-controls":"action-menu-".concat(n.id),onClick:function(e){s(e.currentTarget)},children:Object(S.jsx)(T.a,{})}),Object(S.jsx)(H,{id:"action-menu-".concat(n.id),elevation:0,getContentAnchorEl:null,anchorEl:l,keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},open:Boolean(l),onClose:d,children:Object(S.jsx)(x.a,{onClick:function(){a(n.id),d()},children:"Delete"})})]})]})]})},Q=n(64),X=n(93),Y=Object(o.c)(p.a).withConfig({displayName:"project__Button",componentId:"tmuuxz-0"})(b.b),Z=Object(o.c)(w.a).withConfig({displayName:"project__Autocomplete",componentId:"tmuuxz-1"})(b.b),$=Object(o.c)(h.a).withConfig({displayName:"project__CustomFormControl",componentId:"tmuuxz-2"})([".MuiInputBase-root{height:38px;margin-right:10px;}"]),ee=Object(o.c)(Z).withConfig({displayName:"project__CustomAutocomplete",componentId:"tmuuxz-3"})([".MuiInputLabel-outlined{transform:translate(14px,12px) scale(1);&.MuiInputLabel-shrink{transform:translate(14px,-6px) scale(0.75);}}.MuiInputBase-root{padding-top:0;padding-bottom:0;}"]),te=Object(o.c)(v.a).withConfig({displayName:"project__CustomInfiniteScroll",componentId:"tmuuxz-4"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),ne=Object(o.c)(m.a).withConfig({displayName:"project__Wrapper",componentId:"tmuuxz-5"})(["background-color:#444;border-radius:10px;"]);t.default=function(){var e=Object(d.d)(),t=Object(j.f)(),n=Object(d.e)((function(e){return e.authReducer.user})),o=Object(d.e)((function(e){return e.carMakeReducer.list})),l=Object(d.e)((function(e){return e.schemeReducer.list})),s=Object(d.e)((function(e){return e.schemeReducer.loading})),b=Object(d.e)((function(e){return e.carMakeReducer.loading})),p=Object(r.useState)(),h=Object(i.a)(p,2),v=h[0],w=h[1],k=Object(r.useState)(15),M=Object(i.a)(k,2),N=M[0],D=M[1],L=Object(r.useState)(""),B=Object(i.a)(L,2),P=B[0],R=B[1],z=Object(r.useState)(null),F=Object(i.a)(z,2),q=F[0],V=F[1],J=Object(r.useState)(3),T=Object(i.a)(J,2),U=T[0],W=T[1],G=Object(r.useState)(),H=Object(i.a)(G,2),Z=H[0],ae=H[1],ce=Object(r.useMemo)((function(){return u.a.orderBy(Object(c.a)(o),["name","car_type"],["asc","asc"])}),[o]),ie=Object(r.useMemo)((function(){return u.a.orderBy(l.filter((function(e){return(e.name.toLowerCase().includes(P.toLowerCase())||e.carMake.name.toLowerCase().includes(P.toLowerCase()))&&(!q||q.id===e.carMake.id)})),1===U?["name"]:2===U?["carMake.name"]:["date_modified"],1===U||2===U?["asc"]:["desc"])}),[l,P,q,U]);Object(r.useEffect)((function(){if(n){l.length||e(Object(Q.h)(n.id)),o.length||e(Object(X.b)());var t=new URL(window.location.href).searchParams.get("make");t&&(ae(t),w("CreateProjectDialog"))}}),[n]);var oe=function(e){t.push("/scheme/".concat(e))},re=function(t){e(Object(Q.f)(t))};return Object(S.jsx)(m.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:s||b||!l||!o?Object(S.jsx)(_.a,{}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(ne,{display:"flex",flexDirection:"column",justifyContent:"flex-start",m:2,p:5,height:"calc(100% - 16px)",children:[Object(S.jsxs)(m.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",mb:3,children:[Object(S.jsx)(E.a,{value:P,onChange:function(e){return R(e)}}),Object(S.jsx)(Y,{onClick:function(){w("CreateProjectDialog")},color:"default",variant:"outlined",startIcon:Object(S.jsx)(y.a,{}),children:"New"})]}),Object(S.jsxs)(m.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",mb:3,children:[Object(S.jsxs)($,{variant:"outlined",children:[Object(S.jsx)(f.a,{id:"sort-label",children:"Sort By"}),Object(S.jsxs)(O.a,{labelId:"sort-label",value:U,onChange:function(e){return W(e.target.value)},label:"Sort By",children:[Object(S.jsx)(x.a,{value:1,children:"Project Name"}),Object(S.jsx)(x.a,{value:2,children:"Vehicle Name"}),Object(S.jsx)(x.a,{value:3,children:"Last Modified"})]})]}),o&&o.length?Object(S.jsx)(ee,{id:"car-make-filter",options:ce,groupBy:function(e){return e.car_type},getOptionLabel:function(e){return e.name},style:{width:500},onChange:function(e,t){V(t)},renderInput:function(e){return Object(S.jsx)(g.a,Object(a.a)(Object(a.a)({},e),{},{label:"Filter By Vehicle",variant:"outlined"}))}}):Object(S.jsx)(S.Fragment,{})]}),Object(S.jsx)(m.a,{id:"scheme-list-content",overflow:"auto",position:"relative",children:Object(S.jsx)(te,{dataLength:N,next:function(){D(N+15)},hasMore:N<ie.length,loader:Object(S.jsx)(I.a,{}),scrollableTarget:"scheme-list-content",children:Object(S.jsx)(C.a,{container:!0,spacing:4,children:ie.slice(0,N).map((function(e){return Object(S.jsx)(C.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,children:Object(S.jsx)(K,{scheme:e,onDelete:re})},e.id)}))})})})]}),Object(S.jsx)(A,{carMakeList:o,predefinedCarMakeID:Z,open:"CreateProjectDialog"===v,onContinue:function(t,a){return function(t,a){w(null),e(Object(Q.d)(t,a,n.id,oe))}(t,a)},onCancel:function(){return w(null)}})]})})}},444:function(e,t,n){"use strict";var a=n(19),c=(n(0),n(1068)),i=n(1114),o=n(576),r=n.n(o),l=n(7),s=Object(c.a)((function(e){return{search:Object(a.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},border:"1px solid #8A8A8A",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}}));t.a=function(e){var t=e.value,n=e.onChange,a=s();return Object(l.jsxs)("div",{className:a.search,children:[Object(l.jsx)("div",{className:a.searchIcon,children:Object(l.jsx)(r.a,{})}),Object(l.jsx)(i.a,{placeholder:"Search",classes:{root:a.inputRoot,input:a.inputInput},value:t,inputProps:{"aria-label":"search"},onChange:function(e){n(e.target.value)}})]})}}}]);
//# sourceMappingURL=5.66ffec3b.chunk.js.map