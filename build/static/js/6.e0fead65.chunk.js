(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[6],{1269:function(e,t,n){"use strict";n.r(t);var c=n(18),r=n(193),a=n(8),i=n(640),o=n(25),s=n(0),l=n.n(s),j=n(57),d=n.n(j),u=n(39),b=n(20),h=n(375),p=n(494),m=n(71),O=n(377),f=n(399),x=n(525),g=n(383),C=n(196),y=n(641),v=n(1258),w=n(3),k=n.n(w);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _=Object(s.forwardRef)((function(e,t){var n=e.color,c=void 0===n?"currentColor":n,r=e.size,a=void 0===r?24:r,i=I(e,["color","size"]);return l.a.createElement("svg",M({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:c,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),l.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),l.a.createElement("polyline",{points:"16 17 21 12 16 7"}),l.a.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"}))}));_.propTypes={color:k.a.string,size:k.a.oneOfType([k.a.string,k.a.number])},_.displayName="LogOut";var L=_,P=n(100),S=n(61),D=n(183),N=n(514),B=n(510),z=n(513),F=n(507),R=n(498),E=n(10),V=n(46),A=n(11),T=Object(o.c)(D.a).withConfig({displayName:"CreateProjectDialog__Button",componentId:"e1fbbf-0"})(S.b),q=Object(o.c)(R.a).withConfig({displayName:"CreateProjectDialog__Autocomplete",componentId:"e1fbbf-1"})(S.b),W=Object(o.c)(N.a).withConfig({displayName:"CreateProjectDialog__CustomDialogActions",componentId:"e1fbbf-2"})(["padding-right:24px;"]),J=Object(o.c)(g.a).withConfig({displayName:"CreateProjectDialog__NameField",componentId:"e1fbbf-3"})([".MuiInputBase-root{height:56px;}"]),K=function(e){var t=e.onContinue,n=e.onCancel,c=e.open,i=e.carMakeList,o=e.predefinedCarMakeID,l=Object(s.useState)(null),j=Object(r.a)(l,2),d=j[0],u=j[1],b=Object(s.useState)(""),h=Object(r.a)(b,2),m=h[0],O=h[1],f=Object(s.useState)(""),x=Object(r.a)(f,2),C=x[0],y=x[1],v=Object(s.useCallback)((function(){var e=m&&m.length?m:C;t(d,e)}),[d,m,C,t]),w=Object(s.useCallback)((function(e){13===e.keyCode&&d&&(e.preventDefault(),v())}),[d,v]);return Object(s.useEffect)((function(){if(o){var e=i.find((function(e){return e.id.toString()===o}));u(e)}}),[o]),Object(s.useEffect)((function(){if(c){var e=Object(V.k)(E.j.length);y(E.j[e[0]]+" "+E.j[e[1]]+" Paint")}}),[c]),Object(A.jsxs)(B.a,{"aria-labelledby":"project-select-title",open:c,children:[Object(A.jsx)(z.a,{id:"project-select-title",children:"Create a new paint"}),Object(A.jsx)(F.a,{dividers:!0,children:Object(A.jsxs)(p.a,{display:"flex",flexDirection:"column",children:[i&&i.length?Object(A.jsx)(q,{id:"car-make-select",value:d,options:i,groupBy:function(e){return e.car_type},getOptionLabel:function(e){return e.name},style:{width:500},mb:4,onChange:function(e,t){u(t)},onKeyDown:w,renderInput:function(e){return Object(A.jsx)(g.a,Object(a.a)(Object(a.a)({},e),{},{label:"Select Vehicle",variant:"outlined"}))}}):Object(A.jsx)(A.Fragment,{}),Object(A.jsx)(J,{label:"Name",value:m&&m.length?m:C,variant:"outlined",onChange:function(e){return O(e.target.value)},onKeyDown:w})]})}),Object(A.jsxs)(W,{children:[Object(A.jsx)(T,{onClick:n,color:"secondary",variant:"outlined",children:"Cancel"}),Object(A.jsx)(T,{onClick:v,color:"primary",variant:"outlined",disabled:!d,children:"Continue"})]})]})},U=l.a.memo(K),G=n(682),H=n(60),Q=n(122),X=n(115),Y=n(638),Z=n(59),$=n(176),ee=n(380),te=n(86),ne=Object(te.a)(s.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),ce=n(683),re=o.c.img.withConfig({displayName:"ProjectItem__CustomImg",componentId:"sc-1dqc2a0-0"})(["width:100%;height:100%;position:relative;object-fit:contain;cursor:pointer;"]),ae=Object(o.c)(p.a).withConfig({displayName:"ProjectItem__ItemWrapper",componentId:"sc-1dqc2a0-1"})(["border:1px solid grey;"]),ie=Object(o.c)($.a).withConfig({displayName:"ProjectItem__StyledMenu",componentId:"sc-1dqc2a0-2"})([".MuiMenu-paper{border:1px solid grey;}"]),oe=function(e){var t,n=e.scheme,c=e.onDelete,a=e.onCloneProject,i=Object(s.useState)(null),o=Object(r.a)(i,2),l=o[0],j=o[1],d=Object(s.useState)(!1),u=Object(r.a)(d,2),h=u[0],O=u[1],f=Object(b.f)(),g=function(){j(null)};return Object(A.jsxs)(ae,{display:"flex",flexDirection:"column",children:[Object(A.jsx)(re,{src:(t=n.id,"".concat(Z.a.assetsURL,"/scheme_thumbnails/").concat(t,".png")),alt:n.name,onClick:function(){return e=n.id,void f.push("/scheme/".concat(e));var e}}),Object(A.jsxs)(p.a,{display:"flex",justifyContent:"space-between",children:[Object(A.jsxs)(p.a,{display:"flex",flexDirection:"column",p:4,children:[Object(A.jsx)(m.a,{variant:"body1",children:n.name}),Object(A.jsxs)(m.a,{variant:"body2",children:["Edited ",Object(V.g)(n.date_modified)]}),Object(A.jsx)(m.a,{variant:"body2",children:n.carMake.name})]}),Object(A.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(A.jsx)(ee.a,{"aria-haspopup":"true","aria-controls":"action-menu-".concat(n.id),onClick:function(e){j(e.currentTarget)},children:Object(A.jsx)(ne,{})}),Object(A.jsxs)(ie,{id:"action-menu-".concat(n.id),elevation:0,getContentAnchorEl:null,anchorEl:l,keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},open:Boolean(l),onClose:g,children:[Object(A.jsx)(x.a,{onClick:function(){a(n.id),g()},children:"Clone"}),Object(A.jsx)(x.a,{onClick:function(){return O(!0)},children:"Delete"})]})]})]}),Object(A.jsx)(ce.a,{text:'Are you sure to delete "'.concat(n.name,'"?'),open:h,onCancel:function(){return O(!1)},onConfirm:function(){c(n.id),g()}})]})},se=Object(o.c)(Y.a).withConfig({displayName:"MyProjects__CustomInfiniteScroll",componentId:"gxp0l5-0"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),le=function(e){var t=e.schemeList,n=e.sortBy,c=e.search,a=e.selectedVehicle,i=e.onDeleteProject,o=e.onCloneProject,l=Object(s.useState)(15),j=Object(r.a)(l,2),u=j[0],b=j[1],h=Object(s.useMemo)((function(){return d.a.orderBy(t.filter((function(e){return(e.name.toLowerCase().includes(c.toLowerCase())||e.carMake.name.toLowerCase().includes(c.toLowerCase()))&&(!a||a.id===e.carMake.id)})),1===n?["name"]:2===n?["carMake.name"]:["date_modified"],1===n||2===n?["asc"]:["desc"])}),[t,c,a,n]);return Object(A.jsxs)(se,{dataLength:u,next:function(){b(u+15)},hasMore:u<h.length,loader:Object(A.jsx)(P.a,{}),scrollableTarget:"scheme-list-content",children:[Object(A.jsx)(C.n,{variant:"h2",mb:5,children:"My Projects"}),Object(A.jsx)(C.g,{container:!0,spacing:4,children:h.slice(0,u).map((function(e){return Object(A.jsx)(C.g,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,children:Object(A.jsx)(oe,{scheme:e,onDelete:i,onCloneProject:o})},e.id)}))})]})},je=Object(o.c)(Y.a).withConfig({displayName:"SharedProjects__CustomInfiniteScroll",componentId:"sc-1pkxm0q-0"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),de=function(e){var t=e.sharedSchemeList,n=e.sortBy,c=e.search,a=e.selectedVehicle,i=Object(s.useState)(15),o=Object(r.a)(i,2),l=o[0],j=o[1],u=Object(s.useMemo)((function(){return d.a.orderBy(t.filter((function(e){return(e.scheme.name.toLowerCase().includes(c.toLowerCase())||e.scheme.carMake.name.toLowerCase().includes(c.toLowerCase()))&&(!a||a.id===e.scheme.carMake.id)})),1===n?["scheme.name"]:2===n?["scheme.carMake.name"]:["scheme.date_modified"],1===n||2===n?["asc"]:["desc"])}),[t,c,a,n]),b=Object(s.useMemo)((function(){return u.filter((function(e){return!e.accepted}))}),[u]),h=Object(s.useMemo)((function(){return u.filter((function(e){return e.accepted}))}),[u]);return Object(A.jsxs)(je,{dataLength:l,next:function(){j(l+15)},hasMore:l<h.length,loader:Object(A.jsx)(P.a,{}),scrollableTarget:"scheme-list-content",children:[Object(A.jsx)(C.n,{variant:"h2",mb:5,children:"Shared with Me"}),b.length?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(C.n,{variant:"h4",mb:2,children:"New invitations"}),Object(A.jsx)(C.g,{container:!0,spacing:4,children:b.map((function(e){return Object(A.jsx)(C.g,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,children:Object(A.jsx)(oe,{scheme:e.scheme})},e.id)}))}),Object(A.jsx)(C.c,{my:5,bgcolor:"#808080",width:"100%",height:"1px"})]}):Object(A.jsx)(A.Fragment,{}),Object(A.jsx)(C.g,{container:!0,spacing:4,children:h.slice(0,l).map((function(e){return Object(A.jsx)(C.g,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,children:Object(A.jsx)(oe,{scheme:e.scheme})},e.id)}))})]})},ue=Object(o.c)(Y.a).withConfig({displayName:"FavoriteProjects__CustomInfiniteScroll",componentId:"sc-1u9x1id-0"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),be=function(e){var t=e.schemeList,n=e.sortBy,c=e.search,a=e.selectedVehicle,i=e.onDeleteProject,o=e.onCloneProject,l=Object(s.useState)(15),j=Object(r.a)(l,2),u=j[0],b=j[1],h=Object(s.useMemo)((function(){return d.a.orderBy(t.filter((function(e){return(e.name.toLowerCase().includes(c.toLowerCase())||e.carMake.name.toLowerCase().includes(c.toLowerCase()))&&(!a||a.id===e.carMake.id)})),1===n?["name"]:2===n?["carMake.name"]:["date_modified"],1===n||2===n?["asc"]:["desc"])}),[t,c,a,n]);return Object(A.jsxs)(ue,{dataLength:u,next:function(){b(u+15)},hasMore:u<h.length,loader:Object(A.jsx)(P.a,{}),scrollableTarget:"scheme-list-content",children:[Object(A.jsx)(C.n,{variant:"h2",mb:5,children:"Favorite Projects"}),Object(A.jsx)(C.g,{container:!0,spacing:4,children:h.slice(0,u).map((function(e){return Object(A.jsx)(C.g,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,children:Object(A.jsx)(oe,{scheme:e,onDelete:i,onCloneProject:o})},e.id)}))})]})},he=Object(o.c)(h.a).withConfig({displayName:"project__CustomFormControl",componentId:"tmuuxz-0"})([".MuiInputBase-root{height:38px;margin-right:10px;}"]),pe=Object(o.c)(C.b).withConfig({displayName:"project__CustomAutocomplete",componentId:"tmuuxz-1"})([".MuiInputLabel-outlined{transform:translate(14px,12px) scale(1);&.MuiInputLabel-shrink{transform:translate(14px,-6px) scale(0.75);}}.MuiInputBase-root{padding-top:0;padding-bottom:0;}"]),me=Object(o.c)(C.d).withConfig({displayName:"project__GreyButton",componentId:"tmuuxz-2"})(["background-color:#444;&:hover{background-color:#666;}"]),Oe=Object(o.c)(p.a).withConfig({displayName:"project__Wrapper",componentId:"tmuuxz-3"})(["background-color:#444;border-radius:10px;"]),fe=Object(o.c)(p.a).withConfig({displayName:"project__Tab",componentId:"tmuuxz-4"})(["background-color:",";cursor:pointer;padding:4px 12px;"],(function(e){return e.active?"#222":"#333"})),xe=function(e){var t=e.children,n=e.value,c=e.index,r=Object(i.a)(e,["children","value","index"]);return Object(A.jsx)(p.a,Object(a.a)(Object(a.a)({role:"tabpanel",hidden:n!==c,id:"projects-tabpanel-".concat(c),"aria-labelledby":"projects-tab-".concat(c),width:"100%"},r),{},{children:n===c&&Object(A.jsx)(A.Fragment,{children:t})}))};t.default=function(){var e=Object(u.d)(),t=Object(b.f)(),n=Object(u.e)((function(e){return e.authReducer.user})),i=Object(u.e)((function(e){return e.carMakeReducer.list})),o=Object(u.e)((function(e){return e.schemeReducer.list})),l=Object(u.e)((function(e){return e.schemeReducer.sharedList})),j=Object(u.e)((function(e){return e.schemeReducer.loading})),h=Object(u.e)((function(e){return e.carMakeReducer.loading})),w=Object(s.useState)(),k=Object(r.a)(w,2),M=k[0],I=k[1],_=Object(s.useState)(""),S=Object(r.a)(_,2),D=S[0],N=S[1],B=Object(s.useState)(null),z=Object(r.a)(B,2),F=z[0],R=z[1],E=Object(s.useState)(3),V=Object(r.a)(E,2),T=V[0],q=V[1],W=Object(s.useState)(),J=Object(r.a)(W,2),K=J[0],Y=J[1],Z=Object(s.useState)(0),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ne=Object(s.useMemo)((function(){return d.a.orderBy(Object(c.a)(i),["car_type","name"],["asc","asc"])}),[i]),ce=Object(s.useMemo)((function(){return l.filter((function(e){return!e.accepted})).length}),[l]);Object(s.useEffect)((function(){if(n){o.length||e(Object(H.k)(n.id)),i.length||e(Object(Q.b)()),l.length||e(Object(H.l)(n.id));var t=new URL(window.location.href).searchParams.get("make");t&&(Y(t),I("CreateProjectDialog"))}}),[n]);var re=function(e){t.push("/scheme/".concat(e))};return Object(A.jsxs)(p.a,{width:"100%",height:"100%",display:"flex",bgcolor:"#333",children:[Object(A.jsxs)(p.a,{width:"250px",children:[Object(A.jsxs)(p.a,{display:"flex",justifyContent:"space-between",p:3,children:[Object(A.jsx)(me,{onClick:function(){I("CreateProjectDialog")},color:"primary",variant:"contained",startIcon:Object(A.jsx)(v.a,{}),mr:2,children:"New"}),Object(A.jsx)(y.a,{title:"Log Out",arrow:!0,children:Object(A.jsx)(C.h,{onClick:function(){e(Object(X.d)())},size:"small",children:Object(A.jsx)(L,{})})})]}),Object(A.jsxs)(p.a,{display:"flex",flexDirection:"column",children:[Object(A.jsx)(fe,{active:0===ee,onClick:function(){return te(0)},children:Object(A.jsx)(m.a,{children:"My Projects"})}),Object(A.jsxs)(fe,{display:"flex",justifyContent:"space-between",active:1===ee,onClick:function(){return te(1)},children:[Object(A.jsx)(m.a,{children:"Shared with Me"}),ce?Object(A.jsx)(p.a,{borderRadius:"100%",bgcolor:"#444",px:2,children:Object(A.jsx)(m.a,{variant:"body1",children:ce})}):Object(A.jsx)(A.Fragment,{})]}),Object(A.jsx)(fe,{active:2===ee,onClick:function(){return te(2)},children:Object(A.jsx)(m.a,{children:"Favorite Projects"})})]})]}),Object(A.jsxs)(Oe,{display:"flex",flexDirection:"column",justifyContent:"flex-start",my:2,mr:2,py:5,pl:5,width:"100%",height:"calc(100% - 16px)",children:[Object(A.jsx)(p.a,{width:"300px",children:Object(A.jsx)(G.a,{value:D,onChange:function(e){return N(e)}})}),Object(A.jsxs)(p.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",my:3,pr:5,children:[Object(A.jsxs)(he,{variant:"outlined",children:[Object(A.jsx)(O.a,{id:"sort-label",children:"Sort By"}),Object(A.jsxs)(f.a,{labelId:"sort-label",value:T,onChange:function(e){return q(e.target.value)},label:"Sort By",children:[Object(A.jsx)(x.a,{value:1,children:"Project Name"}),Object(A.jsx)(x.a,{value:2,children:"Vehicle Name"}),Object(A.jsx)(x.a,{value:3,children:"Last Modified"})]})]}),i&&i.length?Object(A.jsx)(pe,{id:"car-make-filter",options:ne,groupBy:function(e){return e.car_type},getOptionLabel:function(e){return e.name},style:{width:500},onChange:function(e,t){R(t)},renderInput:function(e){return Object(A.jsx)(g.a,Object(a.a)(Object(a.a)({},e),{},{label:"Filter By Vehicle",variant:"outlined"}))}}):Object(A.jsx)(A.Fragment,{})]}),Object(A.jsx)(p.a,{id:"scheme-list-content",overflow:"auto",position:"relative",height:"100%",pr:5,children:j||h?Object(A.jsx)(P.a,{}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(xe,{value:ee,index:0,children:Object(A.jsx)(le,{schemeList:o,sortBy:T,search:D,selectedVehicle:F,onDeleteProject:function(t){e(Object(H.i)(t))},onCloneProject:function(t){e(Object(H.f)(t))}})}),Object(A.jsx)(xe,{value:ee,index:1,children:Object(A.jsx)(de,{sharedSchemeList:l,sortBy:T,search:D,selectedVehicle:F})}),Object(A.jsx)(xe,{value:ee,index:2,children:Object(A.jsx)(be,{schemeList:o,sortBy:T,search:D,selectedVehicle:F})})]})})]}),Object(A.jsx)(U,{carMakeList:ne,predefinedCarMakeID:K,open:"CreateProjectDialog"===M,onContinue:function(t,c){return function(t,c){I(null),e(Object(H.g)(t,c,n.id,0,re))}(t,c)},onCancel:function(){return I(null)}})]})}},641:function(e,t,n){"use strict";var c=n(503),r=n(9),a=Object(r.a)((function(e){return{tooltip:{backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:"rgba(0, 0, 0, 0.2)",fontSize:11},arrow:{color:"white"}}}))(c.a);t.a=a},682:function(e,t,n){"use strict";var c=n(26),r=n(0),a=n(1251),i=n(184),o=n(804),s=n.n(o),l=n(11),j=Object(a.a)((function(e){return{search:Object(c.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},border:"1px solid #8A8A8A",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%",height:"26px"}}}));t.a=function(e){var t=e.value,n=e.onChange,c=j(),a=Object(r.useCallback)((function(e){n(e.target.value)}),[n]);return Object(l.jsxs)("div",{className:c.search,children:[Object(l.jsx)("div",{className:c.searchIcon,children:Object(l.jsx)(s.a,{})}),Object(l.jsx)(i.a,{placeholder:"Search",classes:{root:c.inputRoot,input:c.inputInput},value:t,inputProps:{"aria-label":"search"},onChange:a})]})}},683:function(e,t,n){"use strict";var c=n(25),r=n(0),a=n.n(r),i=n(61),o=n(183),s=n(510),l=n(513),j=n(507),d=n(71),u=n(514),b=n(11),h=Object(c.c)(o.a).withConfig({displayName:"ConfirmDialog__Button",componentId:"sc-1cd3vhn-0"})(i.b),p=a.a.memo((function(e){var t=e.text,n=e.open,c=e.onCancel,r=e.onConfirm;return Object(b.jsxs)(s.a,{"aria-labelledby":"confirm-title",open:n,children:[Object(b.jsx)(l.a,{id:"confirm-title",children:"Confirm"}),Object(b.jsx)(j.a,{dividers:!0,children:Object(b.jsx)(d.a,{variant:"body1",children:t})}),Object(b.jsxs)(u.a,{children:[Object(b.jsx)(h,{onClick:c,color:"primary",children:"Cancel"}),Object(b.jsx)(h,{onClick:r,color:"secondary",variant:"outlined",autoFocus:!0,children:"Confirm"})]})]})}));t.a=p}}]);
//# sourceMappingURL=6.e0fead65.chunk.js.map