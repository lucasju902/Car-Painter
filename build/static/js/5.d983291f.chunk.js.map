{"version":3,"sources":["dialogs/CreateProjectDialog.jsx","pages/project/ProjectItem.jsx","pages/project/index.jsx","components/Loader.jsx","components/SearchBox.jsx","dialogs/ConfirmDialog.jsx"],"names":["Button","styled","MuiButton","spacing","Autocomplete","MuiAutocomplete","CustomDialogActions","DialogActions","NameField","TextField","ProjectSelectDialog","props","onContinue","onCancel","open","carMakeList","predefinedCarMakeID","useState","carMake","setCarMake","name","setName","placeHolderName","setPlaceHolderName","handleSubmit","useCallback","schemeName","length","handleKeyDown","event","keyCode","preventDefault","useEffect","make","find","item","id","toString","rands","getTwoRandomNumbers","funWords","Dialog","aria-labelledby","DialogTitle","DialogContent","dividers","Box","display","flexDirection","value","options","groupBy","option","car_type","getOptionLabel","style","width","mb","onChange","newValue","onKeyDown","renderInput","params","label","variant","target","onClick","color","disabled","React","memo","CustomImg","img","ItemWrapper","StyledMenu","Menu","ProjectItem","scheme","onDelete","onCloneProject","actionMenuEl","setActionMenuEl","showDeleteDialog","setShowDeleteDialog","history","useHistory","handleActionMenuClose","src","config","assetsURL","alt","schemeID","push","justifyContent","p","Typography","getDifferenceFromToday","date_modified","alignItems","IconButton","aria-haspopup","aria-controls","currentTarget","elevation","getContentAnchorEl","anchorEl","keepMounted","anchorOrigin","vertical","horizontal","transformOrigin","Boolean","onClose","MenuItem","ConfirmDialog","text","onConfirm","CustomFormControl","FormControl","CustomAutocomplete","CustomInfiniteScroll","InfiniteScroll","Wrapper","Scheme","dispatch","useDispatch","user","useSelector","state","authReducer","carMakeReducer","list","schemeList","schemeReducer","schemeLoading","loading","carMakeLoading","dialog","setDialog","limit","setLimit","search","setSearch","selectedVehicle","setSelectedVehicle","sortBy","setSortBy","setPredefinedCarMakeID","sortedCarMakesList","useMemo","_","orderBy","filteredSchemeList","filter","toLowerCase","includes","getSchemeList","getCarMakeList","makeID","URL","window","location","href","searchParams","get","openScheme","handleDeleteProject","deleteScheme","handleCloneProject","cloneScheme","height","m","SearchBox","startIcon","Add","InputLabel","Select","labelId","e","overflow","position","ScreenLoader","dataLength","next","hasMore","loader","Loader","scrollableTarget","Grid","container","slice","map","xs","sm","md","lg","xl","CreateProjectDialog","createScheme","createSchemeFromCarMake","Root","div","useStyles","makeStyles","theme","borderRadius","shape","backgroundColor","border","breakpoints","up","searchIcon","padding","pointerEvents","inputRoot","inputInput","paddingLeft","transition","transitions","create","classes","handleChange","className","placeholder","root","input","inputProps","autoFocus"],"mappings":"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","file":"static/js/5.d983291f.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport _ from \"lodash\";\r\n\r\nimport styled from \"styled-components/macro\";\r\nimport { spacing } from \"@material-ui/system\";\r\nimport {\r\n  Button as MuiButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Box,\r\n} from \"@material-ui/core\";\r\nimport { Autocomplete as MuiAutocomplete } from \"@material-ui/lab\";\r\nimport { funWords } from \"constant\";\r\nimport { getTwoRandomNumbers } from \"helper\";\r\n\r\nconst Button = styled(MuiButton)(spacing);\r\nconst Autocomplete = styled(MuiAutocomplete)(spacing);\r\nconst CustomDialogActions = styled(DialogActions)`\r\n  padding-right: 24px;\r\n`;\r\nconst NameField = styled(TextField)`\r\n  .MuiInputBase-root {\r\n    height: 56px;\r\n  }\r\n`;\r\n\r\nconst ProjectSelectDialog = (props) => {\r\n  const {\r\n    onContinue,\r\n    onCancel,\r\n    open,\r\n    carMakeList,\r\n    predefinedCarMakeID,\r\n  } = props;\r\n  const [carMake, setCarMake] = useState(null);\r\n  const [name, setName] = useState(\"\");\r\n\r\n  const [placeHolderName, setPlaceHolderName] = useState(\"\");\r\n\r\n  const handleSubmit = useCallback(() => {\r\n    const schemeName = name && name.length ? name : placeHolderName;\r\n    onContinue(carMake, schemeName);\r\n  }, [carMake, name, placeHolderName, onContinue]);\r\n\r\n  const handleKeyDown = useCallback(\r\n    (event) => {\r\n      if (event.keyCode === 13 && carMake) {\r\n        event.preventDefault();\r\n        handleSubmit();\r\n      }\r\n    },\r\n    [carMake, handleSubmit]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (predefinedCarMakeID) {\r\n      const make = carMakeList.find(\r\n        (item) => item.id.toString() === predefinedCarMakeID\r\n      );\r\n      setCarMake(make);\r\n    }\r\n  }, [predefinedCarMakeID]);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      const rands = getTwoRandomNumbers(funWords.length);\r\n      setPlaceHolderName(\r\n        funWords[rands[0]] + \" \" + funWords[rands[1]] + \" Paint\"\r\n      );\r\n    }\r\n  }, [open]);\r\n\r\n  return (\r\n    <Dialog aria-labelledby=\"project-select-title\" open={open}>\r\n      <DialogTitle id=\"project-select-title\">Create a new paint</DialogTitle>\r\n      <DialogContent dividers>\r\n        <Box display=\"flex\" flexDirection=\"column\">\r\n          {carMakeList && carMakeList.length ? (\r\n            <Autocomplete\r\n              id=\"car-make-select\"\r\n              value={carMake}\r\n              options={carMakeList}\r\n              groupBy={(option) => option.car_type}\r\n              getOptionLabel={(option) => option.name}\r\n              style={{ width: 500 }}\r\n              mb={4}\r\n              onChange={(event, newValue) => {\r\n                setCarMake(newValue);\r\n              }}\r\n              onKeyDown={handleKeyDown}\r\n              renderInput={(params) => (\r\n                <TextField\r\n                  {...params}\r\n                  label=\"Select Vehicle\"\r\n                  variant=\"outlined\"\r\n                />\r\n              )}\r\n            />\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <NameField\r\n            label={placeHolderName}\r\n            value={name}\r\n            variant=\"outlined\"\r\n            onChange={(event) => setName(event.target.value)}\r\n            onKeyDown={handleKeyDown}\r\n          />\r\n        </Box>\r\n      </DialogContent>\r\n      <CustomDialogActions>\r\n        <Button onClick={onCancel} color=\"secondary\" variant=\"outlined\">\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={handleSubmit}\r\n          color=\"primary\"\r\n          variant=\"outlined\"\r\n          disabled={!carMake ? true : false}\r\n        >\r\n          Continue\r\n        </Button>\r\n      </CustomDialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default React.memo(ProjectSelectDialog);\r\n","import React, { useState } from \"react\";\r\nimport _ from \"lodash\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport config from \"config\";\r\nimport styled from \"styled-components/macro\";\r\n\r\nimport { Box, IconButton, Typography, Menu, MenuItem } from \"@material-ui/core\";\r\nimport { MoreVert as ActionIcon } from \"@material-ui/icons\";\r\nimport ConfirmDialog from \"dialogs/ConfirmDialog\";\r\n\r\nimport { getDifferenceFromToday } from \"helper\";\r\n\r\nconst CustomImg = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  object-fit: contain;\r\n  cursor: pointer;\r\n`;\r\nconst ItemWrapper = styled(Box)`\r\n  border: 1px solid grey;\r\n`;\r\nconst StyledMenu = styled(Menu)`\r\n  .MuiMenu-paper {\r\n    border: 1px solid grey;\r\n  }\r\n`;\r\n\r\nconst ProjectItem = (props) => {\r\n  const { scheme, onDelete, onCloneProject } = props;\r\n  const [actionMenuEl, setActionMenuEl] = useState(null);\r\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const handleActionMenuClick = (event) => {\r\n    setActionMenuEl(event.currentTarget);\r\n  };\r\n  const handleActionMenuClose = () => {\r\n    setActionMenuEl(null);\r\n  };\r\n  const handleDeleteItem = () => {\r\n    onDelete(scheme.id);\r\n    handleActionMenuClose();\r\n  };\r\n  const handleCloneProject = () => {\r\n    onCloneProject(scheme.id);\r\n    handleActionMenuClose();\r\n  };\r\n  const openScheme = (schemeID) => {\r\n    history.push(`/scheme/${schemeID}`);\r\n  };\r\n  const schemeThumbnailURL = (id) => {\r\n    return `${config.assetsURL}/scheme_thumbnails/${id}.png`;\r\n  };\r\n\r\n  return (\r\n    <ItemWrapper display=\"flex\" flexDirection=\"column\">\r\n      <CustomImg\r\n        src={schemeThumbnailURL(scheme.id)}\r\n        alt={scheme.name}\r\n        onClick={() => openScheme(scheme.id)}\r\n      />\r\n      <Box display=\"flex\" justifyContent=\"space-between\">\r\n        <Box display=\"flex\" flexDirection=\"column\" p={4}>\r\n          <Typography variant=\"body1\">{scheme.name}</Typography>\r\n          <Typography variant=\"body2\">\r\n            Edited {getDifferenceFromToday(scheme.date_modified)}\r\n          </Typography>\r\n          <Typography variant=\"body2\">{scheme.carMake.name}</Typography>\r\n        </Box>\r\n        <Box display=\"flex\" alignItems=\"center\">\r\n          <IconButton\r\n            aria-haspopup=\"true\"\r\n            aria-controls={`action-menu-${scheme.id}`}\r\n            onClick={handleActionMenuClick}\r\n          >\r\n            <ActionIcon />\r\n          </IconButton>\r\n          <StyledMenu\r\n            id={`action-menu-${scheme.id}`}\r\n            elevation={0}\r\n            getContentAnchorEl={null}\r\n            anchorEl={actionMenuEl}\r\n            keepMounted\r\n            anchorOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"right\",\r\n            }}\r\n            transformOrigin={{\r\n              vertical: \"bottom\",\r\n              horizontal: \"right\",\r\n            }}\r\n            open={Boolean(actionMenuEl)}\r\n            onClose={handleActionMenuClose}\r\n          >\r\n            <MenuItem onClick={handleCloneProject}>Clone</MenuItem>\r\n            <MenuItem onClick={() => setShowDeleteDialog(true)}>\r\n              Delete\r\n            </MenuItem>\r\n          </StyledMenu>\r\n        </Box>\r\n      </Box>\r\n      <ConfirmDialog\r\n        text={`Are you sure to delete \"${scheme.name}\"?`}\r\n        open={showDeleteDialog}\r\n        onCancel={() => setShowDeleteDialog(false)}\r\n        onConfirm={handleDeleteItem}\r\n      />\r\n    </ItemWrapper>\r\n  );\r\n};\r\n\r\nexport default ProjectItem;\r\n","import React, { useEffect, useState, useMemo } from \"react\";\r\nimport _ from \"lodash\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport styled from \"styled-components/macro\";\r\nimport { spacing } from \"@material-ui/system\";\r\n\r\nimport {\r\n  Box,\r\n  Button as MuiButton,\r\n  Grid,\r\n  TextField,\r\n  FormControl,\r\n  Select,\r\n  InputLabel,\r\n  MenuItem,\r\n} from \"@material-ui/core\";\r\nimport { Add as AddIcon } from \"@material-ui/icons\";\r\n\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { Autocomplete as MuiAutocomplete } from \"@material-ui/lab\";\r\nimport Loader from \"components/Loader\";\r\nimport ScreenLoader from \"components/ScreenLoader\";\r\nimport CreateProjectDialog from \"dialogs/CreateProjectDialog\";\r\nimport SearchBox from \"components/SearchBox\";\r\nimport ProjectItem from \"./ProjectItem\";\r\n\r\nimport {\r\n  getSchemeList,\r\n  createScheme,\r\n  deleteScheme,\r\n  cloneScheme,\r\n} from \"redux/reducers/schemeReducer\";\r\nimport { getCarMakeList } from \"redux/reducers/carMakeReducer\";\r\n\r\nconst Button = styled(MuiButton)(spacing);\r\nconst Autocomplete = styled(MuiAutocomplete)(spacing);\r\nconst CustomFormControl = styled(FormControl)`\r\n  .MuiInputBase-root {\r\n    height: 38px;\r\n    margin-right: 10px;\r\n  }\r\n`;\r\nconst CustomAutocomplete = styled(Autocomplete)`\r\n  .MuiInputLabel-outlined {\r\n    transform: translate(14px, 12px) scale(1);\r\n    &.MuiInputLabel-shrink {\r\n      transform: translate(14px, -6px) scale(0.75);\r\n    }\r\n  }\r\n  .MuiInputBase-root {\r\n    padding-top: 0;\r\n    padding-bottom: 0;\r\n  }\r\n`;\r\nconst CustomInfiniteScroll = styled(InfiniteScroll)`\r\n  &.infinite-scroll-component {\r\n    overflow: hidden !important;\r\n  }\r\n`;\r\nconst Wrapper = styled(Box)`\r\n  background-color: #444;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst Scheme = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const user = useSelector((state) => state.authReducer.user);\r\n  const carMakeList = useSelector((state) => state.carMakeReducer.list);\r\n  const schemeList = useSelector((state) => state.schemeReducer.list);\r\n  const schemeLoading = useSelector((state) => state.schemeReducer.loading);\r\n  const carMakeLoading = useSelector((state) => state.carMakeReducer.loading);\r\n\r\n  const step = 15;\r\n  const [dialog, setDialog] = useState();\r\n  const [limit, setLimit] = useState(step);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [selectedVehicle, setSelectedVehicle] = useState(null);\r\n  const [sortBy, setSortBy] = useState(3);\r\n  const [predefinedCarMakeID, setPredefinedCarMakeID] = useState();\r\n\r\n  let sortedCarMakesList = useMemo(\r\n    () => _.orderBy([...carMakeList], [\"car_type\", \"name\"], [\"asc\", \"asc\"]),\r\n    [carMakeList]\r\n  );\r\n\r\n  const filteredSchemeList = useMemo(\r\n    () =>\r\n      _.orderBy(\r\n        schemeList.filter(\r\n          (item) =>\r\n            (item.name.toLowerCase().includes(search.toLowerCase()) ||\r\n              item.carMake.name.toLowerCase().includes(search.toLowerCase())) &&\r\n            (!selectedVehicle || selectedVehicle.id === item.carMake.id)\r\n        ),\r\n        sortBy === 1\r\n          ? [\"name\"]\r\n          : sortBy === 2\r\n          ? [\"carMake.name\"]\r\n          : [\"date_modified\"],\r\n        sortBy === 1 ? [\"asc\"] : sortBy === 2 ? [\"asc\"] : [\"desc\"]\r\n      ),\r\n    [schemeList, search, selectedVehicle, sortBy]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      if (!schemeList.length) dispatch(getSchemeList(user.id));\r\n      if (!carMakeList.length) dispatch(getCarMakeList());\r\n\r\n      const url = new URL(window.location.href);\r\n      const makeID = url.searchParams.get(\"make\");\r\n      if (makeID) {\r\n        setPredefinedCarMakeID(makeID);\r\n        setDialog(\"CreateProjectDialog\");\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user]);\r\n\r\n  const openScheme = (schemeID) => {\r\n    history.push(`/scheme/${schemeID}`);\r\n  };\r\n\r\n  const createSchemeFromCarMake = (carMake, name) => {\r\n    setDialog(null);\r\n    dispatch(createScheme(carMake, name, user.id, 0, openScheme));\r\n  };\r\n\r\n  const handleCreateNew = () => {\r\n    setDialog(\"CreateProjectDialog\");\r\n  };\r\n  const handleDeleteProject = (schemeID) => {\r\n    dispatch(deleteScheme(schemeID));\r\n  };\r\n  const handleCloneProject = (schemeID) => {\r\n    dispatch(cloneScheme(schemeID));\r\n  };\r\n\r\n  const increaseData = () => {\r\n    setLimit(limit + step);\r\n  };\r\n\r\n  return (\r\n    <Box width=\"100%\" height=\"100%\" display=\"flex\" flexDirection=\"column\">\r\n      <>\r\n        <Wrapper\r\n          display=\"flex\"\r\n          flexDirection=\"column\"\r\n          justifyContent=\"flex-start\"\r\n          m={2}\r\n          p={5}\r\n          height=\"calc(100% - 16px)\"\r\n        >\r\n          <Box\r\n            display=\"flex\"\r\n            justifyContent=\"space-between\"\r\n            alignItems=\"center\"\r\n            width=\"100%\"\r\n            mb={3}\r\n          >\r\n            <SearchBox value={search} onChange={(value) => setSearch(value)} />\r\n            <Button\r\n              onClick={handleCreateNew}\r\n              color=\"default\"\r\n              variant=\"outlined\"\r\n              startIcon={<AddIcon />}\r\n            >\r\n              New\r\n            </Button>\r\n          </Box>\r\n          <Box\r\n            display=\"flex\"\r\n            justifyContent=\"flex-start\"\r\n            alignItems=\"center\"\r\n            width=\"100%\"\r\n            mb={3}\r\n          >\r\n            <CustomFormControl variant=\"outlined\">\r\n              <InputLabel id=\"sort-label\">Sort By</InputLabel>\r\n              <Select\r\n                labelId=\"sort-label\"\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value)}\r\n                label=\"Sort By\"\r\n              >\r\n                <MenuItem value={1}>Project Name</MenuItem>\r\n                <MenuItem value={2}>Vehicle Name</MenuItem>\r\n                <MenuItem value={3}>Last Modified</MenuItem>\r\n              </Select>\r\n            </CustomFormControl>\r\n            {carMakeList && carMakeList.length ? (\r\n              <CustomAutocomplete\r\n                id=\"car-make-filter\"\r\n                options={sortedCarMakesList}\r\n                groupBy={(option) => option.car_type}\r\n                getOptionLabel={(option) => option.name}\r\n                style={{ width: 500 }}\r\n                onChange={(event, newValue) => {\r\n                  setSelectedVehicle(newValue);\r\n                }}\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    label=\"Filter By Vehicle\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                )}\r\n              />\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </Box>\r\n          <Box\r\n            id=\"scheme-list-content\"\r\n            overflow=\"auto\"\r\n            position=\"relative\"\r\n            height=\"100%\"\r\n          >\r\n            {schemeLoading || carMakeLoading || !schemeList || !carMakeList ? (\r\n              <ScreenLoader />\r\n            ) : (\r\n              <CustomInfiniteScroll\r\n                dataLength={limit} //This is important field to render the next data\r\n                next={increaseData}\r\n                hasMore={limit < filteredSchemeList.length}\r\n                loader={<Loader />}\r\n                scrollableTarget=\"scheme-list-content\"\r\n              >\r\n                <Grid container spacing={4}>\r\n                  {filteredSchemeList.slice(0, limit).map((scheme) => (\r\n                    <Grid\r\n                      key={scheme.id}\r\n                      item\r\n                      xs={12}\r\n                      sm={6}\r\n                      md={4}\r\n                      lg={3}\r\n                      xl={3}\r\n                    >\r\n                      <ProjectItem\r\n                        scheme={scheme}\r\n                        onDelete={handleDeleteProject}\r\n                        onCloneProject={handleCloneProject}\r\n                      />\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </CustomInfiniteScroll>\r\n            )}\r\n          </Box>\r\n        </Wrapper>\r\n        <CreateProjectDialog\r\n          carMakeList={sortedCarMakesList}\r\n          predefinedCarMakeID={predefinedCarMakeID}\r\n          open={dialog === \"CreateProjectDialog\"}\r\n          onContinue={(carMake, name) => createSchemeFromCarMake(carMake, name)}\r\n          onCancel={() => setDialog(null)}\r\n        />\r\n      </>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Scheme;\r\n","import React from \"react\";\r\nimport styled from \"styled-components/macro\";\r\n\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nconst Root = styled.div`\r\n  justify-content: center;\r\n  align-items: center;\r\n  display: flex;\r\n  min-height: 60px;\r\n`;\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <Root>\r\n      <CircularProgress m={2} color=\"secondary\" />\r\n    </Root>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useCallback } from \"react\";\r\nimport { makeStyles, InputBase } from \"@material-ui/core\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: \"transparent\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n    border: \"1px solid #8A8A8A\",\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    pointerEvents: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n    width: \"100%\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst SearchBox = (props) => {\r\n  const { value, onChange } = props;\r\n\r\n  const classes = useStyles();\r\n  const handleChange = useCallback(\r\n    (event) => {\r\n      onChange(event.target.value);\r\n    },\r\n    [onChange]\r\n  );\r\n\r\n  return (\r\n    <div className={classes.search}>\r\n      <div className={classes.searchIcon}>\r\n        <SearchIcon />\r\n      </div>\r\n      <InputBase\r\n        placeholder=\"Search\"\r\n        classes={{\r\n          root: classes.inputRoot,\r\n          input: classes.inputInput,\r\n        }}\r\n        value={value}\r\n        inputProps={{ \"aria-label\": \"search\" }}\r\n        onChange={handleChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import React from \"react\";\r\n\r\nimport styled from \"styled-components/macro\";\r\nimport { spacing } from \"@material-ui/system\";\r\nimport {\r\n  Button as MuiButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\n\r\nconst Button = styled(MuiButton)(spacing);\r\n\r\nconst ConfirmDialog = React.memo((props) => {\r\n  const { text, open, onCancel, onConfirm } = props;\r\n\r\n  return (\r\n    <Dialog aria-labelledby=\"confirm-title\" open={open}>\r\n      <DialogTitle id=\"confirm-title\">Confirm</DialogTitle>\r\n      <DialogContent dividers>\r\n        <Typography variant=\"body1\">{text}</Typography>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onCancel} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={onConfirm}\r\n          color=\"secondary\"\r\n          variant=\"outlined\"\r\n          autoFocus\r\n        >\r\n          Confirm\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n});\r\n\r\nexport default ConfirmDialog;\r\n"],"sourceRoot":""}