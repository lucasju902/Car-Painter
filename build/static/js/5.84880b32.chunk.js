(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[5],{1117:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n(13),i=n(361),o=n(33),r=n(0),l=n(48),s=n.n(l),u=n(37),d=n(16),j=n(77),b=n(326),p=n(322),h=n(1065),m=n(324),O=n(1114),f=n(1104),x=n(1116),g=n(1069),C=n(1064),y=n(134),v=n(1088),w=n(421),I=n(1107),_=n(138),k=n(86),N=n(1077),M=n(1109),L=n(1075),B=n(1076),D=n(7),S=Object(o.c)(p.a).withConfig({displayName:"CreateProjectDialog__Button",componentId:"e1fbbf-0"})(b.b),R=Object(o.c)(I.a).withConfig({displayName:"CreateProjectDialog__Autocomplete",componentId:"e1fbbf-1"})(b.b),z=Object(o.c)(N.a).withConfig({displayName:"CreateProjectDialog__CustomDialogActions",componentId:"e1fbbf-2"})(["padding-right:24px;"]),P=Object(o.c)(g.a).withConfig({displayName:"CreateProjectDialog__NameField",componentId:"e1fbbf-3"})([".MuiInputBase-root{height:56px;}"]),A=function(e){var t=Object(r.useState)(null),n=Object(i.a)(t,2),o=n[0],l=n[1],u=Object(r.useState)(""),d=Object(i.a)(u,2),j=d[0],b=d[1],p=e.onContinue,h=e.onCancel,O=e.open,f=e.carMakeList,x=s.a.orderBy(Object(a.a)(f),["name","car_type"],["asc","asc"]);return Object(D.jsxs)(M.a,{"aria-labelledby":"project-select-title",open:O,children:[Object(D.jsx)(L.a,{id:"project-select-title",children:"Create a new paint"}),Object(D.jsx)(B.a,{dividers:!0,children:Object(D.jsxs)(m.a,{display:"flex",flexDirection:"column",children:[f&&f.length?Object(D.jsx)(R,{id:"car-make-select",options:x,groupBy:function(e){return e.car_type},getOptionLabel:function(e){return e.name},style:{width:500},mb:4,onChange:function(e,t){l(t)},renderInput:function(e){return Object(D.jsx)(g.a,Object(c.a)(Object(c.a)({},e),{},{label:"Select Vehicle",variant:"outlined"}))}}):Object(D.jsx)(D.Fragment,{}),Object(D.jsx)(P,{label:"Name",value:j,variant:"outlined",onChange:function(e){return b(e.target.value)}})]})}),Object(D.jsxs)(z,{children:[Object(D.jsx)(S,{onClick:h,color:"secondary",variant:"outlined",children:"Cancel"}),Object(D.jsx)(S,{onClick:function(){return p(o,j)},color:"primary",variant:"outlined",disabled:!o,children:"Continue"})]})]})},F=n(443),E=n(43),V=n(64),J=n(71),W=Object(o.c)(p.a).withConfig({displayName:"project__Button",componentId:"tmuuxz-0"})(b.b),T=Object(o.c)(I.a).withConfig({displayName:"project__Autocomplete",componentId:"tmuuxz-1"})(b.b),U=Object(o.c)(h.a).withConfig({displayName:"project__CustomFormControl",componentId:"tmuuxz-2"})([".MuiInputBase-root{height:38px;margin-right:10px;}"]),q=Object(o.c)(T).withConfig({displayName:"project__CustomAutocomplete",componentId:"tmuuxz-3"})([".MuiInputLabel-outlined{transform:translate(14px,12px) scale(1);&.MuiInputLabel-shrink{transform:translate(14px,-6px) scale(0.75);}}.MuiInputBase-root{padding-top:0;padding-bottom:0;}"]),G=Object(o.c)(w.a).withConfig({displayName:"project__CustomInfiniteScroll",componentId:"tmuuxz-4"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),H=o.c.img.withConfig({displayName:"project__CustomImg",componentId:"tmuuxz-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),K=Object(o.c)(m.a).withConfig({displayName:"project__Wrapper",componentId:"tmuuxz-6"})(["background-color:#444;border-radius:10px;"]),Q=Object(o.c)(m.a).withConfig({displayName:"project__ItemWrapper",componentId:"tmuuxz-7"})(["border:1px solid grey;cursor:pointer;"]);t.default=function(){var e=Object(u.d)(),t=Object(d.f)(),n=Object(u.e)((function(e){return e.authReducer.user})),o=Object(u.e)((function(e){return e.carMakeReducer.list})),l=Object(u.e)((function(e){return e.schemeReducer.list})),b=Object(u.e)((function(e){return e.schemeReducer.current})),p=Object(u.e)((function(e){return e.schemeReducer.loading})),h=Object(u.e)((function(e){return e.carMakeReducer.loading})),w=Object(r.useState)(),I=Object(i.a)(w,2),N=I[0],M=I[1],L=Object(r.useState)(15),B=Object(i.a)(L,2),S=B[0],R=B[1],z=Object(r.useState)(""),P=Object(i.a)(z,2),T=P[0],X=P[1],Y=Object(r.useState)(null),Z=Object(i.a)(Y,2),$=Z[0],ee=Z[1],te=Object(r.useState)(1),ne=Object(i.a)(te,2),ce=ne[0],ae=ne[1],ie=Object(r.useMemo)((function(){return s.a.orderBy(Object(a.a)(o),["name","car_type"],["asc","asc"])}),[o]),oe=Object(r.useMemo)((function(){return s.a.orderBy(l.filter((function(e){return(e.name.toLowerCase().includes(T.toLowerCase())||e.carMake.name.toLowerCase().includes(T.toLowerCase()))&&(!$||$.id===e.carMake.id)})),1===ce?["name"]:2===ce?["carMake.name"]:["date_modified"],1===ce||2===ce?["asc"]:["desc"])}),[l,T,$,ce]);Object(r.useEffect)((function(){n&&(l.length||e(Object(V.f)(n.id)),o.length||e(Object(J.b)()))}),[n]),Object(r.useEffect)((function(){b&&t.push("/scheme/".concat(b.id))}),[b]);return Object(D.jsx)(m.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:p||h||!l||!o?Object(D.jsx)(k.a,{}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(K,{display:"flex",flexDirection:"column",justifyContent:"flex-start",m:2,p:5,height:"calc(100% - 16px)",children:[Object(D.jsxs)(m.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",mb:3,children:[Object(D.jsx)(F.a,{value:T,onChange:function(e){return X(e)}}),Object(D.jsx)(W,{onClick:function(){M("CreateProjectDialog")},color:"default",variant:"outlined",startIcon:Object(D.jsx)(v.a,{}),children:"New"})]}),Object(D.jsxs)(m.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",mb:3,children:[Object(D.jsxs)(U,{variant:"outlined",children:[Object(D.jsx)(O.a,{id:"sort-label",children:"Sort By"}),Object(D.jsxs)(f.a,{labelId:"sort-label",value:ce,onChange:function(e){return ae(e.target.value)},label:"Sort By",children:[Object(D.jsx)(x.a,{value:1,children:"Project Name"}),Object(D.jsx)(x.a,{value:2,children:"Vehicle Name"}),Object(D.jsx)(x.a,{value:3,children:"Last Modified"})]})]}),o&&o.length?Object(D.jsx)(q,{id:"car-make-select",options:ie,groupBy:function(e){return e.car_type},getOptionLabel:function(e){return e.name},style:{width:500},onChange:function(e,t){ee(t)},renderInput:function(e){return Object(D.jsx)(g.a,Object(c.a)(Object(c.a)({},e),{},{label:"Filter By Vehicle",variant:"outlined"}))}}):Object(D.jsx)(D.Fragment,{})]}),Object(D.jsx)(m.a,{id:"scheme-list-content",overflow:"auto",position:"relative",children:Object(D.jsx)(G,{dataLength:S,next:function(){R(S+15)},hasMore:S<oe.length,loader:Object(D.jsx)(_.a,{}),scrollableTarget:"scheme-list-content",children:Object(D.jsx)(C.a,{container:!0,spacing:4,children:oe.slice(0,S).map((function(t){return Object(D.jsx)(C.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,onClick:function(){return n=t.id,console.log("Opening scheme: ",n),e(Object(V.e)(n)),void M(null);var n},children:Object(D.jsxs)(Q,{display:"flex",flexDirection:"column",children:[Object(D.jsx)(H,{src:(n=t.id,"".concat(j.a.assetsURL,"/scheme_thumbnails/").concat(n,".png")),alt:t.name}),Object(D.jsxs)(m.a,{display:"flex",flexDirection:"column",p:4,children:[Object(D.jsx)(y.a,{variant:"body1",children:t.name}),Object(D.jsxs)(y.a,{variant:"body2",children:["Edited"," ",Object(E.d)(t.date_modified)]}),Object(D.jsx)(y.a,{variant:"body2",children:t.carMake.name})]})]})},t.id);var n}))})})})]}),Object(D.jsx)(A,{carMakeList:o,open:"CreateProjectDialog"===N,onContinue:function(t,c){return function(t,c){e(Object(V.c)(t,c,n.id)),M(null)}(t,c)},onCancel:function(){return M(null)}})]})})}},443:function(e,t,n){"use strict";var c=n(19),a=(n(0),n(1067)),i=n(1111),o=n(576),r=n.n(o),l=n(7),s=Object(a.a)((function(e){return{search:Object(c.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},border:"1px solid #8A8A8A",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}}));t.a=function(e){var t=e.value,n=e.onChange,c=s();return Object(l.jsxs)("div",{className:c.search,children:[Object(l.jsx)("div",{className:c.searchIcon,children:Object(l.jsx)(r.a,{})}),Object(l.jsx)(i.a,{placeholder:"Search",classes:{root:c.inputRoot,input:c.inputInput},value:t,inputProps:{"aria-label":"search"},onChange:function(e){n(e.target.value)}})]})}}}]);
//# sourceMappingURL=5.84880b32.chunk.js.map