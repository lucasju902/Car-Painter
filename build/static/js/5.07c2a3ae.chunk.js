(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[5],{1114:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n(14),i=n(358),o=n(36),r=n(0),l=n.n(r),s=n(49),u=n.n(s),d=n(37),j=n(16),b=n(322),p=n(319),h=n(1065),f=n(347),m=n(1119),O=n(1109),x=n(1121),g=n(1069),C=n(1064),y=n(1090),v=n(420),w=n(1111),I=(n(408),n(80)),_=n(1078),k=n(1113),M=n(1077),D=n(1073),N=n(7),S=n(43),L=n(8),P=Object(o.c)(p.a).withConfig({displayName:"CreateProjectDialog__Button",componentId:"e1fbbf-0"})(b.b),B=Object(o.c)(w.a).withConfig({displayName:"CreateProjectDialog__Autocomplete",componentId:"e1fbbf-1"})(b.b),R=Object(o.c)(_.a).withConfig({displayName:"CreateProjectDialog__CustomDialogActions",componentId:"e1fbbf-2"})(["padding-right:24px;"]),A=Object(o.c)(g.a).withConfig({displayName:"CreateProjectDialog__NameField",componentId:"e1fbbf-3"})([".MuiInputBase-root{height:56px;}"]),z=function(e){var t=e.onContinue,n=e.onCancel,a=e.open,o=e.carMakeList,l=e.predefinedCarMakeID,s=Object(r.useState)(null),u=Object(i.a)(s,2),d=u[0],j=u[1],b=Object(r.useState)(""),p=Object(i.a)(b,2),h=p[0],m=p[1],O=Object(r.useState)(""),x=Object(i.a)(O,2),C=x[0],y=x[1],v=Object(r.useCallback)((function(){var e=h&&h.length?h:C;t(d,e)}),[d,h,C,t]),w=Object(r.useCallback)((function(e){13===e.keyCode&&d&&(e.preventDefault(),v())}),[d,v]);return Object(r.useEffect)((function(){if(l){var e=o.find((function(e){return e.id.toString()===l}));j(e)}}),[l]),Object(r.useEffect)((function(){if(a){var e=Object(S.k)(N.j.length);y(N.j[e[0]]+" "+N.j[e[1]]+" Paint")}}),[a]),Object(L.jsxs)(k.a,{"aria-labelledby":"project-select-title",open:a,children:[Object(L.jsx)(M.a,{id:"project-select-title",children:"Create a new paint"}),Object(L.jsx)(D.a,{dividers:!0,children:Object(L.jsxs)(f.a,{display:"flex",flexDirection:"column",children:[o&&o.length?Object(L.jsx)(B,{id:"car-make-select",value:d,options:o,groupBy:function(e){return e.car_type},getOptionLabel:function(e){return e.name},style:{width:500},mb:4,onChange:function(e,t){j(t)},onKeyDown:w,renderInput:function(e){return Object(L.jsx)(g.a,Object(c.a)(Object(c.a)({},e),{},{label:"Select Vehicle",variant:"outlined"}))}}):Object(L.jsx)(L.Fragment,{}),Object(L.jsx)(A,{label:"Name",value:h&&h.length?h:C,variant:"outlined",onChange:function(e){return m(e.target.value)},onKeyDown:w})]})}),Object(L.jsxs)(R,{children:[Object(L.jsx)(P,{onClick:n,color:"secondary",variant:"outlined",children:"Cancel"}),Object(L.jsx)(P,{onClick:v,color:"primary",variant:"outlined",disabled:!d,children:"Continue"})]})]})},E=l.a.memo(z),F=n(443),q=n(50),V=n(1024),J=n(134),K=n(346),T=n(1105),U=n(445),W=o.c.img.withConfig({displayName:"ProjectItem__CustomImg",componentId:"sc-1dqc2a0-0"})(["width:100%;height:100%;position:relative;object-fit:contain;cursor:pointer;"]),G=Object(o.c)(f.a).withConfig({displayName:"ProjectItem__ItemWrapper",componentId:"sc-1dqc2a0-1"})(["border:1px solid grey;"]),H=Object(o.c)(V.a).withConfig({displayName:"ProjectItem__StyledMenu",componentId:"sc-1dqc2a0-2"})([".MuiMenu-paper{border:1px solid grey;}"]),Q=function(e){var t,n=e.scheme,c=e.onDelete,a=e.onCloneProject,o=Object(r.useState)(null),l=Object(i.a)(o,2),s=l[0],u=l[1],d=Object(r.useState)(!1),b=Object(i.a)(d,2),p=b[0],h=b[1],m=Object(j.f)(),O=function(){u(null)};return Object(L.jsxs)(G,{display:"flex",flexDirection:"column",children:[Object(L.jsx)(W,{src:(t=n.id,"".concat(q.a.assetsURL,"/scheme_thumbnails/").concat(t,".png")),alt:n.name,onClick:function(){return e=n.id,void m.push("/scheme/".concat(e));var e}}),Object(L.jsxs)(f.a,{display:"flex",justifyContent:"space-between",children:[Object(L.jsxs)(f.a,{display:"flex",flexDirection:"column",p:4,children:[Object(L.jsx)(J.a,{variant:"body1",children:n.name}),Object(L.jsxs)(J.a,{variant:"body2",children:["Edited ",Object(S.g)(n.date_modified)]}),Object(L.jsx)(J.a,{variant:"body2",children:n.carMake.name})]}),Object(L.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(L.jsx)(K.a,{"aria-haspopup":"true","aria-controls":"action-menu-".concat(n.id),onClick:function(e){u(e.currentTarget)},children:Object(L.jsx)(T.a,{})}),Object(L.jsxs)(H,{id:"action-menu-".concat(n.id),elevation:0,getContentAnchorEl:null,anchorEl:s,keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},open:Boolean(s),onClose:O,children:[Object(L.jsx)(x.a,{onClick:function(){a(n.id),O()},children:"Clone"}),Object(L.jsx)(x.a,{onClick:function(){return h(!0)},children:"Delete"})]})]})]}),Object(L.jsx)(U.a,{text:'Are you sure to delete "'.concat(n.name,'"?'),open:p,onCancel:function(){return h(!1)},onConfirm:function(){c(n.id),O()}})]})},X=n(64),Y=n(93),Z=Object(o.c)(p.a).withConfig({displayName:"project__Button",componentId:"tmuuxz-0"})(b.b),$=Object(o.c)(w.a).withConfig({displayName:"project__Autocomplete",componentId:"tmuuxz-1"})(b.b),ee=Object(o.c)(h.a).withConfig({displayName:"project__CustomFormControl",componentId:"tmuuxz-2"})([".MuiInputBase-root{height:38px;margin-right:10px;}"]),te=Object(o.c)($).withConfig({displayName:"project__CustomAutocomplete",componentId:"tmuuxz-3"})([".MuiInputLabel-outlined{transform:translate(14px,12px) scale(1);&.MuiInputLabel-shrink{transform:translate(14px,-6px) scale(0.75);}}.MuiInputBase-root{padding-top:0;padding-bottom:0;}"]),ne=Object(o.c)(v.a).withConfig({displayName:"project__CustomInfiniteScroll",componentId:"tmuuxz-4"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),ce=Object(o.c)(f.a).withConfig({displayName:"project__Wrapper",componentId:"tmuuxz-5"})(["background-color:#444;border-radius:10px;"]);t.default=function(){var e=Object(d.d)(),t=Object(j.f)(),n=Object(d.e)((function(e){return e.authReducer.user})),o=Object(d.e)((function(e){return e.carMakeReducer.list})),l=Object(d.e)((function(e){return e.schemeReducer.list})),s=Object(d.e)((function(e){return e.schemeReducer.loading})),b=Object(d.e)((function(e){return e.carMakeReducer.loading})),p=Object(r.useState)(),h=Object(i.a)(p,2),v=h[0],w=h[1],_=Object(r.useState)(15),k=Object(i.a)(_,2),M=k[0],D=k[1],N=Object(r.useState)(""),S=Object(i.a)(N,2),P=S[0],B=S[1],R=Object(r.useState)(null),A=Object(i.a)(R,2),z=A[0],q=A[1],V=Object(r.useState)(3),J=Object(i.a)(V,2),K=J[0],T=J[1],U=Object(r.useState)(),W=Object(i.a)(U,2),G=W[0],H=W[1],$=Object(r.useMemo)((function(){return u.a.orderBy(Object(a.a)(o),["car_type","name"],["asc","asc"])}),[o]),ae=Object(r.useMemo)((function(){return u.a.orderBy(l.filter((function(e){return(e.name.toLowerCase().includes(P.toLowerCase())||e.carMake.name.toLowerCase().includes(P.toLowerCase()))&&(!z||z.id===e.carMake.id)})),1===K?["name"]:2===K?["carMake.name"]:["date_modified"],1===K||2===K?["asc"]:["desc"])}),[l,P,z,K]);Object(r.useEffect)((function(){if(n){l.length||e(Object(X.i)(n.id)),o.length||e(Object(Y.b)());var t=new URL(window.location.href).searchParams.get("make");t&&(H(t),w("CreateProjectDialog"))}}),[n]);var ie=function(e){t.push("/scheme/".concat(e))},oe=function(t){e(Object(X.g)(t))},re=function(t){e(Object(X.d)(t))};return Object(L.jsx)(f.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(ce,{display:"flex",flexDirection:"column",justifyContent:"flex-start",m:2,p:5,height:"calc(100% - 16px)",children:[Object(L.jsxs)(f.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",mb:3,children:[Object(L.jsx)(F.a,{value:P,onChange:function(e){return B(e)}}),Object(L.jsx)(Z,{onClick:function(){w("CreateProjectDialog")},color:"default",variant:"outlined",startIcon:Object(L.jsx)(y.a,{}),children:"New"})]}),Object(L.jsxs)(f.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",mb:3,children:[Object(L.jsxs)(ee,{variant:"outlined",children:[Object(L.jsx)(m.a,{id:"sort-label",children:"Sort By"}),Object(L.jsxs)(O.a,{labelId:"sort-label",value:K,onChange:function(e){return T(e.target.value)},label:"Sort By",children:[Object(L.jsx)(x.a,{value:1,children:"Project Name"}),Object(L.jsx)(x.a,{value:2,children:"Vehicle Name"}),Object(L.jsx)(x.a,{value:3,children:"Last Modified"})]})]}),o&&o.length?Object(L.jsx)(te,{id:"car-make-filter",options:$,groupBy:function(e){return e.car_type},getOptionLabel:function(e){return e.name},style:{width:500},onChange:function(e,t){q(t)},renderInput:function(e){return Object(L.jsx)(g.a,Object(c.a)(Object(c.a)({},e),{},{label:"Filter By Vehicle",variant:"outlined"}))}}):Object(L.jsx)(L.Fragment,{})]}),Object(L.jsx)(f.a,{id:"scheme-list-content",overflow:"auto",position:"relative",height:"100%",children:s||b||!l||!o?Object(L.jsx)(I.a,{}):Object(L.jsx)(ne,{dataLength:M,next:function(){D(M+15)},hasMore:M<ae.length,loader:Object(L.jsx)(I.a,{}),scrollableTarget:"scheme-list-content",children:Object(L.jsx)(C.a,{container:!0,spacing:4,children:ae.slice(0,M).map((function(e){return Object(L.jsx)(C.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,children:Object(L.jsx)(Q,{scheme:e,onDelete:oe,onCloneProject:re})},e.id)}))})})})]}),Object(L.jsx)(E,{carMakeList:$,predefinedCarMakeID:G,open:"CreateProjectDialog"===v,onContinue:function(t,c){return function(t,c){w(null),e(Object(X.e)(t,c,n.id,0,ie))}(t,c)},onCancel:function(){return w(null)}})]})})}},408:function(e,t,n){"use strict";var c=n(36),a=(n(0),n(1091)),i=n(8),o=c.c.div.withConfig({displayName:"Loader__Root",componentId:"sc-1gqft2x-0"})(["justify-content:center;align-items:center;display:flex;min-height:60px;"]);t.a=function(){return Object(i.jsx)(o,{children:Object(i.jsx)(a.a,{m:2,color:"secondary"})})}},443:function(e,t,n){"use strict";var c=n(18),a=n(0),i=n(1067),o=n(1116),r=n(577),l=n.n(r),s=n(8),u=Object(i.a)((function(e){return{search:Object(c.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},border:"1px solid #8A8A8A",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}}));t.a=function(e){var t=e.value,n=e.onChange,c=u(),i=Object(a.useCallback)((function(e){n(e.target.value)}),[n]);return Object(s.jsxs)("div",{className:c.search,children:[Object(s.jsx)("div",{className:c.searchIcon,children:Object(s.jsx)(l.a,{})}),Object(s.jsx)(o.a,{placeholder:"Search",classes:{root:c.inputRoot,input:c.inputInput},value:t,inputProps:{"aria-label":"search"},onChange:i})]})}},445:function(e,t,n){"use strict";var c=n(36),a=n(0),i=n.n(a),o=n(322),r=n(319),l=n(1113),s=n(1077),u=n(1073),d=n(134),j=n(1078),b=n(8),p=Object(c.c)(r.a).withConfig({displayName:"ConfirmDialog__Button",componentId:"sc-1cd3vhn-0"})(o.b),h=i.a.memo((function(e){var t=e.text,n=e.open,c=e.onCancel,a=e.onConfirm;return Object(b.jsxs)(l.a,{"aria-labelledby":"confirm-title",open:n,children:[Object(b.jsx)(s.a,{id:"confirm-title",children:"Confirm"}),Object(b.jsx)(u.a,{dividers:!0,children:Object(b.jsx)(d.a,{variant:"body1",children:t})}),Object(b.jsxs)(j.a,{children:[Object(b.jsx)(p,{onClick:c,color:"primary",children:"Cancel"}),Object(b.jsx)(p,{onClick:a,color:"secondary",variant:"outlined",autoFocus:!0,children:"Confirm"})]})]})}));t.a=h}}]);
//# sourceMappingURL=5.07c2a3ae.chunk.js.map