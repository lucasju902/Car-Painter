(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[6],{1083:function(e,t,n){"use strict";n.r(t);var c=n(367),r=n(0),o=n(36),i=n(13),a=n(320),l=n(78),j=n(31),u=n(322),s=n(318),d=n(1085),b=n(1072),O=n(1073),h=n(1075),p=n(6),f=Object(j.c)(s.a).withConfig({displayName:"ProjectSelectDialog__Button",componentId:"zubwo6-0"})(u.b),g=function(e){var t=e.onCreateProject,n=e.onOpenProject,c=e.onCancel,r=e.open;return Object(p.jsxs)(d.a,{"aria-labelledby":"project-select-title",open:r,children:[Object(p.jsx)(b.a,{id:"project-select-title",children:"Paint Builder"}),Object(p.jsx)(O.a,{dividers:!0,children:Object(p.jsxs)(a.a,{display:"flex",flexDirection:"column",children:[Object(p.jsx)(f,{onClick:t,color:"default",variant:"outlined",mb:1,children:"CREATE A NEW PAINT"}),Object(p.jsx)(f,{onClick:n,color:"default",variant:"outlined",children:"OPEN A PAINT BUILDER PROJECT"})]})}),Object(p.jsx)(h.a,{children:Object(p.jsx)(f,{onClick:c,color:"primary",children:"Cancel"})})]})},x=n(127),m=function(e){var t=(new Date).getTime()/1e3-new Date(e).getTime();if(t<60)return"".concat(Math.round(t)," seconds ago");var n=t/60;if(n<60)return"".concat(Math.round(n)," minutes ago");var c=n/60;if(c<24)return"".concat(Math.round(c)," hours ago");var r=c/24;return"".concat(Math.round(r)," days ago")},C=Object(j.c)(s.a).withConfig({displayName:"OpenProjectDialog__Button",componentId:"nso4l9-0"})(u.b),P=Object(j.c)(a.a).withConfig({displayName:"OpenProjectDialog__SchemeWrapper",componentId:"nso4l9-1"})(["cursor:pointer;padding:10px;:hover{background:rgba(255,255,255,0.1);}"]),v=function(e){var t=e.schemeList,n=e.onCreateProject,c=e.onOpenProject,r=e.onCancel,o=e.open;return Object(p.jsxs)(d.a,{"aria-labelledby":"project-select-title",open:o,children:[Object(p.jsx)(b.a,{id:"project-select-title",children:"Open a Paint Builder Project"}),Object(p.jsx)(O.a,{dividers:!0,children:Object(p.jsx)(a.a,{display:"flex",flexDirection:"column",children:t&&t.length?t.map((function(e){return Object(p.jsxs)(P,{onClick:function(){return c(e.id)},children:[Object(p.jsx)(x.a,{variant:"body1",children:e.name}),Object(p.jsxs)(x.a,{variant:"body2",children:["Last modified"," ",m(e.date_modified)]})]},e.id)})):Object(p.jsx)(p.Fragment,{})})}),Object(p.jsxs)(h.a,{children:[Object(p.jsx)(C,{onClick:r,color:"primary",children:"Cancel"}),Object(p.jsx)(C,{onClick:n,color:"default",variant:"outlined",mb:1,children:"NEW"})]})]})},y=n(25),D=n(17),k=n(229),w=n.n(k),E=n(1055),_=n(1084),I=Object(j.c)(s.a).withConfig({displayName:"CreateProjectDialog__Button",componentId:"e1fbbf-0"})(u.b),L=function(e){var t=Object(r.useState)(null),n=Object(c.a)(t,2),o=n[0],i=n[1],a=e.onContinue,l=e.onCancel,j=e.open,u=e.carMakeList,s=w.a.orderBy(Object(D.a)(u),["name","car_type"],["asc","asc"]);return Object(p.jsxs)(d.a,{"aria-labelledby":"project-select-title",open:j,children:[Object(p.jsx)(b.a,{id:"project-select-title",children:"Create a new paint"}),Object(p.jsx)(O.a,{dividers:!0,children:u&&u.length?Object(p.jsx)(_.a,{id:"car-make-select",options:s,groupBy:function(e){return e.car_type},getOptionLabel:function(e){return e.name},style:{width:500},onChange:function(e,t){i(t)},renderInput:function(e){return Object(p.jsx)(E.a,Object(y.a)(Object(y.a)({},e),{},{label:"SELECT VEHICLE",variant:"outlined"}))}}):Object(p.jsx)(p.Fragment,{})}),Object(p.jsxs)(h.a,{children:[Object(p.jsx)(I,{onClick:l,color:"primary",children:"Cancel"}),Object(p.jsx)(I,{onClick:function(){return a(o)},color:"default",variant:"outlined",mb:1,children:"Continue"})]})]})},N=n(133),R=n(64);t.default=function(){var e=Object(o.d)(),t=Object(i.f)(),n=Object(r.useState)("ProjectSelectDialog"),j=Object(c.a)(n,2),u=j[0],s=j[1],d=Object(o.e)((function(e){return e.authReducer.user})),b=Object(o.e)((function(e){return e.carMakeReducer.list})),O=Object(o.e)((function(e){return e.schemeReducer.list})),h=Object(o.e)((function(e){return e.schemeReducer.current})),f=Object(o.e)((function(e){return e.schemeReducer.loading})),x=Object(o.e)((function(e){return e.carMakeReducer.loading}));Object(r.useEffect)((function(){d&&(O.length||e(Object(N.f)(d.id)),b.length||e(Object(R.b)()))}),[d]),Object(r.useEffect)((function(){h&&t.push("/scheme/".concat(h.id))}),[h]);return Object(p.jsx)(a.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:f||x||!O||!b?Object(p.jsx)(l.a,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(g,{open:"ProjectSelectDialog"===u,onCreateProject:function(){return s("CreateProjectDialog")},onOpenProject:function(){return s("OpenProjectDialog")},onCancel:function(){return s(null)}}),Object(p.jsx)(v,{schemeList:O,open:"OpenProjectDialog"===u,onCreateProject:function(){return s("CreateProjectDialog")},onOpenProject:function(t){return n=t,console.log("Opening scheme: ",n),e(Object(N.e)(n)),void s(null);var n},onCancel:function(){return s("ProjectSelectDialog")}}),Object(p.jsx)(L,{carMakeList:b,open:"CreateProjectDialog"===u,onContinue:function(t){return function(t){console.log("Creating scheme with carmake: ",t),e(Object(N.c)(t,d.id)),s(null)}(t)},onCancel:function(){return s("ProjectSelectDialog")}})]})})}}}]);
//# sourceMappingURL=6.9ef0b061.chunk.js.map