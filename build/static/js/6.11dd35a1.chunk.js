(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[6],{1104:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a.n(r),o=a(3),c=a(14),i=a(6),l=a(19),s=a(359),d=a(33),u=a(0),j=a.n(u),b=a(49),h=a.n(b),O=a(37),f=a(588),y=a.n(f),p=a(81),g=a(16);function m(){if(1==arguments.length){var e=arguments[0];this.header=x(e),w(this.header),C(this.header)}}function x(e){return{idLength:_(e.idLength,0),colorMapType:_(e.colorMapType,0),imageType:_(e.imageType,m.Type.RGB),colorMapIndex:_(e.colorMapIndex,0),colorMapLength:_(e.colorMapLength,0),colorMapDepth:_(e.colorMapDepth,0),offsetX:_(e.offsetX,0),offsetY:_(e.offsetY,0),width:_(e.width,0),height:_(e.height,0),pixelDepth:_(e.pixelDepth,32),flags:_(e.flags,8)}}function _(e,t){return"undefined"!==typeof e?e:t}function w(e){e.hasEncoding=e.imageType===m.Type.RLE_INDEXED||e.imageType===m.Type.RLE_RGB||e.imageType===m.Type.RLE_GREY,e.hasColorMap=e.imageType===m.Type.RLE_INDEXED||e.imageType===m.Type.INDEXED,e.isGreyColor=e.imageType===m.Type.RLE_GREY||e.imageType===m.Type.GREY,e.bytePerPixel=e.pixelDepth>>3,e.origin=(e.flags&m.Origin.MASK)>>m.Origin.SHIFT,e.alphaBits=e.flags&m.Origin.ALPHA}function C(e){if(e.imageType===m.Type.NO_DATA)throw new Error("Targa::checkHeader() - No data");if(e.hasColorMap){if(e.colorMapLength>256||1!==e.colorMapType)throw new Error("Targa::checkHeader() - Unsupported colormap for indexed type");if(16!==e.colorMapDepth&&24!==e.colorMapDepth&&32!==e.colorMapDepth)throw new Error("Targa::checkHeader() - Unsupported colormap depth")}else if(e.colorMapType)throw new Error("Targa::checkHeader() - Why does the image contain a palette ?");if(e.width<=0||e.height<=0)throw new Error("Targa::checkHeader() - Invalid image size");if(8!==e.pixelDepth&&16!==e.pixelDepth&&24!==e.pixelDepth&&32!==e.pixelDepth)throw new Error('Targa::checkHeader() - Invalid pixel size "'+e.pixelDepth+'"');if(0!==e.alphaBits&&1!==e.alphaBits&&8!==e.alphaBits)throw new Error("Targa::checkHeader() - Unsuppported alpha size")}function v(e,t,a,r,n,o,c,i,l,s){var d,u,j,b,h,O,f=this.header.colorMapDepth>>3;for(b=0,O=n;O!==c;O+=o)for(h=i;h!==s;h+=l,b++)j=4*(h+r*O),u=t[b]*f,4===f?(e[j]=a[u+2],e[j+1]=a[u+1],e[j+2]=a[u],e[j+3]=a[u+3]):3===f?(e[j]=a[u+2],e[j+1]=a[u+1],e[j+2]=a[u],e[j+3]=255):2===f&&(d=a[u]|a[u+1]<<8,e[j]=(31744&d)>>7,e[j+1]=(992&d)>>2,e[j+2]=(31&d)<<3,e[j+3]=32768&d?0:255);return e}function k(e,t,a,r,n,o,c,i,l,s){var d,u,j,b,h;for(j=0,h=n;h!==c;h+=o)for(b=i;b!==s;b+=l,j+=2)d=t[j]|t[j+1]<<8,e[u=4*(b+r*h)]=(31744&d)>>7,e[u+1]=(992&d)>>2,e[u+2]=(31&d)<<3,e[u+3]=32768&d?0:255;return e}function L(e,t,a,r,n,o,c,i,l,s){var d,u,j,b,h=this.header.pixelDepth>>3;for(u=0,b=n;b!==c;b+=o)for(j=i;j!==s;j+=l,u+=h)e[(d=4*(j+r*b))+3]=255,e[d+2]=t[u],e[d+1]=t[u+1],e[d]=t[u+2];return e}function S(e,t,a,r,n,o,c,i,l,s){var d,u,j,b;for(d=0,j=n;j!==c;j+=o)for(u=i;u!==s;u+=l,d+=4)e[(b=4*(u+r*j))+2]=t[d],e[b+1]=t[d+1],e[b]=t[d+2],e[b+3]=t[d+3];return e}function R(e,t,a,r,n,o,c,i,l,s){var d,u,j,b,h;for(d=0,j=n;j!==c;j+=o)for(u=i;u!==s;u+=l,d+=4)b=4*(u+r*j),h=255*t[d+3],e[b+2]=t[d]/h,e[b+1]=t[d+1]/h,e[b]=t[d+2]/h,e[b+3]=t[d+3];return e}function I(e,t,a,r,n,o,c,i,l,s){var d,u,j,b,h;for(j=0,h=n;h!==c;h+=o)for(b=i;b!==s;b+=l,j++)d=t[j],e[u=4*(b+r*h)]=d,e[u+1]=d,e[u+2]=d,e[u+3]=255;return e}function T(e,t,a,r,n,o,c,i,l,s){var d,u,j,b,h;for(j=0,h=n;h!==c;h+=o)for(b=i;b!==s;b+=l,j+=2)d=t[j],e[u=4*(b+r*h)]=d,e[u+1]=d,e[u+2]=d,e[u+3]=t[j+1];return e}function D(e){var t=e.byteLength-m.FOOTER_SIZE,a=m.SIGNATURE,r={},n=new Uint8Array(e.buffer,t+8,a.length);return function(e){for(var t=m.SIGNATURE,a=0;a<t.length;a++)if(e.charCodeAt(a)!==t.charCodeAt(a))return!1;return!0}(String.fromCharCode.apply(null,n))?(r.hasFooter=!0,r.extensionOffset=e.getUint32(t,m.LITTLE_ENDIAN),r.developerOffset=e.getUint32(t+4,m.LITTLE_ENDIAN),r.hasExtensionArea=0!==r.extensionOffset,r.hasDeveloperArea=0!==r.developerOffset,r.extensionOffset&&(r.attributeType=e.getUint8(r.extensionOffset+494)),r):(r.hasFooter=!1,r)}m.Type={NO_DATA:0,INDEXED:1,RGB:2,GREY:3,RLE_INDEXED:9,RLE_RGB:10,RLE_GREY:11},m.Origin={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3,SHIFT:4,MASK:48,ALPHA:8},m.HEADER_SIZE=18,m.FOOTER_SIZE=26,m.LITTLE_ENDIAN=!0,m.RLE_BIT=128,m.RLE_MASK=127,m.RLE_PACKET=1,m.RAW_PACKET=2,m.SIGNATURE="TRUEVISION-XFILE.\0",m.prototype.open=function(e,t){var a,r=this;(a=new XMLHttpRequest).open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){200===this.status&&(r.arrayBuffer=a.response,r.load(r.arrayBuffer),t&&t.call(r))},a.send(null)},m.prototype.load=function(e){var t=new DataView(e);this.headerData=new Uint8Array(e,0,m.HEADER_SIZE),this.header=function(e){var t=m.LITTLE_ENDIAN;if(e.byteLength<18)throw new Error("Targa::load() - Not enough data to contain header");var a={};return a.idLength=e.getUint8(0),a.colorMapType=e.getUint8(1),a.imageType=e.getUint8(2),a.colorMapIndex=e.getUint16(3,t),a.colorMapLength=e.getUint16(5,t),a.colorMapDepth=e.getUint8(7),a.offsetX=e.getUint16(8,t),a.offsetY=e.getUint16(10,t),a.width=e.getUint16(12,t),a.height=e.getUint16(14,t),a.pixelDepth=e.getUint8(16),a.flags=e.getUint8(17),a}(t),w(this.header),C(this.header);var a=m.HEADER_SIZE;if((a+=this.header.idLength)>=e.byteLength)throw new Error("Targa::load() - No data");if(this.header.hasColorMap){var r=this.header.colorMapLength*(this.header.colorMapDepth>>3);this.palette=new Uint8Array(e,a,r),a+=r}var n=this.header.pixelDepth>>3,o=this.header.width*this.header.height,c=o*n;if(this.header.hasEncoding){var i=e.byteLength-a-m.FOOTER_SIZE,l=new Uint8Array(e,a,i);this.imageData=function(e,t,a){var r,n,o,c,i,l,s;for(s=new Uint8Array(a),l=new Uint8Array(t),i=0,r=0;r<a;)if(o=1+((n=e[i++])&m.RLE_MASK),n&m.RLE_BIT){for(c=0;c<t;++c)l[c]=e[i++];for(c=0;c<o;++c)s.set(l,r),r+=t}else for(o*=t,c=0;c<o;++c)s[r++]=e[i++];if(r>a)throw new Error("Targa::decodeRLE() - Read bytes: "+r+" Expected bytes: "+a);return s}(l,n,c)}else this.imageData=new Uint8Array(e,a,this.header.hasColorMap?o:c);this.footer=D(t),(0!==this.header.alphaBits||this.footer.hasExtensionArea&&(3===this.footer.attributeType||4===this.footer.attributeType))&&(this.footer.usesAlpha=!0)},m.prototype.getImageData=function(e){var t,a,r,n,o,c,i,l=this.header.width,s=this.header.height,d=(this.header.flags&m.Origin.MASK)>>m.Origin.SHIFT;switch(e||(e=document?document.createElement("canvas").getContext("2d").createImageData(l,s):{width:l,height:s,data:new Uint8ClampedArray(l*s*4)}),d===m.Origin.TOP_LEFT||d===m.Origin.TOP_RIGHT?(n=0,o=1,c=s):(n=s-1,o=-1,c=-1),d===m.Origin.TOP_LEFT||d===m.Origin.BOTTOM_LEFT?(t=0,a=1,r=l):(t=l-1,a=-1,r=-1),this.header.pixelDepth){case 8:i=this.header.isGreyColor?I:v;break;case 16:i=this.header.isGreyColor?T:k;break;case 24:i=L;break;case 32:i=this.footer.hasExtensionArea?3===this.footer.attributeType?S:4===this.footer.attributeType?R:L:0!==this.header.alphaBits?S:L}return i.call(this,e.data,this.imageData,this.palette,l,n,o,c,t,a,r),e},m.prototype.setImageData=function(e){if(!e)throw new Error("Targa::setImageData() - imageData argument missing");var t,a,r,n,o,c,i=this.header.width,l=this.header.height,s=i*l*(this.header.pixelDepth>>3),d=(this.header.flags&m.Origin.MASK)>>m.Origin.SHIFT;d===m.Origin.TOP_LEFT||d===m.Origin.TOP_RIGHT?(n=0,o=1,c=l):(n=l-1,o=-1,c=-1),d===m.Origin.TOP_LEFT||d===m.Origin.BOTTOM_LEFT?(t=0,a=1,r=i):(t=i-1,a=-1,r=-1),this.imageData||(this.imageData=new Uint8Array(s)),S(this.imageData,e.data,this.palette,i,n,o,c,t,a,r);var u=this.imageData;this.header.hasEncoding&&(u=function(e,t){for(var a,r,n,o,c=t,i=[],l=0,s=e.pixelDepth>>3,d=0,u=e.width*e.height*s,j=function(e,t){for(var a=0;a<s;a++)if(c[e*s+a]!==c[t*s+a])return!1;return!0},b=function(e){return j(e,e+1)?m.RLE_PACKET:m.RAW_PACKET};l*s<c.length&&l*s<u;){if(n=0,(r=b(l))===m.RLE_PACKET)for(;l+n<c.length&&n<128&&j(l,l+n);)n++;else for(;l+n<c.length&&n<128&&b(l+n)===m.RAW_PACKET;)n++;if(o=n-1,r===m.RLE_PACKET&&(o|=m.RLE_BIT),i[d++]=o,r===m.RLE_PACKET){for(a=0;a<s;a++)i[a+d]=c[a+l*s];d+=s}else{for(a=0;a<s*n;a++)i[a+d]=c[a+l*s];d+=s*n}l+=n}return new Uint8Array(i)}(this.header,u));var j=m.HEADER_SIZE+u.length+m.FOOTER_SIZE,b=new ArrayBuffer(j);this.arrayBuffer=b,this.headerData=new Uint8Array(b,0,m.HEADER_SIZE),this.RLEData=new Uint8Array(b,m.HEADER_SIZE,u.length),this.footerData=new Uint8Array(b,m.HEADER_SIZE+u.length,m.FOOTER_SIZE);var h=new DataView(this.headerData.buffer);!function(e,t){var a=m.LITTLE_ENDIAN;t.setUint8(0,e.idLength),t.setUint8(1,e.colorMapType),t.setUint8(2,e.imageType),t.setUint16(3,e.colorMapIndex,a),t.setUint16(5,e.colorMapLength,a),t.setUint8(7,e.colorMapDepth),t.setUint16(8,e.offsetX,a),t.setUint16(10,e.offsetY,a),t.setUint16(12,e.width,a),t.setUint16(14,e.height,a),t.setUint8(16,e.pixelDepth),t.setUint8(17,e.flags)}(this.header,h),this.RLEData.set(u),function(e){for(var t=m.SIGNATURE,a=e.byteLength-t.length,r=0;r<t.length;r++)e[a+r]=t.charCodeAt(r)}(this.footerData)},m.prototype.getCanvas=function(){var e,t,a;return a=(t=(e=document.createElement("canvas")).getContext("2d")).createImageData(this.header.width,this.header.height),e.width=this.header.width,e.height=this.header.height,t.putImageData(this.getImageData(a),0,0),e},m.prototype.getDataURL=function(e){return this.getCanvas().toDataURL(e||"image/png")},m.prototype.getBlobURL=function(){if(!this.arrayBuffer)throw new Error("Targa::getBlobURL() - No data available for blob");var e=new Blob([this.arrayBuffer],{type:"image/x-tga"});return URL.createObjectURL(e)};var E=m,F=a(322),M=a(8),B=a(80),A=a(34),N=a(324),P=a(133),U=a(348),Y=a(320),W=a(1057),X=a(1114),z=a(1058),G=a(1059),H=a(1060),K=a(1052),V=a(17),Z=Object(V.a)((function(e){return{tooltip:{backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:"rgba(0, 0, 0, 0.2)",fontSize:11},arrow:{color:"white"}}}))(K.a),J=a(1112),q=a(1055),Q=a(1056),$=a(7),ee=Object(d.c)(J.a).withConfig({displayName:"ZoomPopover__CustomOutlinedInput",componentId:"sc-72h4yq-0"})(["&.MuiOutlinedInput-root{width:100px !important;}.MuiOutlinedInput-input{padding:6px 14px;border-bottom:none;width:40px;}"]),te=function(e){var t=e.anchorEl,a=e.zoom,r=e.setZoom,n=e.onZoomIn,o=e.onZoomOut,c=e.onZoomFit,i=e.onClose,l=Object(u.useCallback)((function(e){r(parseInt(e.target.value||0)/100)}),[r]),s=Object(u.useCallback)((function(e){return e.target.select()}),[]),d=Object(u.useCallback)((function(){r(1)}),[r]);return Object($.jsx)(q.a,{open:Boolean(t),anchorEl:t,onClose:i,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",p:4,width:"200px",children:[Object($.jsxs)(F.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object($.jsx)(Y.a,{onClick:n,children:"Zoom in"}),Object($.jsx)(P.a,{variant:"body2",children:"Shift +"})]}),Object($.jsxs)(F.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object($.jsx)(Y.a,{onClick:o,children:"Zoom out"}),Object($.jsx)(P.a,{variant:"body2",children:"Shift -\xa0"})]}),Object($.jsxs)(F.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object($.jsx)(Y.a,{onClick:c,children:"Zoom to fit"}),Object($.jsx)(P.a,{variant:"body2",children:"Shift 9"})]}),Object($.jsxs)(F.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[Object($.jsx)(Y.a,{onClick:d,children:"Zoom to 100%"}),Object($.jsx)(P.a,{variant:"body2",children:"Shift 0"})]}),Object($.jsx)(ee,{id:"zoom-value",value:100*a,onChange:l,onFocus:s,endAdornment:Object($.jsx)(Q.a,{position:"end",children:"%"}),labelWidth:0,autoFocus:!0})]})})},ae=j.a.memo(te),re=Object(d.c)(P.a).withConfig({displayName:"Toolbar__Typography",componentId:"sc-1sow5sy-0"})(N.b),ne=Object(d.c)(W.a).withConfig({displayName:"Toolbar__ToggleButton",componentId:"sc-1sow5sy-1"})(N.b),oe=Object(d.c)(U.a).withConfig({displayName:"Toolbar__IconButton",componentId:"sc-1sow5sy-2"})(N.b),ce=d.c.div.withConfig({displayName:"Toolbar__Wrapper",componentId:"sc-1sow5sy-3"})(["width:100%;height:50px;display:flex;padding:10px 20px;background:#151515;z-index:1201;"]),ie=Object(d.c)(Y.a).withConfig({displayName:"Toolbar__ZoomButton",componentId:"sc-1sow5sy-4"})(["&.MuiButton-contained{color:#fff;background-color:rgba(255,255,255,0.12);}"]),le=j.a.memo((function(e){var t=e.onZoomIn,a=e.onZoomOut,r=e.onZoomFit,n=e.onChangePaintingGuides,o=e.onDownloadTGA,c=Object(u.useState)(null),i=Object(s.a)(c,2),l=i[0],d=i[1],j=Object(O.d)(),b=Object(O.e)((function(e){return e.boardReducer.paintingGuides})),h=Object(O.e)((function(e){return e.boardReducer.actionHistoryIndex})),f=Object(O.e)((function(e){return e.boardReducer.actionHistory})),y=Object(O.e)((function(e){return e.boardReducer.zoom})),p=Object(u.useCallback)((function(e,t){n(t)}),[n]),g=Object(u.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];j(e?Object(A.c)():Object(A.d)())}),[j]),m=Object(u.useCallback)((function(e){d(e.currentTarget)}),[d]),x=Object(u.useCallback)((function(){d(null)}),[d]),_=Object(u.useCallback)((function(e){j(Object(A.k)(e))}),[j]);return Object($.jsx)(ce,{children:Object($.jsxs)(F.a,{display:"flex",justifyContent:"space-between",alignContent:"center",width:"100%",children:[Object($.jsx)(F.a,{display:"flex",justifyContent:"start",alignContent:"center",children:Object($.jsxs)(X.a,{value:b,onChange:p,"aria-label":"Painting Guides",children:[Object($.jsx)(ne,{value:M.g.CARMASK,"aria-label":"car-mask",children:Object($.jsx)(Z,{title:"Toggle Car Mask Guide (HotKey: 1)",arrow:!0,children:Object($.jsx)(re,{variant:"caption",children:"car mask"})})}),Object($.jsx)(ne,{value:M.g.WIREFRAME,"aria-label":"wireframe",children:Object($.jsx)(Z,{title:"Toggle Wireframe Guide (HotKey: 2)",arrow:!0,children:Object($.jsx)(re,{variant:"caption",children:"wireframe"})})}),Object($.jsx)(ne,{value:M.g.SPONSORBLOCKS,"aria-label":"sponsor-blocks",children:Object($.jsx)(Z,{title:"Toggle Sponsor Blocks Guide (HotKey: 3)",arrow:!0,children:Object($.jsx)(re,{variant:"caption",children:"sponsor blocks"})})}),Object($.jsx)(ne,{value:M.g.NUMBERBLOCKS,"aria-label":"number-blocks",children:Object($.jsx)(Z,{title:"Toggle Number Blocks Guide (HotKey: 4)",arrow:!0,children:Object($.jsx)(re,{variant:"caption",children:"number blocks"})})}),Object($.jsx)(ne,{value:M.g.GRID,"aria-label":"grid",children:Object($.jsx)(Z,{title:"Toggle Grid Guide (HotKey: 5)",arrow:!0,children:Object($.jsx)(re,{variant:"caption",children:"grid"})})})]})}),Object($.jsxs)(F.a,{display:"flex",justifyContent:"flex-end",alignContent:"center",children:[Object($.jsx)(Y.a,{variant:"outlined",onClick:o,children:"Download TGA"}),Object($.jsx)(Z,{title:"Undo",arrow:!0,children:Object($.jsx)(oe,{disabled:-1===h,onClick:function(){return g(!0)},children:Object($.jsx)(z.a,{})})}),Object($.jsx)(Z,{title:"Redo",arrow:!0,children:Object($.jsx)(oe,{disabled:h===f.length-1,onClick:function(){return g(!1)},children:Object($.jsx)(G.a,{})})}),Object($.jsxs)(ie,{variant:"contained",endIcon:Object($.jsx)(H.a,{}),onClick:m,children:[(100*y).toFixed(2)," %"]}),Object($.jsx)(ae,{anchorEl:l,zoom:y,setZoom:_,onZoomIn:t,onZoomOut:a,onZoomFit:r,onClose:x})]})]})})})),se=a(590),de=a.n(se),ue=a(407),je=a(882),be=a(1061),he=a(1062),Oe=a(420),fe=a(630),ye=a(490),pe=a.n(ye),ge=a(42),me=function(e){var t=e.id,a=e.src,r=e.filterColor,c=e.frameSize,l=e.allowFit,d=e.layer_data,j=e.loadedStatus,b=e.onLoadLayer,h=e.tellSize,O=e.onSelect,f=e.onChange,y=e.onHover,p=Object(Oe.a)(e,["id","src","filterColor","frameSize","allowFit","layer_data","loadedStatus","onLoadLayer","tellSize","onSelect","onChange","onHover"]),g=Object(u.useRef)(null),m=Object(u.useRef)(),x=Object(u.useState)(null),_=Object(s.a)(x,2),w=_[0],C=_[1],v=[];r&&r.length&&v.push(pe.a.Filters.RGBA);var k=function(e){return g.current?Math.max(1,g.current.width/e.width(),g.current.height/e.height()):1};Object(u.useEffect)((function(){return!1!==j&&!0!==j&&b&&t&&b(t,!1),S(),function(){g.current&&g.current.removeEventListener("load",L)}}),[]),Object(u.useEffect)((function(){m.current&&(r&&r.length?m.current.cache({pixelRatio:k(m.current),imageSmoothingEnabled:!0}):m.current.clearCache())}),[r]);var L=function(){var e=Object(o.a)(n.a.mark((function e(){var o,i,s,d,u,j,O;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!l||g.current.width<=c.width/2&&g.current.height<=c.height/2?g.current.width:c.width/2,i=!l||g.current.width<=c.width/2&&g.current.height<=c.height/2?g.current.height:c.width/2*g.current.height/g.current.width,s=p.width||o,d=p.height||i,!a.toLowerCase().includes(".svg")||g.current.width&&g.current.height){e.next=19;break}return u=document.createElement("canvas"),j=u.getContext("2d"),e.next=9,fe.a.from(j,a,{enableRedraw:!0});case 9:return O=e.sent,console.log(O),s=s||O.documentElement.node.width.baseVal.value||200,d=d||O.documentElement.node.height.baseVal.value||200,O.resize(s,d,"none"),e.next=16,O.render();case 16:C(u),e.next=20;break;case 19:C(g.current);case 20:!f||p.width||p.height||f({left:Object(ge.j)(p.x-s/2),top:Object(ge.j)(p.y-d/2),width:Object(ge.j)(s),height:Object(ge.j)(d)}),r&&r.length&&m.current.cache({pixelRatio:k(m.current),imageSmoothingEnabled:!0}),h&&h({width:s,height:d}),b&&t&&b(t,!0);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(o.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new window.Image).src=a+"?timestamp=".concat((new Date).toISOString()),t.crossOrigin="anonymous",g.current=t,g.current.addEventListener("load",L);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsx)(ue.e,Object(i.a)(Object(i.a)({},p),{},{image:w,onClick:O,onTap:O,ref:m,draggable:f,filters:v.length?v:null,red:r&&r.length?Object(ge.i)(r).r:null,green:r&&r.length?Object(ge.i)(r).g:null,blue:r&&r.length?Object(ge.i)(r).b:null,alpha:r&&r.length?Object(ge.i)(r).a/255:null,onDragStart:function(e){O()},onDragEnd:function(e){f&&f({left:Object(ge.j)(e.target.x()),top:Object(ge.j)(e.target.y())})},onTransformEnd:function(e){if(f){var t=m.current,a=t.scaleX(),n=t.scaleY();console.log("scaleX, scaleY: ",a,n),t.scaleX(a>0?1:-1),t.scaleY(n>0?1:-1);var o=Math.abs(1!==Math.abs(Object(ge.j)(n))?n:a);f({left:Object(ge.j)(t.x()),top:Object(ge.j)(t.y()),width:Object(ge.j)(Math.max(1,t.width()*Math.abs(a))),height:Object(ge.j)(Math.max(1,t.height()*Math.abs(n))),rotation:Object(ge.j)(t.rotation())||0,flop:a>0?0:1,flip:n>0?0:1,shadowBlur:Object(ge.j)(t.shadowBlur()*o),shadowOffsetX:Object(ge.j)(d.shadowOffsetX*Math.abs(a)),shadowOffsetY:Object(ge.j)(d.shadowOffsetY*Math.abs(n))}),r&&r.length?t.cache({pixelRatio:k(m.current),imageSmoothingEnabled:!0}):t.clearCache()}},perfectDrawEnabled:!1,shadowForStrokeEnabled:!1,onMouseOver:function(){return p.listening&&y&&y(!0)},onMouseOut:function(){return p.listening&&y&&y(!1)}}))},xe=a(55),_e=function(e){var t=e.paintingGuides,a=e.currentCarMake,r=e.handleImageSize,n=e.frameSize,o=e.guideData,c=e.loadedStatuses,i=e.onLoadLayer,l=o.grid_padding||10,s=o.grid_stroke||.1;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(me,{id:"guide-wireframe",loadedStatus:c["guide-wireframe"],src:"".concat(xe.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/wireframe.png"),tellSize:r,filterColor:o.wireframe_color,opacity:o.wireframe_opacity,listening:!1,visible:!!t.includes(M.g.WIREFRAME),onLoadLayer:i}),Array.from(Array(Math.round(n.width/l)),(function(e,a){return Object($.jsx)(ue.g,{points:[Math.round(a*l),0,Math.round(a*l),n.width],stroke:o.grid_color||"#ddd",opacity:o.grid_opacity||1,strokeWidth:s,listening:!1,visible:!!t.includes(M.g.GRID)},"x-".concat(a))})),Array.from(Array(Math.round(n.height/l)),(function(e,a){return Object($.jsx)(ue.g,{points:[0,Math.round(a*l),n.height,Math.round(a*l)],stroke:o.grid_color||"#ddd",opacity:o.grid_opacity||1,strokeWidth:s,listening:!1,visible:!!t.includes(M.g.GRID)},"y-".concat(a))}))]})},we=j.a.memo(_e),Ce=function(e){var t=e.paintingGuides,a=e.currentCarMake,r=e.handleImageSize,n=e.guideData,o=e.loadedStatuses,c=e.onLoadLayer;return Object($.jsx)(me,{id:"guide-mask",loadedStatus:o["guide-mask"],src:"".concat(xe.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/mask.png"),tellSize:r,filterColor:n.carmask_color,opacity:n.carmask_opacity,listening:!1,visible:!!t.includes(M.g.CARMASK),onLoadLayer:c})},ve=j.a.memo(Ce),ke=function(e){var t=e.paintingGuides,a=e.currentCarMake,r=e.handleImageSize,n=e.guideData,o=e.loadedStatuses,c=e.onLoadLayer;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(me,{id:"guide-sponsorblocks",loadedStatus:o["guide-sponsorblocks"],src:"".concat(xe.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/sponsor_blocks.png"),tellSize:r,filterColor:n.sponsor_color,opacity:n.sponsor_opacity,listening:!1,visible:!!t.includes(M.g.SPONSORBLOCKS),onLoadLayer:c}),Object($.jsx)(me,{id:"guide-numberblocks",loadedStatus:o["guide-numberblocks"],src:"".concat(xe.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/number_blocks.png"),tellSize:r,filterColor:n.numberblock_color,opacity:n.numberblock_opacity,listening:!1,visible:!!t.includes(M.g.NUMBERBLOCKS),onLoadLayer:c})]})},Le=j.a.memo(ke),Se=function(e){var t=e.layers,a=e.currentCarMake,r=e.loadedStatuses,n=e.handleImageSize,o=e.onLoadLayer,c=Object(u.useMemo)((function(){return h.a.orderBy(t.filter((function(e){return e.layer_type===M.e.CAR})),["layer_order"],["desc"])}),[t]);return Object($.jsx)($.Fragment,{children:c.map((function(e){return Object($.jsx)(me,{id:e.id,src:xe.a.assetsURL+"/templates/"+a.folder_directory.replace(" ","_")+"/".concat(e.layer_data.img),filterColor:e.layer_data.color,listening:!1,visible:!!e.layer_visible,loadedStatus:r[e.id],onLoadLayer:o,tellSize:n},e.id)}))})},Re=j.a.memo(Se),Ie=function(e){var t=e.layers,a=e.carMake,r=e.loadedStatuses,n=e.handleImageSize,o=e.onLoadLayer,c=Object(u.useMemo)((function(){return h.a.orderBy(t.filter((function(e){return e.layer_type===M.e.BASE})),["layer_order","desc"])}),[t]);return Object($.jsx)($.Fragment,{children:c.map((function(e){return Object($.jsx)(me,{id:e.id,src:e.layer_data.id?"".concat(xe.a.assetsURL,"/bases/").concat(e.layer_data.id,"/").concat(e.layer_data.img):Object(ge.c)(a,e.layer_data.basePaintIndex)+e.layer_data.img,opacity:e.layer_data.opacity,filterColor:e.layer_data.color,listening:!1,visible:!!e.layer_visible,loadedStatus:r[e.id],tellSize:n,onLoadLayer:o},e.id)}))})},Te=j.a.memo(Ie),De=function(e){var t=e.layers,a=e.setCurrentLayer,r=e.frameSize,n=e.mouseMode,o=e.boardRotate,c=e.loadedStatuses,i=e.onChange,l=e.onHover,s=e.onLoadLayer,d=Object(u.useMemo)((function(){return h.a.orderBy(t.filter((function(e){return e.layer_type===M.e.OVERLAY})),["layer_order"],["desc"])}),[t]),j=Object(u.useCallback)((function(e){return Object(ge.h)(o,{x:e.layer_data.shadowOffsetX,y:e.layer_data.shadowOffsetY})}),[o]);return Object($.jsx)($.Fragment,{children:d.map((function(e){var t=j(e);return Object($.jsx)(me,{id:e.id,name:e.id.toString(),src:"".concat(xe.a.assetsURL,"/").concat(e.layer_data.source_file),x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),allowFit:!0,filterColor:e.layer_data.color,width:e.layer_data.width,height:e.layer_data.height,rotation:e.layer_data.rotation,boardRotate:o,loadedStatus:c[e.id],opacity:e.layer_data.opacity,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,skewX:e.layer_data.skewX,skewY:e.layer_data.skewY,shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:t.x,shadowOffsetY:t.y,onSelect:function(){return a(e)},listening:!e.layer_locked&&n===M.f.DEFAULT,frameSize:r,layer_data:e.layer_data,onChange:function(t){return i(e,t)},onHover:function(t){return l(e,t)},visible:!!e.layer_visible,onLoadLayer:s},e.id)}))})},Ee=j.a.memo(De),Fe=function(e){var t=e.id,a=e.fontFamily,r=e.fontFile,n=e.loadedFontList,o=(e.loadedList,e.shadowColor),c=e.shadowBlur,l=e.shadowOpacity,d=e.shadowOffsetX,j=e.shadowOffsetY,b=e.onLoadLayer,h=e.onSelect,O=e.onChange,f=e.onFontLoad,y=e.onHover,p=Object(Oe.a)(e,["id","fontFamily","fontFile","loadedFontList","loadedList","shadowColor","shadowBlur","shadowOpacity","shadowOffsetX","shadowOffsetY","onLoadLayer","onSelect","onChange","onFontLoad","onHover"]),g=Object(u.useState)(null),m=Object(s.a)(g,2),x=m[0],_=m[1],w=Object(u.useRef)();Object(u.useEffect)((function(){a&&r&&(n.includes(a)?(_(a),b&&t&&b(t,!0)):C())}),[a,r]);var C=function(){new FontFace(a,r).load().then((function(e){document.fonts.add(e),f(a),_(a),b&&t&&b(t,!0)})).catch((function(e){console.warn(e,a)}))};return Object($.jsx)(ue.m,Object(i.a)(Object(i.a)({},p),{},{fontFamily:x,onClick:h,onTap:h,ref:w,shadowColor:w.current?o:null,shadowBlur:w.current?c:null,shadowOpacity:w.current?l:null,shadowOffsetX:w.current?d:null,shadowOffsetY:w.current?j:null,draggable:O,onDragStart:function(e){h()},onDragEnd:function(e){if(O){var t=w.current;O({left:Object(ge.j)(e.target.x()),top:Object(ge.j)(e.target.y()),width:Object(ge.j)(Math.max(5,t.width())),height:Object(ge.j)(Math.max(5,t.height()))})}},onTransformEnd:function(e){if(O){var t=w.current,a=t.scaleX(),r=t.scaleY();O({left:Object(ge.j)(t.x()),top:Object(ge.j)(t.y()),width:Object(ge.j)(Math.max(5,t.width())),height:Object(ge.j)(Math.max(5,t.height())),rotation:Object(ge.j)(t.rotation())||0,scaleX:Object(ge.j)(Math.max(.01,a)),scaleY:Object(ge.j)(Math.max(.01,r)),flop:a>0?0:1,flip:r>0?0:1})}},perfectDrawEnabled:!1,shadowForStrokeEnabled:!1,onMouseOver:function(){return p.listening&&y&&y(!0)},onMouseOut:function(){return p.listening&&y&&y(!1)}}))},Me=function(e){var t=e.layers,a=e.loadedFontList,r=e.loadedStatuses,n=e.fonts,o=e.frameSize,c=e.mouseMode,i=e.setCurrentLayer,l=e.boardRotate,s=e.onChange,d=e.onFontLoad,j=e.onHover,b=e.onLoadLayer,O=Object(u.useMemo)((function(){return h.a.orderBy(t.filter((function(e){return e.layer_type===M.e.LOGO||e.layer_type===M.e.UPLOAD||e.layer_type===M.e.TEXT})),["layer_order"],["desc"])}),[t]),f=Object(u.useCallback)((function(e){return n.length?n.find((function(t){return t.id===e.layer_data.font})):{}}),[n]),y=Object(u.useCallback)((function(e){return Object(ge.h)(l,{x:e.layer_data.shadowOffsetX,y:e.layer_data.shadowOffsetY})}),[l]);return Object($.jsx)($.Fragment,{children:O.map((function(e){var t=y(e);if(e.layer_type!==M.e.TEXT)return Object($.jsx)(me,{id:e.id,name:e.id.toString(),src:"".concat(xe.a.assetsURL,"/").concat(e.layer_data.source_file),loadedStatus:r[e.id],x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),allowFit:!0,width:e.layer_data.width,height:e.layer_data.height,frameSize:o,rotation:e.layer_data.rotation,boardRotate:l,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:t.x,shadowOffsetY:t.y,skewX:e.layer_data.skewX,skewY:e.layer_data.skewY,opacity:e.layer_data.opacity,layer_data:e.layer_data,onSelect:function(){return i(e)},listening:!e.layer_locked&&c===M.f.DEFAULT,onChange:function(t){return s(e,t)},onHover:function(t){return j(e,t)},visible:!!e.layer_visible,onLoadLayer:b},e.id);var n=f(e);return Object($.jsx)(Fe,{id:e.id,name:e.id.toString(),text:e.layer_data.text,fontFamily:n.font_name,fontFile:n.font_file?"url(".concat(xe.a.assetsURL,"/").concat(n.font_file,")"):null,loadedFontList:a,loadedStatus:r[e.id],onFontLoad:d,fontSize:e.layer_data.size,fill:e.layer_data.color,strokeWidth:e.layer_data.stroke,stroke:e.layer_data.scolor,strokeEnabled:!0,x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),skewX:e.layer_data.skewX,skewY:e.layer_data.skewY,offsetX:0,offsetY:0,opacity:e.layer_data.opacity,rotation:e.layer_data.rotation,scaleX:(e.layer_data.scaleX||1)*(1===e.layer_data.flop?-1:1),scaleY:(e.layer_data.scaleY||1)*(1===e.layer_data.flip?-1:1),shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:t.x,shadowOffsetY:t.y,visible:!!e.layer_visible,onSelect:function(){return i(e)},listening:!e.layer_locked&&c===M.f.DEFAULT,onChange:function(t){return s(e,t)},onHover:function(t){return j(e,t)},onLoadLayer:b},e.id)}))})},Be=j.a.memo(Me),Ae=function(e){var t=e.id,a=e.type,r=e.x,n=e.y,o=e.width,c=e.height,l=e.radius,s=e.points,d=e.lineCap,j=e.lineJoin,b=e.offsetsFromStroke,O=e.pointerLength,f=e.pointerWidth,y=e.innerRadius,p=e.outerRadius,g=e.cornerRadius,m=e.numPoints,x=e.angle,_=e.onSelect,w=e.onChange,C=e.onHover,v=e.shadowColor,k=e.shadowBlur,L=e.shadowOpacity,S=e.shadowOffsetX,R=e.shadowOffsetY,I=e.layer_data,T=e.onLoadLayer,D=Object(Oe.a)(e,["id","type","x","y","width","height","radius","points","lineCap","lineJoin","offsetsFromStroke","pointerLength","pointerWidth","innerRadius","outerRadius","cornerRadius","numPoints","angle","onSelect","onChange","onHover","shadowColor","shadowBlur","shadowOpacity","shadowOffsetX","shadowOffsetY","layer_data","onLoadLayer"]),E=Object(u.useRef)(),F=function(e){_()},B=function(e){if(w){var t=M.a[M.e.SHAPE][a];w(h.a.pick({left:Object(ge.j)(e.target.x()-b.x),top:Object(ge.j)(e.target.y()-b.y)},t.filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")}))))}},A=function(e){if(w){var t=M.a[M.e.SHAPE][a],r=E.current,n=r.scaleX(),o=r.scaleY(),c=a!==M.f.ELLIPSE?r.width():r.radiusX(),i=a!==M.f.ELLIPSE?r.height():r.radiusY(),l=Math.abs(1!==Math.abs(Object(ge.j)(o))?o:n);r.scaleX(n>0?1:-1),r.scaleY(o>0?1:-1),w(h.a.pick({left:Object(ge.j)(r.x()-b.x),top:Object(ge.j)(r.y()-b.y),width:Object(ge.j)(Math.max(1,c*Math.abs(n))-b.width),height:Object(ge.j)(Math.max(1,i*Math.abs(o))-b.height),radius:r.radius?Object(ge.j)(Math.max(1,r.radius()*Math.abs(o))-b.radius):0,innerRadius:r.innerRadius?Object(ge.j)(Math.max(1,r.innerRadius()*Math.abs(o))-b.innerRadius):0,outerRadius:r.outerRadius?Object(ge.j)(Math.max(1,r.outerRadius()*Math.abs(o))-b.outerRadius):0,rotation:Object(ge.j)(r.rotation())||0,flop:n>0?0:1,flip:o>0?0:1,stroke:Object(ge.j)(r.strokeWidth()*l),shadowBlur:Object(ge.j)(r.shadowBlur()*l),shadowOffsetX:Object(ge.j)(I.shadowOffsetX*Math.abs(n)),shadowOffsetY:Object(ge.j)(I.shadowOffsetY*Math.abs(o)),cornerTopLeft:Object(ge.j)(I.cornerTopLeft*l),cornerTopRight:Object(ge.j)(I.cornerTopRight*l),cornerBottomLeft:Object(ge.j)(I.cornerBottomLeft*l),cornerBottomRight:Object(ge.j)(I.cornerBottomRight*l),points:s.map((function(e,t){return t%2===0?Object(ge.j)(e*Math.abs(n)):Object(ge.j)(e*Math.abs(o))}))},t.filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")}))))}};return Object(u.useEffect)((function(){T&&t&&T(t,!0)}),[]),Object($.jsx)($.Fragment,{children:a===M.f.RECT?Object($.jsx)(ue.h,Object(i.a)(Object(i.a)({},D),{},{ref:E,shadowColor:E.current?v:null,shadowBlur:E.current?k:null,shadowOpacity:E.current?L:null,shadowOffsetX:E.current?S:null,shadowOffsetY:E.current?R:null,cornerRadius:g,x:r,y:n,width:o,height:c,draggable:w,onClick:_,onDragStart:F,onDragEnd:B,onTransformEnd:A,shadowForStrokeEnabled:!1,onMouseOver:function(){return D.listening&&C&&C(!0)},onMouseOut:function(){return D.listening&&C&&C(!1)}})):a===M.f.CIRCLE?Object($.jsx)(ue.c,Object(i.a)(Object(i.a)({},D),{},{ref:E,x:r,y:n,radius:l,shadowColor:E.current?v:null,shadowBlur:E.current?k:null,shadowOpacity:E.current?L:null,shadowOffsetX:E.current?S:null,shadowOffsetY:E.current?R:null,draggable:w,onClick:_,onDragStart:F,onDragEnd:B,onTransformEnd:A,shadowForStrokeEnabled:!1,onMouseOver:function(){return D.listening&&C&&C(!0)},onMouseOut:function(){return D.listening&&C&&C(!1)}})):a===M.f.ELLIPSE?Object($.jsx)(ue.d,Object(i.a)(Object(i.a)({},D),{},{ref:E,x:r,y:n,radiusX:o,radiusY:c,shadowColor:E.current?v:null,shadowBlur:E.current?k:null,shadowOpacity:E.current?L:null,shadowOffsetX:E.current?S:null,shadowOffsetY:E.current?R:null,draggable:w,onClick:_,onDragStart:F,onDragEnd:B,onTransformEnd:A,shadowForStrokeEnabled:!1,onMouseOver:function(){return D.listening&&C&&C(!0)},onMouseOut:function(){return D.listening&&C&&C(!1)}})):a===M.f.STAR?Object($.jsx)(ue.l,Object(i.a)(Object(i.a)({},D),{},{ref:E,x:r,y:n,innerRadius:y,outerRadius:p,numPoints:m,shadowColor:E.current?v:null,shadowBlur:E.current?k:null,shadowOpacity:E.current?L:null,shadowOffsetX:E.current?S:null,shadowOffsetY:E.current?R:null,draggable:w,onClick:_,onDragStart:F,onDragEnd:B,onTransformEnd:A,shadowForStrokeEnabled:!1,onMouseOver:function(){return D.listening&&C&&C(!0)},onMouseOut:function(){return D.listening&&C&&C(!1)}})):a===M.f.RING?Object($.jsx)(ue.j,Object(i.a)(Object(i.a)({},D),{},{ref:E,x:r,y:n,innerRadius:y,outerRadius:p,shadowColor:E.current?v:null,shadowBlur:E.current?k:null,shadowOpacity:E.current?L:null,shadowOffsetX:E.current?S:null,shadowOffsetY:E.current?R:null,draggable:w,onClick:_,onDragStart:F,onDragEnd:B,onTransformEnd:A,shadowForStrokeEnabled:!1,onMouseOver:function(){return D.listening&&C&&C(!0)},onMouseOut:function(){return D.listening&&C&&C(!1)}})):a===M.f.REGULARPOLYGON?Object($.jsx)(ue.i,Object(i.a)(Object(i.a)({},D),{},{ref:E,x:r,y:n,radius:l,sides:m,shadowColor:E.current?v:null,shadowBlur:E.current?k:null,shadowOpacity:E.current?L:null,shadowOffsetX:E.current?S:null,shadowOffsetY:E.current?R:null,draggable:w,onClick:_,onDragStart:F,onDragEnd:B,onTransformEnd:A,shadowForStrokeEnabled:!1,onMouseOver:function(){return D.listening&&C&&C(!0)},onMouseOut:function(){return D.listening&&C&&C(!1)}})):a===M.f.WEDGE?Object($.jsx)(ue.o,Object(i.a)(Object(i.a)({},D),{},{ref:E,x:r,y:n,radius:l,angle:x,shadowColor:E.current?v:null,shadowBlur:E.current?k:null,shadowOpacity:E.current?L:null,shadowOffsetX:E.current?S:null,shadowOffsetY:E.current?R:null,draggable:w,onClick:_,onDragStart:F,onDragEnd:B,onTransformEnd:A,shadowForStrokeEnabled:!1,onMouseOver:function(){return D.listening&&C&&C(!0)},onMouseOut:function(){return D.listening&&C&&C(!1)}})):a===M.f.ARC?Object($.jsx)(ue.a,Object(i.a)(Object(i.a)({},D),{},{ref:E,x:r,y:n,innerRadius:y,outerRadius:p,angle:x,shadowColor:E.current?v:null,shadowBlur:E.current?k:null,shadowOpacity:E.current?L:null,shadowOffsetX:E.current?S:null,shadowOffsetY:E.current?R:null,draggable:w,onClick:_,onDragStart:F,onDragEnd:B,onTransformEnd:A,shadowForStrokeEnabled:!1,onMouseOver:function(){return D.listening&&C&&C(!0)},onMouseOut:function(){return D.listening&&C&&C(!1)}})):a===M.f.LINE||a===M.f.PEN?Object($.jsx)(ue.g,Object(i.a)(Object(i.a)({},D),{},{ref:E,x:r,y:n,points:s,lineCap:d,lineJoin:j,shadowColor:E.current?v:null,shadowBlur:E.current?k:null,shadowOpacity:E.current?L:null,shadowOffsetX:E.current?S:null,shadowOffsetY:E.current?R:null,draggable:w,onClick:_,onDragStart:F,onDragEnd:B,onTransformEnd:A,onMouseOver:function(){return D.listening&&C&&C(!0)},onMouseOut:function(){return D.listening&&C&&C(!1)}})):a===M.f.POLYGON?Object($.jsx)(ue.g,Object(i.a)(Object(i.a)({},D),{},{ref:E,x:r,y:n,points:s,lineCap:d,lineJoin:j,shadowColor:E.current?v:null,shadowBlur:E.current?k:null,shadowOpacity:E.current?L:null,shadowOffsetX:E.current?S:null,shadowOffsetY:E.current?R:null,draggable:w,closed:!0,onClick:_,onDragStart:F,onDragEnd:B,onTransformEnd:A,onMouseOver:function(){return D.listening&&C&&C(!0)},onMouseOut:function(){return D.listening&&C&&C(!1)}})):a===M.f.ARROW?Object($.jsx)(ue.b,Object(i.a)(Object(i.a)({},D),{},{ref:E,x:r,y:n,points:s,lineCap:d,lineJoin:j,pointerLength:O,pointerWidth:f,shadowColor:E.current?v:null,shadowBlur:E.current?k:null,shadowOpacity:E.current?L:null,shadowOffsetX:E.current?S:null,shadowOffsetY:E.current?R:null,draggable:w,onClick:_,onDragStart:F,onDragEnd:B,onTransformEnd:A,onMouseOver:function(){return D.listening&&C&&C(!0)},onMouseOut:function(){return D.listening&&C&&C(!1)}})):Object($.jsx)($.Fragment,{})})},Ne=function(e){var t=e.layers,a=e.drawingLayer,r=e.setCurrentLayer,n=e.boardRotate,o=e.mouseMode,c=e.loadedStatuses,i=e.onChange,l=e.onHover,s=e.onLoadLayer,d=Object(u.useMemo)((function(){return h.a.orderBy(t.filter((function(e){return e.layer_type===M.e.SHAPE})),["layer_order"],["desc"])}),[t]),j=Object(u.useCallback)((function(e){return Object(ge.h)(n,{x:e.layer_data.shadowOffsetX,y:e.layer_data.shadowOffsetY})}),[n]),b=Object(u.useCallback)((function(e){return"inside"===e.layer_data.strokeType?{x:[M.f.RECT,M.f.ELLIPSE].includes(e.layer_type)?e.layer_data.stroke/2:0,y:[M.f.RECT,M.f.ELLIPSE].includes(e.layer_type)?e.layer_data.stroke/2:0,height:-e.layer_data.stroke/2,width:-e.layer_data.stroke/2,radius:-e.layer_data.stroke/2,pointerLength:-e.layer_data.stroke/2,pointerWidth:-e.layer_data.stroke/2,innerRadius:e.layer_data.stroke/2,outerRadius:-e.layer_data.stroke/2}:"outside"===e.layer_data.strokeType?{x:[M.f.RECT,M.f.ELLIPSE].includes(e.layer_type)?-e.layer_data.stroke/2:0,y:[M.f.RECT,M.f.ELLIPSE].includes(e.layer_type)?-e.layer_data.stroke/2:0,height:e.layer_data.stroke/2,width:e.layer_data.stroke/2,radius:e.layer_data.stroke/2,pointerLength:e.layer_data.stroke/2,pointerWidth:e.layer_data.stroke/2,innerRadius:-e.layer_data.stroke/2,outerRadius:e.layer_data.stroke/2}:{x:0,y:0,height:0,width:0,radius:0,pointerLength:0,pointerWidth:0,innerRadius:0,outerRadius:0}}),[]);return Object($.jsxs)($.Fragment,{children:[d.map((function(e){var t=j(e),a=b(e);return Object($.jsx)(Ae,{id:e.id,type:e.layer_data.type,x:parseFloat(e.layer_data.left+a.x||0),y:parseFloat(e.layer_data.top+a.y||0),width:Math.abs(e.layer_data.width+a.width),height:Math.abs(e.layer_data.height+a.height),radius:Math.abs(e.layer_data.radius+a.radius),offsetsFromStroke:a,points:e.layer_data.points?Object(ge.n)(e.layer_data.points):[],loadedStatus:c[e.id],pointerLength:Math.abs(e.layer_data.pointerLength+a.pointerLength),pointerWidth:Math.abs(e.layer_data.pointerWidth+a.pointerWidth),lineCap:e.layer_data.lineCap,lineJoin:e.layer_data.lineJoin,innerRadius:Math.abs(e.layer_data.innerRadius+a.innerRadius),outerRadius:Math.abs(e.layer_data.outerRadius+a.outerRadius),numPoints:e.layer_data.numPoints,cornerRadius:[e.layer_data.cornerTopLeft,e.layer_data.cornerTopRight,e.layer_data.cornerBottomLeft,e.layer_data.cornerBottomRight],rotation:e.layer_data.rotation,angle:e.layer_data.angle,opacity:e.layer_data.opacity,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:t.x,shadowOffsetY:t.y,skewX:e.layer_data.skewX,skewY:e.layer_data.skewY,fill:e.layer_data.color,strokeWidth:e.layer_data.stroke,stroke:e.layer_data.scolor,strokeEnabled:!0,globalCompositeOperation:"normal"===e.layer_data.blendType?null:e.layer_data.blendType,name:e.id.toString(),visible:!!e.layer_visible,layer_data:e.layer_data,perfectDrawEnabled:!1,onSelect:function(){return r(e)},listening:!e.layer_locked&&o===M.f.DEFAULT,onChange:function(t){return i(e,t)},onHover:function(t){return l(e,t)},onLoadLayer:s},e.id)})),a?Object($.jsx)(Ae,{type:a.layer_data.type,x:parseFloat(a.layer_data.left||0),y:parseFloat(a.layer_data.top||0),width:a.layer_data.width,height:a.layer_data.height,radius:Math.abs(a.layer_data.radius),angle:a.layer_data.angle,points:a.layer_data.points?Object(ge.n)(a.layer_data.points):[],pointerLength:a.layer_data.pointerLength,pointerWidth:a.layer_data.pointerWidth,lineCap:a.layer_data.lineCap,lineJoin:a.layer_data.lineJoin,innerRadius:Math.abs(a.layer_data.innerRadius),outerRadius:Math.abs(a.layer_data.outerRadius),numPoints:a.layer_data.numPoints,fill:a.layer_data.color,strokeWidth:a.layer_data.stroke,stroke:a.layer_data.scolor,strokeEnabled:!0,layer_data:a.layer_data,perfectDrawEnabled:!1}):Object($.jsx)($.Fragment,{})]})},Pe=j.a.memo(Ne),Ue=function(e){var t=e.selectedLayer,a=e.pressedKey,r=e.hoveredTransform,n=Object(u.useRef)(),o=Object(u.useMemo)((function(){return t&&(t.layer_data.sizeLocked||t.layer_data.scaleLocked||[M.f.CIRCLE,M.f.STAR,M.f.RING,M.f.REGULARPOLYGON,M.f.WEDGE,M.f.ARC].includes(t.layer_data.type)||"shift"===a)}),[t,a]);Object(u.useEffect)((function(){!function(){if(t){var e=n.current.getStage().findOne("."+t.id);if(e===n.current.node())return;e?n.current.nodes([e]):n.current.detach(),n.current.getLayer().batchDraw()}}()}));var c=function(e,t){return function(e,t,a){var r=Math.round(a.x+(e.x-a.x)*Math.cos(t)-(e.y-a.y)*Math.sin(t)),n=Math.round(a.y+(e.x-a.x)*Math.sin(t)+(e.y-a.y)*Math.cos(t));return Object(i.a)(Object(i.a)({},e),{},{rotation:e.rotation+t,x:r,y:n})}(e,t,function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e))};return t?Object($.jsx)(ue.n,{ref:n,keepRatio:o,enabledAnchors:r?[]:o?["top-left","top-right","bottom-left","bottom-right"]:["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],rotateEnabled:!r,boundBoxFunc:function(e,t){var r=function(e){var t=e<0?2*Math.PI+e:e,a=Math.PI/12;return Math.round(t/a)*a}(t.rotation)-e.rotation;return"shift"===a?t.rotation-e.rotation===0?t:Math.abs(r)>0?c(e,r):e:t},borderStroke:r?"red":null}):Object($.jsx)($.Fragment,{})},Ye=a(139),We=a(40),Xe=Object(d.c)(U.a).withConfig({displayName:"Board__IconButton",componentId:"sc-13eabpa-0"})(N.b),ze=Object(d.c)(Xe).withConfig({displayName:"Board__RotationButton",componentId:"sc-13eabpa-1"})(["background:black;border-radius:0;&:hover{background:#444;}"]),Ge=function(e){var t,a=e.hoveredLayerJSON,r=e.onChangeHoverJSONItem,n=e.onChangeBoardRotation,o=e.stageRef,d=e.baseLayerRef,j=e.mainLayerRef,b=e.carMaskLayerRef,h=Object(u.useState)({}),f=Object(s.a)(h,2),y=f[0],p=f[1],g=Object(u.useRef)(null),m=Object(u.useRef)(0),x=Object(u.useRef)(0),_=Object(u.useState)(0),w=Object(s.a)(_,2),C=w[0],v=w[1],k=Object(O.d)(),L=Object(je.a)(),S=L.width,R=L.height,I=L.ref,T=Object(O.e)((function(e){return e.boardReducer.frameSize})),D=Object(O.e)((function(e){return e.boardReducer.zoom})),E=Object(O.e)((function(e){return e.boardReducer.paintingGuides})),N=Object(O.e)((function(e){return e.boardReducer.pressedKey})),P=Object(O.e)((function(e){return e.boardReducer.boardRotate})),U=Object(O.e)((function(e){return e.boardReducer.mouseMode})),Y=Object(O.e)((function(e){return e.carMakeReducer.current})),W=Object(O.e)((function(e){return e.schemeReducer.current})),X=Object(O.e)((function(e){return e.schemeReducer.saving})),z=Object(O.e)((function(e){return e.schemeReducer.loaded})),G=Object(O.e)((function(e){return e.fontReducer.list})),H=Object(O.e)((function(e){return e.fontReducer.loadedList})),K=Object(O.e)((function(e){return e.layerReducer.list})),V=Object(O.e)((function(e){return e.layerReducer.current})),J=Object(O.e)((function(e){return e.layerReducer.loadedStatuses})),q=Object(O.e)((function(e){return e.layerReducer.drawingStatus}));Object(u.useEffect)((function(){switch(q){case We.a.ADD_TO_SHAPE:if(g.current){var e=Object(i.a)(Object(i.a)({},g.current),{},{layer_data:Object(i.a)(Object(i.a)({},g.current.layer_data),{},{points:Object(ge.n)(g.current.layer_data.points)})});k(Object(We.g)(W.id,e)),k(Object(A.h)(M.f.DEFAULT))}break;case We.a.CLEAR_COMMAND:g.current=null,k(Object(We.o)(null))}}),[q]),de()((function(){U!==M.f.DEFAULT&&v(C+1)}),50*(Math.min(x.current-m.current>4?x.current-m.current:(x.current-m.current)/2,20)||1)),de()((function(){U!==M.f.DEFAULT&&(x.current=x.current+1)}),5);var Q=Object(u.useCallback)((function(e){U===M.f.DEFAULT&&(e.target===e.target.getStage()&&V&&k(Object(We.n)(null)))}),[k,U,V]),ee=Object(u.useCallback)((function(e){if(U!==M.f.DEFAULT){var t=Object(ge.g)(o.current);if(g.current){if([M.f.LINE,M.f.ARROW,M.f.POLYGON].includes(U)){var a=Object(i.a)(Object(i.a)({},g.current),{},{layer_data:Object(i.a)(Object(i.a)({},g.current.layer_data),{},{points:Object(ge.n)(g.current.layer_data.points)})});a.layer_data.points=a.layer_data.points.concat([t.x-g.current.layer_data.left,t.y-g.current.layer_data.top,t.x-g.current.layer_data.left,t.y-g.current.layer_data.top]),g.current=a}}else{var r=Object(i.a)(Object(i.a)({},M.b),{},{layer_type:M.e.SHAPE,layer_data:Object(i.a)(Object(i.a)({},M.b.layer_data),{},{type:U,name:U,left:t.x,top:t.y,color:W.guide_data.default_shape_color||"#000000",opacity:W.guide_data.default_shape_opacity||1,scolor:W.guide_data.default_shape_scolor||"#000000",stroke:W.guide_data.default_shape_stroke||1})});[M.f.LINE,M.f.ARROW,M.f.POLYGON].includes(U)&&(r.layer_data.stroke=5,r.layer_data.points=[0,0,0,0]),U===M.f.PEN&&(r.layer_data.stroke=5,r.layer_data.points=[0,0]),g.current=r}}}),[U,ge.g,g.current,o.current]),te=Object(u.useCallback)((function(){if(U!==M.f.DEFAULT&&g.current){var e=Object(ge.g)(o.current),t=e.x-g.current.layer_data.left,a=e.y-g.current.layer_data.top,r=e.x-g.current.layer_data.left,n=e.y-g.current.layer_data.top;if((g.current.layer_data.points.length<2||r!==g.current.layer_data.points[g.current.layer_data.points.length-2]||n!==g.current.layer_data.points[g.current.layer_data.points.length-1])&&(x.current-m.current>1||g.current.layer_data.points.length<2||Math.abs(r-g.current.layer_data.points[g.current.layer_data.points.length-2])>10||Math.abs(n-g.current.layer_data.points[g.current.layer_data.points.length-1])>10)){var l=Object(i.a)(Object(i.a)({},g.current),{},{layer_data:Object(i.a)(Object(i.a)({},g.current.layer_data),{},{points:Object(c.a)(g.current.layer_data.points),width:M.f.ELLIPSE!==g.current.layer_type&&t>0?t:0,height:M.f.ELLIPSE!==g.current.layer_type&&a>0?a:0,radius:Math.abs(t),innerRadius:Math.abs(t)/2.5,outerRadius:Math.abs(t)})});[M.f.LINE,M.f.ARROW,M.f.POLYGON].includes(U)&&l.layer_data.points.splice(-2,2,r,n),U===M.f.PEN&&(l.layer_data.points.push(r),l.layer_data.points.push(n)),g.current=l}m.current=x.current}}),[U,g.current,ge.g,o.current,x.current]),ae=Object(u.useCallback)((function(e){[M.f.DEFAULT,M.f.LINE,M.f.ARROW,M.f.POLYGON].includes(U)||k(Object(We.o)(We.a.ADD_TO_SHAPE));var t=Object(ge.g)(o.current);p(t)}),[k,U,ge.g,p]),re=Object(u.useCallback)((function(e){var t=Object(ge.g)(o.current);[M.f.DEFAULT,M.f.LINE,M.f.ARROW,M.f.POLYGON].includes(U)&&g.current&&y.x===t.x&&y.y===t.y&&k(Object(We.o)(We.a.ADD_TO_SHAPE))}),[k,U,ge.g,g.current,y]),ne=Object(u.useCallback)((function(e){if(e.evt.preventDefault(),null!==o.current&&e.evt.ctrlKey){var t=o.current,a=t.scaleX(),r=t.getPointerPosition(),n=r.x,c=r.y,i={x:(n-t.x())/a,y:(c-t.y())/a},l=Math.max(Math.min(e.evt.deltaY>0?a/1.2:1.2*a,10),.25);k(Object(A.k)(l));var s={x:n-i.x*l,y:c-i.y*l};t.position(s),t.batchDraw()}}),[k,o.current]),oe=Object(u.useCallback)((function(e){(T.width<e.width||T.height<e.height)&&k(Object(A.g)({width:Math.max(T.width,e.width),height:Math.max(T.height,e.height)}))}),[k,T]),ce=Object(u.useCallback)((function(e,t){k(Object(We.s)(Object(i.a)(Object(i.a)({},e),{},{layer_data:Object(i.a)(Object(i.a)({},e.layer_data),t)})))}),[k]),ie=Object(u.useCallback)((function(e){k(Object(We.n)(e))}),[k]),le=Object(u.useCallback)((function(e,t){r(e.id,t)}),[r]),se=Object(u.useCallback)((function(e){k(Object(Ye.c)(e))}),[k]),Oe=Object(u.useCallback)((function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?(e=P+90)>=360&&(e=0):(e=P-90)<0&&(e=270),n(e)}),[P,n]),fe=Object(u.useCallback)((function(e,t){k(Object(We.q)({key:e,value:t}))}),[k]);return Object($.jsxs)(F.a,(t={width:"100%",height:"100%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",margin:"auto",position:"relative",id:"board-wrapper"},Object(l.a)(t,"position","relative"),Object(l.a)(t,"ref",I),Object(l.a)(t,"children",[Object($.jsxs)(ue.k,{width:S,height:R,onMousedown:Q,onContentMousedown:ee,onContentMousemove:te,onContentMouseup:ae,onDblClick:re,onTouchStart:Q,onWheel:ne,scaleX:D||1,scaleY:D||1,rotation:P,x:S/2,y:R/2,offsetX:T.width/2,offsetY:T.height/2,ref:o,draggable:U===M.f.DEFAULT,style:{cursor:U===M.f.DEFAULT?"default":"crosshair"},children:[Object($.jsxs)(ue.f,{ref:d,listening:!1,children:[Object($.jsx)(ue.h,{x:0,y:0,width:T.width,height:T.height,fill:"transparent"===W.base_color?W.base_color:"#"+W.base_color,listening:!1}),Object($.jsx)(Te,{carMake:Y,layers:K,loadedStatuses:J,handleImageSize:oe,onLoadLayer:fe})]}),Object($.jsx)(ue.f,{listening:!1,children:Object($.jsx)(Le,{currentCarMake:Y,paintingGuides:E,guideData:W.guide_data,loadedStatuses:J,handleImageSize:oe,onLoadLayer:fe})}),Object($.jsxs)(ue.f,{ref:j,children:[Object($.jsx)(Re,{layers:K,currentCarMake:Y,loadedStatuses:J,handleImageSize:oe,onLoadLayer:fe}),Object($.jsx)(Ee,{layers:K,frameSize:T,boardRotate:P,currentLayer:V,mouseMode:U,loadedStatuses:J,handleImageSize:oe,setCurrentLayer:ie,onChange:ce,onHover:le,onLoadLayer:fe}),Object($.jsx)(Pe,{layers:K,drawingLayer:g.current,boardRotate:P,mouseMode:U,currentLayer:V,loadedStatuses:J,setCurrentLayer:ie,onChange:ce,onHover:le,onLoadLayer:fe}),Object($.jsx)(Be,{layers:K,fonts:G,loadedFontList:H,frameSize:T,mouseMode:U,boardRotate:P,loadedStatuses:J,currentLayer:V,setCurrentLayer:ie,onChange:ce,onFontLoad:se,onHover:le,onLoadLayer:fe})]}),Object($.jsx)(ue.f,{ref:b,listening:!1,children:Object($.jsx)(ve,{currentCarMake:Y,paintingGuides:E,loadedStatuses:J,guideData:W.guide_data,handleImageSize:oe,onLoadLayer:fe})}),Object($.jsxs)(ue.f,{children:[Object($.jsx)(we,{currentCarMake:Y,paintingGuides:E,loadedStatuses:J,frameSize:T,guideData:W.guide_data,handleImageSize:oe,onLoadLayer:fe}),Object($.jsx)(Ue,{selectedLayer:V,pressedKey:N}),!a||V&&a[V.id]?Object($.jsx)($.Fragment,{}):Object($.jsx)(Ue,{selectedLayer:K.find((function(e){return a[e.id]})),hoveredTransform:!0})]})]}),Object($.jsxs)(F.a,{position:"absolute",right:V?"350px":0,top:0,children:[Object($.jsx)(Z,{title:"Rotate Left",position:"bottom",arrow:!0,children:Object($.jsx)(ze,{onClick:function(){return Oe(!1)},children:Object($.jsx)(be.a,{})})}),Object($.jsx)(Z,{title:"Rotate Right",position:"bottom",arrow:!0,children:Object($.jsx)(ze,{onClick:function(){return Oe(!0)},children:Object($.jsx)(he.a,{})})})]}),X||!z?Object($.jsx)(F.a,{width:"100%",height:"100%",bgcolor:"#282828",position:"absolute",left:"0",top:"0",children:Object($.jsx)(F.a,{position:"absolute",top:"calc(50% - 25px)",right:"calc(50% - 25px)",children:Object($.jsx)(B.a,{})})}):Object($.jsx)($.Fragment,{})]),t))},He=a(65),Ke=a(1069),Ve=a(434),Ze=a(1078),Je=a(1079),qe=a(1080),Qe=a(485),$e=a(446),et=a(445),tt=a(1071),at=a(1109),rt=a(1074),nt=a(1064),ot=a(1110),ct=a(1075),it=a(1076),lt=a(1077),st=a(1073),dt=a(1063),ut=a(1115),jt=Object(d.c)(P.a).withConfig({displayName:"SliderInput__Typography",componentId:"sc-7loe1z-0"})(N.b),bt=Object(d.c)(dt.a).withConfig({displayName:"SliderInput__CustomInput",componentId:"sc-7loe1z-1"})([".MuiInputBase-inputMarginDense{padding-top:4px;padding-bottom:5px;width:50px;}"]),ht=Object(d.c)(F.a).withConfig({displayName:"SliderInput__SliderWrapper",componentId:"sc-7loe1z-2"})(["width:80px;margin-left:8px;margin-right:8px;height:28px;"]),Ot=Object(d.c)(nt.a).withConfig({displayName:"SliderInput__Wrapper",componentId:"sc-7loe1z-3"})(["height:100%;align-items:center;"]),ft=function(e){var t=e.label,a=e.min,r=e.max,n=e.value,o=e.setValue,c=e.step;return Object($.jsxs)(Ot,{container:!0,children:[Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsx)(jt,{variant:"body1",color:"textSecondary",mr:2,children:t})}),Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsxs)(F.a,{display:"flex",alignItems:"center",children:[Object($.jsx)(ht,{children:Object($.jsx)(ut.a,{min:a,max:r,step:c,value:n,onChange:function(e,t){return o(t)},"aria-labelledby":"shape-size",ValueLabelComponent:function(e){return Object($.jsx)(K.a,{open:e.open,enterTouchDelay:0,placement:"top",title:e.value,children:e.children})}})}),Object($.jsx)(bt,{value:n,margin:"dense",type:"number",step:c||1,onChange:function(e){return o(""===e.target.value?a||0:Number(e.target.value))},onBlur:function(){n<a?o(a):n>r&&o(r)},inputProps:{min:a,max:r,"aria-labelledby":"input-slider"}})]})})]})},yt=a(991),pt=Object(d.c)(Ke.a).withConfig({displayName:"ColorPickerInput__ColorInputField",componentId:"sc-98haji-0"})(["width:80px;"]),gt=function(e){var t=e.value,a=e.onChange,r=e.onInputChange,n=e.error,o=e.helperText;return Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object($.jsxs)(F.a,{display:"flex",alignItems:"center",children:[Object($.jsx)(yt.a,{value:t||"",onChange:function(e){return a(e.css.backgroundColor)},palette:M.h,deferred:!0,hideTextfield:!0}),Object($.jsx)(pt,{value:t||"",onChange:function(e){return r(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&a(e.target.value)}})]}),n?Object($.jsx)(P.a,{color:"secondary",variant:"body2",children:o}):Object($.jsx)($.Fragment,{})]})},mt=Object(d.c)(Y.a).withConfig({displayName:"SchemeSettingsDialog__Button",componentId:"sc-1bdw1wi-0"})(N.b),xt=Object(d.c)(P.a).withConfig({displayName:"SchemeSettingsDialog__Typography",componentId:"sc-1bdw1wi-1"})(N.b),_t=Object(d.c)(tt.a).withConfig({displayName:"SchemeSettingsDialog__CustomAccordionSummary",componentId:"sc-1bdw1wi-2"})(["background:#3f3f3f;border-radius:5px;"]),wt=function(e){var t=e.label,a=e.colorKey,r=e.opacityKey,n=e.errors,o=(e.handleBlur,e.handleChange,e.setFieldValue),c=(e.touched,e.values),i=e.extraChildren,l=Object(u.useState)(!0),d=Object(s.a)(l,2),j=d[0],b=d[1];return Object($.jsxs)(at.a,{expanded:j,onChange:function(){return b(!j)},children:[Object($.jsx)(_t,{expandIcon:Object($.jsx)(st.a,{}),children:Object($.jsx)(xt,{children:t})}),Object($.jsx)(rt.a,{children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",width:"100%",mb:1,children:[Object($.jsxs)(nt.a,{container:!0,spacing:2,children:[Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(xt,{variant:"body1",color:"textSecondary",mr:2,children:"Color"}),Object($.jsx)(gt,{value:c[a],onChange:function(e){return o(a,e)},onInputChange:function(e){return o(a,e)},error:Boolean(n[a]),helperText:n[a]})]})}),Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsx)(ft,{label:"Opacity",min:0,max:1,step:.01,value:c[r],setValue:function(e){return o(r,e)}})})]}),i]})})]})},Ct=function(e){var t=e.onCancel,a=e.open,r=e.onApply,n=Object(O.e)((function(e){return e.schemeReducer.current.guide_data}));return Object($.jsxs)(ot.a,{"aria-labelledby":"insert-text-title",open:a,onClose:t,fullWidth:!0,maxWidth:"sm",children:[Object($.jsx)(ct.a,{id:"insert-text-title",children:"Settings"}),Object($.jsx)(et.b,{initialValues:{carmask_color:n.carmask_color||"",carmask_opacity:n.carmask_opacity||1,wireframe_color:n.wireframe_color||"",wireframe_opacity:n.wireframe_opacity||1,sponsor_color:n.sponsor_color||"",sponsor_opacity:n.sponsor_opacity||1,numberblock_color:n.numberblock_color||"",numberblock_opacity:n.numberblock_opacity||1,grid_color:n.grid_color||"",grid_opacity:n.grid_opacity||1,grid_padding:n.grid_padding||10,grid_stroke:n.grid_stroke||.1},validationSchema:$e.b().shape({carmask_color:$e.c().nullable().test("color-validation","Incorrect Color Format",ge.d),wireframe_color:$e.c().nullable().test("color-validation","Incorrect Color Format",ge.d),sponsor_color:$e.c().nullable().test("color-validation","Incorrect Color Format",ge.d),numberblock_color:$e.c().nullable().test("color-validation","Incorrect Color Format",ge.d),grid_color:$e.c().nullable().test("color-validation","Incorrect Color Format",ge.d)}),validate:function(e){return console.log(e),{}},onSubmit:r,children:function(e){return Object($.jsxs)(et.a,{onSubmit:e.handleSubmit,noValidate:!0,children:[Object($.jsxs)(it.a,{dividers:!0,id:"insert-text-dialog-content",children:[Object($.jsx)(wt,Object(i.a)({label:"Car Mask",colorKey:"carmask_color",opacityKey:"carmask_opacity"},e)),Object($.jsx)(wt,Object(i.a)({label:"Wireframe",colorKey:"wireframe_color",opacityKey:"wireframe_opacity"},e)),Object($.jsx)(wt,Object(i.a)({label:"Sponsor Blocks",colorKey:"sponsor_color",opacityKey:"sponsor_opacity"},e)),Object($.jsx)(wt,Object(i.a)({label:"Number Blocks",colorKey:"numberblock_color",opacityKey:"numberblock_opacity"},e)),Object($.jsx)(wt,Object(i.a)(Object(i.a)({label:"Grid",colorKey:"grid_color",opacityKey:"grid_opacity"},e),{},{extraChildren:Object($.jsxs)(nt.a,{container:!0,spacing:2,children:[Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsx)(ft,{label:"Column Size",min:5,max:50,step:1,value:e.values.grid_padding,setValue:function(t){return e.setFieldValue("grid_padding",t)}})}),Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsx)(ft,{label:"Stroke Width",min:.01,max:3,step:.01,value:e.values.grid_stroke,setValue:function(t){return e.setFieldValue("grid_stroke",t)}})})]})}))]}),Object($.jsxs)(lt.a,{children:[Object($.jsx)(mt,{onClick:t,color:"secondary",children:"Cancel"}),Object($.jsx)(mt,{type:"submit",color:"primary",variant:"outlined",disabled:e.isSubmitting||!e.isValid,children:"Apply"})]})]})}})]})},vt=j.a.memo(Ct),kt={DELETE:"Delete Layer",ENTER:"Complete Drawing",1:"Toggle Car Mask Guide",2:"Toggle Wireframe Guide",3:"Toggle Sponsor Block Guide",4:"Toggle Number Block Guide",5:"Toggle Grid Guide",T:"Insert Text",S:"Insert Overlay",L:"Insert Logo",B:"Insert Basepaint","\u2191":"Move Layer Up","\u2193":"Move Layer Down","\u2190":"Move Lyer Left","\u2192":"Move Lyer Right","Shift \u2191":"10x Move Layer Up","Shift \u2193":"10x Move Layer Down","Shift \u2190":"10x Move Lyer Left","Shift \u2192":"10x Move Lyer Right","Shift +":"Zoom In","Shift -":"Zoom Out","Shift 9":"Zoom To Fit","Shift 0":"Zoom To 100%","Shift D":"Default Mouse Mode","Shift B":"Brush Drawing Mode","Shift R":"Rectangle Drawing Mode","Shift C":"Circle Drawing Mode","Shift E":"Ellipse Drawing Mode","Shift S":"Star Drawing Mode","Shift G":"Ring Drawing Mode","Shift O":"Regular-Polygon Drawing Mode","Shift W":"Wedge Drawing Mode","Shift A":"Arc Drawing Mode","Shift P":"Polygon Drawing Mode","Shift L":"Line Drawing Mode","Shift >":"Arrow Drawing Mode","Ctrl/Meta C":"Copy Layer To Clipboard","Ctrl/Meta V":"Paste Layer From Clipboard","Ctrl/Meta Z":"Undo Action","Ctrl/Meta Y":"Redo Action"},Lt=Object(d.c)(nt.a).withConfig({displayName:"ShortCutsDialog__Grid",componentId:"sc-3fzz2e-0"})(N.b),St=Object(d.c)(P.a).withConfig({displayName:"ShortCutsDialog__KeyText",componentId:"sc-3fzz2e-1"})(["color:#ca812c;background:#000000;width:fit-content;padding:0px 10px;border-radius:3px;"]),Rt=Object(d.c)(P.a).withConfig({displayName:"ShortCutsDialog__DescriptionText",componentId:"sc-3fzz2e-2"})(["width:fit-content;padding:0px;"]),It=function(e){var t=e.onCancel,a=e.open;return Object($.jsxs)(ot.a,{"aria-labelledby":"short-cuts-title",open:a,onClose:t,fullWidth:!0,maxWidth:"sm",children:[Object($.jsx)(ct.a,{id:"short-cuts-title",children:"Shortcuts"}),Object($.jsx)(it.a,{dividers:!0,id:"short-cuts-dialog-content",children:Object.keys(kt).map((function(e,t){return Object($.jsxs)(Lt,{container:!0,mb:2,children:[Object($.jsx)(Lt,{item:!0,xs:6,children:Object($.jsx)(St,{children:e})}),Object($.jsx)(Lt,{item:!0,xs:6,children:Object($.jsx)(Rt,{children:kt[e]})})]},t)}))})]})},Tt=j.a.memo(It),Dt=Object(d.c)(Ve.a).withConfig({displayName:"TitleBar__CustomIcon",componentId:"sc-6ardfy-0"})(["width:20px !important;"]),Et="SHORTCUTS",Ft="SETTINGS",Mt=Object(d.c)(Ke.a).withConfig({displayName:"TitleBar__NameInput",componentId:"sc-6ardfy-1"})(["width:",";"],(function(e){return e.width})),Bt=function(){var e=Object(g.f)(),t=Object(O.d)(),a=Object(u.useState)(""),r=Object(s.a)(a,2),n=r[0],o=r[1],c=Object(u.useState)(null),l=Object(s.a)(c,2),d=l[0],j=l[1],b=Object(O.e)((function(e){return e.schemeReducer.current})),h=Object(u.useCallback)((function(e){o(e.target.value)}),[o]),f=Object(u.useCallback)((function(){t(Object(He.b)(b.id,n))}),[t,b&&b.id,n]),y=Object(u.useCallback)((function(e){13===e.keyCode&&(e.preventDefault(),f())}),[f]),p=Object(u.useCallback)((function(){o(b.name)}),[o,b&&b.name]),m=Object(u.useCallback)((function(){t(Object(A.a)()),t(Object(He.j)(!1)),t(Object(He.c)()),e.push("/")}),[e,t]),x=Object(u.useCallback)((function(e){t(Object(He.l)(Object(i.a)(Object(i.a)({},b),{},{guide_data:e}))),j(null)}),[t,b,j]);return Object(u.useEffect)((function(){b&&o(b.name)}),[b&&b.name]),Object($.jsxs)(F.a,{display:"flex",justifyContent:"space-between",alignItems:"center",px:1,my:1,children:[Object($.jsx)(Mt,{value:n,onChange:h,onKeyDown:y,width:b&&n!==b.name?"105px":"185px"}),Object($.jsxs)(F.a,{display:"flex",children:[b&&n!==b.name?Object($.jsx)(Z,{title:"Discard Change",arrow:!0,children:Object($.jsx)(U.a,{onClick:p,color:"secondary",children:Object($.jsx)(Ze.a,{})})}):Object($.jsx)($.Fragment,{}),b&&n!==b.name?Object($.jsx)(Z,{title:"Save",arrow:!0,children:Object($.jsx)(U.a,{onClick:f,children:Object($.jsx)(Je.a,{})})}):Object($.jsx)($.Fragment,{}),Object($.jsx)(Z,{title:"Back",arrow:!0,children:Object($.jsx)(U.a,{onClick:m,children:Object($.jsx)(Dt,{icon:Qe.b,size:"xs"})})}),Object($.jsx)(Z,{title:"Shortcuts",arrow:!0,children:Object($.jsx)(U.a,{onClick:function(){return j(Et)},children:Object($.jsx)(Dt,{icon:Qe.k,size:"xs"})})}),Object($.jsx)(Z,{title:"Settings",arrow:!0,children:Object($.jsx)(U.a,{onClick:function(){return j(Ft)},children:Object($.jsx)(qe.a,{})})})]}),Object($.jsx)(Tt,{open:d===Et,onCancel:function(){return j(null)}}),Object($.jsx)(vt,{open:d===Ft,onApply:x,onCancel:function(){return j(null)}})]})},At=j.a.memo(Bt),Nt=a(12),Pt=a(992),Ut=a(1085),Yt=a(1086),Wt=a(1087),Xt=a(1088),zt=a(1072),Gt=a(1089),Ht=a(1067),Kt=a(1081),Vt=a(1082),Zt=a(1083),Jt=a(1084),qt=Object(d.c)(F.a).withConfig({displayName:"PartItem__Wrapper",componentId:"sc-1vufzst-0"})(["cursor:pointer;&.sortable-chosen{background:rgba(255,255,255,0.2);}&.activeItem{background:rgba(0,0,0,0.5) !important;}&.hoveredItem{background:rgba(0,0,0,0.2);}"]),Qt=Object(d.c)(P.a).withConfig({displayName:"PartItem__CustomTypography",componentId:"sc-1vufzst-1"})(["color:",";"],(function(e){return"true"===e.active?"white":"darkgray"})),$t=Object(d.c)(U.a).withConfig({displayName:"PartItem__SmallIconButton",componentId:"sc-1vufzst-2"})([".MuiSvgIcon-root{width:18px;height:18px;}"]),ea=function(e){var t=e.layer_visible,a=e.layer_locked,r=e.text,n=e.toggleVisible,o=e.toggleLocked,c=e.selected,i=e.disableLock,l=e.onSelect,s=e.hovered,d=e.onHover,j=Object(u.useRef)(null),b=Object(u.useCallback)((function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),n()}),[n]),h=Object(u.useCallback)((function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),o()}),[n]);return Object($.jsx)(qt,{ref:j,px:2,py:1,mb:1,display:"flex",width:"100%",border:1,borderColor:"grey.700",borderRadius:5,onClick:l,onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},className:Object(Nt.a)(c&&"activeItem",s&&"hoveredItem"),children:Object($.jsxs)(F.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[Object($.jsx)(Qt,{variant:"body2",active:t?"true":"false",noWrap:!0,children:r}),Object($.jsxs)(F.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[!i&&(c||s||a)?Object($.jsx)(F.a,{mr:1,children:Object($.jsx)($t,{onClick:h,size:"small",children:a?Object($.jsx)(Kt.a,{}):Object($.jsx)(Vt.a,{})})}):Object($.jsx)(F.a,{width:"24px",height:"24px",mr:1}),c||s||!t?Object($.jsx)($t,{onClick:b,size:"small",children:t?Object($.jsx)(Zt.a,{}):Object($.jsx)(Jt.a,{})}):Object($.jsx)(F.a,{width:"24px",height:"24px"})]})]})})},ta=j.a.memo(ea),aa=Object(Ht.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),ra=Object(d.c)(Y.a).withConfig({displayName:"PartGroup__Button",componentId:"d20ix9-0"})(N.b),na=Object(d.c)(Ut.a).withConfig({displayName:"PartGroup__ButtonGroup",componentId:"d20ix9-1"})(N.b),oa=Object(d.c)(ra).withConfig({displayName:"PartGroup__AddButton",componentId:"d20ix9-2"})(["min-width:40px;padding:3px 5px;.MuiButton-startIcon{margin-right:2px;}.MuiButton-endIcon{margin:0;}.fa-lg{font-size:1.3333333333em !important;}"]),ca=Object(d.c)(Yt.a).withConfig({displayName:"PartGroup__CustomCardHeader",componentId:"d20ix9-3"})([".MuiCardHeader-title{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}.MuiCardHeader-content{width:calc(100% - 50px);}"]),ia=Object(d.c)(Wt.a).withConfig({displayName:"PartGroup__CustomCardContent",componentId:"d20ix9-4"})(["padding-top:0;"]),la=function(e){var t=aa(),a=Object(O.d)(),r=Object(u.useState)(!0),n=Object(s.a)(r,2),o=n[0],c=n[1],d=Object(O.e)((function(e){return e.layerReducer.current})),j=Object(O.e)((function(e){return e.authReducer.user})),b=e.layerList,f=e.title,y=e.actions,p=e.extraChildren,g=e.disableLock,m=e.disableDnd,x=e.hoveredLayerJSON,_=e.onChangeHoverJSONItem,w=Object(u.useMemo)((function(){return h.a.orderBy(b,["layer_order"],["asc"])}),[b]);Object(u.useEffect)((function(){for(var e in w)w[e].layer_order!==parseInt(e)+1&&a(Object(We.s)(Object(i.a)(Object(i.a)({},w[e]),{},{layer_order:parseInt(e)+1}),!1))}),[b.length]);var C=Object(u.useCallback)((function(){c((function(e){return!e}))}),[c]),v=Object(u.useCallback)((function(e){var t=function(t){var r=b.find((function(a){return a.id==e[t].id}));r&&r.layer_order!==parseInt(t)+1&&a(Object(We.s)(Object(i.a)(Object(i.a)({},r),{},{layer_order:parseInt(t)+1}),!1))};for(var r in e)t(r)}),[b,a]),k=Object(u.useCallback)((function(e,t){var r=b.find((function(t){return t.id===e}));a(Object(We.s)(Object(i.a)(Object(i.a)({},r),{},Object(l.a)({},t,r[t]?0:1))))}),[b,a]),L=Object(u.useCallback)((function(e){a(Object(We.n)(e)),a(Object(A.h)(M.f.DEFAULT))}),[a]),S=Object(u.useCallback)((function(e,t){_(e.id,t)}),[_]),R=Object(u.useCallback)((function(e,t){return t===M.e.UPLOAD&&0===e.indexOf(j.id.toString())?e.slice(j.id.toString().length+1):e}),[]);return Object($.jsx)(F.a,{mb:2,children:Object($.jsxs)(Xt.a,{children:[Object($.jsx)(ca,{title:f,action:Object($.jsxs)(F.a,{display:"flex",children:[y?Object($.jsx)(na,{mr:1,children:y.map((function(e,t){return Object($.jsx)(oa,{onClick:e.onClick,size:"small",startIcon:Object($.jsx)(Gt.a,{}),endIcon:Object($.jsx)(Ve.a,{icon:e.icon,size:"lg"}),variant:"outlined"},t)}))}):Object($.jsx)($.Fragment,{}),Object($.jsx)(U.a,{onClick:C,className:Object(Nt.a)(t.expand,Object(l.a)({},t.expandOpen,o)),children:Object($.jsx)(st.a,{})})]})}),Object($.jsx)(zt.a,{in:o,children:Object($.jsxs)(ia,{children:[Object($.jsx)(Pt.ReactSortable,{list:w,setList:v,animation:150,onChoose:function(e){return console.log(e)},onSelect:function(e){return console.log(e)},sort:!m,children:w.map((function(e){return Object($.jsx)(ta,{text:R(e.layer_data.name,e.layer_type),layer_visible:e.layer_visible,layer_locked:e.layer_locked,toggleVisible:function(){return k(e.id,"layer_visible")},toggleLocked:function(){return k(e.id,"layer_locked")},selected:d&&d.id===e.id,hovered:x[e.id],onSelect:function(){return L(e)},onHover:function(t){return S(e,t)},disableLock:g},e.id)}))}),p]})})]})})},sa=a(1068),da=a(1118),ua=a(1096),ja=a(1095),ba=a(1097),ha=a(1098),Oa=a(1022),fa=a(419),ya=a(137),pa=a(1090),ga=a(1091),ma=a(1092),xa=Object(d.c)(Y.a).withConfig({displayName:"BasePaintDialog__Button",componentId:"sc-1dconu8-0"})(N.b),_a=Object(d.c)(fa.a).withConfig({displayName:"BasePaintDialog__CustomInfiniteScroll",componentId:"sc-1dconu8-1"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),wa=Object(d.c)(pa.a).withConfig({displayName:"BasePaintDialog__CustomGridList",componentId:"sc-1dconu8-2"})(["overflow:hidden !important;margin:0 !important;"]),Ca=Object(d.c)(ga.a).withConfig({displayName:"BasePaintDialog__CustomGridListTile",componentId:"sc-1dconu8-3"})(["cursor:pointer;"]),va=d.c.img.withConfig({displayName:"BasePaintDialog__CustomImg",componentId:"sc-1dconu8-4"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),ka=j.a.memo((function(e){var t=Object(u.useState)(15),a=Object(s.a)(t,2),r=a[0],n=a[1],o=e.carMake,c=e.onCancel,i=e.open,l=e.onOpenBase;return Object($.jsxs)(ot.a,{"aria-labelledby":"base-paints-title",open:i,onClose:c,children:[Object($.jsx)(ct.a,{id:"base-paints-title",children:"Select Base Paint"}),Object($.jsx)(it.a,{dividers:!0,id:"base-paint-dialog-content",children:Object($.jsx)(_a,{dataLength:r,next:function(){n(r+15)},hasMore:r<o.total_bases,loader:Object($.jsx)(ya.a,{}),scrollableTarget:"base-paint-dialog-content",children:Object($.jsx)(wa,{cellHeight:178,cols:3,children:Array.from({length:o.total_bases},(function(e,t){return t+1})).slice(0,r).map((function(e){return Object($.jsxs)(Ca,{cols:1,onClick:function(){return l(e)},children:[Object($.jsx)(va,{src:Object(ge.c)(o,e)+"preview.jpg",alt:"Base Paint ".concat(e)}),Object($.jsx)(ma.a,{title:"Base Paint ".concat(e),subtitle:o.name_short})]},e)}))})})}),Object($.jsx)(lt.a,{children:Object($.jsx)(xa,{onClick:c,color:"secondary",children:"Cancel"})})]})})),La=a(442),Sa=Object(d.c)(Y.a).withConfig({displayName:"ShapeDialog__Button",componentId:"sc-12nk2gq-0"})(N.b),Ra=Object(d.c)(fa.a).withConfig({displayName:"ShapeDialog__CustomInfiniteScroll",componentId:"sc-12nk2gq-1"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),Ia=Object(d.c)(pa.a).withConfig({displayName:"ShapeDialog__CustomGridList",componentId:"sc-12nk2gq-2"})(["overflow:hidden !important;margin:0 !important;"]),Ta=Object(d.c)(ga.a).withConfig({displayName:"ShapeDialog__CustomGridListTile",componentId:"sc-12nk2gq-3"})(["cursor:pointer;"]),Da=Object(d.c)(it.a).withConfig({displayName:"ShapeDialog__CustomDialogContent",componentId:"sc-12nk2gq-4"})(["width:600px;"]),Ea=d.c.img.withConfig({displayName:"ShapeDialog__CustomImg",componentId:"sc-12nk2gq-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),Fa=function(e){var t=Object(u.useState)(15),a=Object(s.a)(t,2),r=a[0],n=a[1],o=Object(u.useState)(""),c=Object(s.a)(o,2),i=c[0],l=c[1],d=e.shapes,j=e.onCancel,b=e.open,h=e.onOpenShape,O=d.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase())}));return Object($.jsxs)(ot.a,{"aria-labelledby":"shape-title",open:b,onClose:j,children:[Object($.jsx)(ct.a,{id:"shape-title",children:"Insert Shape"}),Object($.jsxs)(Da,{dividers:!0,children:[Object($.jsx)(F.a,{mb:2,children:Object($.jsx)(La.a,{value:i,onChange:function(e){return l(e)}})}),Object($.jsx)(F.a,{id:"shape-dialog-content",overflow:"auto",height:"70vh",children:Object($.jsx)(Ra,{dataLength:r,next:function(){n(r+15)},hasMore:r<O.length,loader:Object($.jsx)(ya.a,{}),scrollableTarget:"shape-dialog-content",children:Object($.jsx)(Ia,{cellHeight:178,cols:3,children:O.slice(0,r).map((function(e){return Object($.jsxs)(Ta,{cols:1,onClick:function(){return h(e)},children:[Object($.jsx)(Ea,{src:"".concat(xe.a.assetsURL,"/").concat(e.overlay_thumb),alt:e.name}),Object($.jsx)(ma.a,{title:e.name,subtitle:e.description})]},e.id)}))})})})]}),Object($.jsx)(lt.a,{children:Object($.jsx)(Sa,{onClick:j,color:"secondary",children:"Cancel"})})]})},Ma=j.a.memo(Fa),Ba=a(1105),Aa=a(1093),Na=Object(d.c)(Y.a).withConfig({displayName:"LogoDialog__Button",componentId:"sc-39n1mp-0"})(N.b),Pa=Object(d.c)(P.a).withConfig({displayName:"LogoDialog__Typography",componentId:"sc-39n1mp-1"})(N.b),Ua=Object(d.c)(fa.a).withConfig({displayName:"LogoDialog__CustomInfiniteScroll",componentId:"sc-39n1mp-2"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),Ya=Object(d.c)(pa.a).withConfig({displayName:"LogoDialog__CustomGridList",componentId:"sc-39n1mp-3"})(["overflow:hidden !important;margin:0 !important;"]),Wa=Object(d.c)(ga.a).withConfig({displayName:"LogoDialog__CustomGridListTile",componentId:"sc-39n1mp-4"})(["cursor:pointer;"]),Xa=Object(d.c)(it.a).withConfig({displayName:"LogoDialog__CustomDialogContent",componentId:"sc-39n1mp-5"})(["width:600px;"]),za=d.c.img.withConfig({displayName:"LogoDialog__CustomImg",componentId:"sc-39n1mp-6"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),Ga=Object(V.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:40,width:"100%",backgroundColor:"#635ee7"}}})((function(e){return Object($.jsx)(Ba.a,Object(i.a)(Object(i.a)({},e),{},{TabIndicatorProps:{children:Object($.jsx)("span",{})}}))})),Ha=Object(V.a)((function(e){return{root:{textTransform:"none",color:"#fff",fontWeight:e.typography.fontWeightRegular,fontSize:"1rem",marginRight:0,padding:"6px 5px",minWidth:60,"&:focus":{opacity:1}}}}))((function(e){return Object($.jsx)(Aa.a,Object(i.a)({disableRipple:!0},e))})),Ka=function(e){var t=e.children,a=e.value,r=e.index,n=Object(Oe.a)(e,["children","value","index"]);return Object($.jsx)("div",Object(i.a)(Object(i.a)({role:"tabpanel",hidden:a!==r,id:"logo-tabpanel-".concat(r),"aria-labelledby":"logo-tab-".concat(r)},n),{},{children:a===r&&Object($.jsx)($.Fragment,{children:t})}))};function Va(e){return{id:"logo-tab-".concat(e),"aria-controls":"logo-tabpanel-".concat(e)}}var Za=function(e){var t=Object(u.useState)(15),a=Object(s.a)(t,2),r=a[0],n=a[1],o=Object(u.useState)(15),c=Object(s.a)(o,2),l=c[0],d=c[1],j=Object(u.useState)(0),b=Object(s.a)(j,2),h=b[0],O=b[1],f=Object(u.useState)(""),y=Object(s.a)(f,2),p=y[0],g=y[1],m=e.logos,x=e.onCancel,_=e.open,w=e.onOpenLogo,C=m.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())&&"flag"!==e.type})),v=m.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())&&"flag"===e.type}));return Object($.jsxs)(ot.a,{"aria-labelledby":"logo-title",open:_,onClose:x,children:[Object($.jsx)(ct.a,{id:"logo-title",children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object($.jsx)(Pa,{variant:"h5",mr:2,children:"Insert:"}),Object($.jsxs)(Ga,{value:h,onChange:function(e,t){O(t),g("")},"aria-label":"logo tab",children:[Object($.jsx)(Ha,Object(i.a)({label:"Logo"},Va(0))),Object($.jsx)(Ha,Object(i.a)({label:"Flag"},Va(1)))]})]})}),Object($.jsxs)(Xa,{dividers:!0,children:[Object($.jsx)(F.a,{mb:2,children:Object($.jsx)(La.a,{value:p,onChange:function(e){return g(e)}})}),Object($.jsx)(Ka,{value:h,index:0,children:Object($.jsx)(F.a,{id:"logo-dialog-content",overflow:"auto",height:"70vh",children:Object($.jsx)(Ua,{dataLength:r,next:function(){n(r+15)},hasMore:r<C.length,loader:Object($.jsx)(ya.a,{}),scrollableTarget:"logo-dialog-content",children:Object($.jsx)(Ya,{cellHeight:178,cols:3,children:C.slice(0,r).map((function(e){return Object($.jsxs)(Wa,{cols:1,onClick:function(){return w(e)},children:[Object($.jsx)(za,{src:"".concat(xe.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object($.jsx)(ma.a,{title:e.name})]},e.id)}))})})})}),Object($.jsx)(Ka,{value:h,index:1,children:Object($.jsx)(F.a,{id:"flag-dialog-content",overflow:"auto",height:"70vh",children:Object($.jsx)(Ua,{dataLength:l,next:function(){d(l+15)},hasMore:l<v.length,loader:Object($.jsx)(ya.a,{}),scrollableTarget:"flag-dialog-content",children:Object($.jsx)(Ya,{cellHeight:178,cols:3,children:v.slice(0,l).map((function(e){return Object($.jsxs)(Wa,{cols:1,onClick:function(){return w(e)},children:[Object($.jsx)(za,{src:"".concat(xe.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object($.jsx)(ma.a,{title:e.name})]},e.id)}))})})})})]}),Object($.jsx)(lt.a,{children:Object($.jsx)(Na,{onClick:x,color:"secondary",children:"Cancel"})})]})},Ja=j.a.memo(Za),qa=a(444),Qa=Object(d.c)(Y.a).withConfig({displayName:"YesNoDialog__Button",componentId:"uvsbdx-0"})(N.b),$a=Object(d.c)(F.a).withConfig({displayName:"YesNoDialog__TextWrapper",componentId:"uvsbdx-1"})(["font-size:1rem;"]),er=function(e){var t=e.text,a=e.open,r=e.onYes,n=e.onNo;return Object($.jsxs)(ot.a,{"aria-labelledby":"confirm-title",open:a,children:[Object($.jsx)(ct.a,{id:"confirm-title",children:"Confirm"}),Object($.jsx)(it.a,{dividers:!0,children:Object($.jsx)($a,{children:t})}),Object($.jsxs)(lt.a,{children:[Object($.jsx)(Qa,{onClick:r,color:"secondary",variant:"outlined",autoFocus:!0,children:"Yes"}),Object($.jsx)(Qa,{onClick:n,color:"primary",variant:"outlined",children:"No"})]})]})},tr=j.a.memo(er),ar=a(1094),rr=a(1023),nr=a(141),or=a(11),cr=a(47),ir=Object(d.c)(Y.a).withConfig({displayName:"UploadDialog__Button",componentId:"vk7mct-0"})(N.b),lr=Object(d.c)(fa.a).withConfig({displayName:"UploadDialog__CustomInfiniteScroll",componentId:"vk7mct-1"})(["&.infinite-scroll-component{overflow:hidden !important;}"]),sr=Object(d.c)(pa.a).withConfig({displayName:"UploadDialog__CustomGridList",componentId:"vk7mct-2"})(["overflow:hidden !important;margin:0 !important;"]),dr=Object(d.c)(ga.a).withConfig({displayName:"UploadDialog__CustomGridListTile",componentId:"vk7mct-3"})(["cursor:pointer;"]),ur=Object(d.c)(it.a).withConfig({displayName:"UploadDialog__CustomDialogContent",componentId:"vk7mct-4"})(["width:600px;"]),jr=d.c.img.withConfig({displayName:"UploadDialog__CustomImg",componentId:"vk7mct-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),br=Object(d.c)(U.a).withConfig({displayName:"UploadDialog__DeleteButton",componentId:"vk7mct-6"})(["color:#ccc;"]),hr=function(e){var t=Object(O.d)(),a=Object(O.e)((function(e){return e.authReducer.user})),r=Object(O.e)((function(e){return e.schemeReducer.current})),c=Object(u.useState)(null),i=Object(s.a)(c,2),l=i[0],d=i[1],j=Object(u.useState)([]),b=Object(s.a)(j,2),h=b[0],f=b[1],y=Object(u.useState)(15),p=Object(s.a)(y,2),g=p[0],m=p[1],x=Object(u.useState)([]),_=Object(s.a)(x,2),w=_[0],C=_[1],v=Object(u.useState)(1),k=Object(s.a)(v,2),L=k[0],S=k[1],R=e.uploads,I=e.onCancel,T=e.open,D=e.onOpenUpload,E=Object(u.useCallback)((function(){m(g+15)}),[m,g]),M=Object(u.useCallback)((function(e){var t=e.substring(e.lastIndexOf("uploads/")+"uploads/".length,e.lastIndexOf("."));return 0===t.indexOf(a.id.toString())?t.slice(a.id.toString().length+1):t}),[a.id]),B=Object(u.useCallback)((function(e){C(e),console.log(e)}),[C]),A=Object(u.useCallback)((function(){console.log(w),t(Object(nr.d)(a.id,r.id,w)),C([]),S(L+1)}),[t,a.id,r.id,w,C,L,S]),N=Object(u.useCallback)((function(e,t){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),d(t)}),[d]),P=Object(u.useCallback)(Object(o.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Deleting: ",l),e.prev=1,e.next=4,cr.a.getSchemeListByUploadID(l.id);case 4:(a=e.sent).length?f(a):(t(Object(nr.b)(l,!0)),d(null)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(Object(or.b)({message:e.t0.message})),d(null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[t,l,f,d]),U=Object(u.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(t(Object(We.j)(l.id)),t(Object(We.n)(null))),t(Object(nr.b)(l,e)),d(null),f([])}),[t,l,d,f]);return Object($.jsxs)(ot.a,{"aria-labelledby":"upload-title",open:T,onClose:I,children:[Object($.jsx)(ct.a,{id:"upload-title",children:"My Uploads"}),Object($.jsxs)(ur,{dividers:!0,children:[Object($.jsx)(rr.a,{onChange:B,value:w,showFileNamesInPreview:!0,showFileNames:!0,maxFiles:10},L),w.length?Object($.jsx)(F.a,{mt:1,width:"100%",display:"flex",justifyContent:"center",children:Object($.jsx)(ir,{variant:"contained",color:"primary",onClick:A,children:"Save To My Upload List"})}):Object($.jsx)($.Fragment,{}),Object($.jsx)(F.a,{id:"upload-dialog-content",overflow:"auto",height:"40vh",mt:1,children:Object($.jsx)(lr,{dataLength:g,next:E,hasMore:g<R.length,loader:Object($.jsx)(ya.a,{}),scrollableTarget:"upload-dialog-content",children:Object($.jsx)(sr,{cellHeight:178,cols:3,children:R.slice(0,g).map((function(e){return Object($.jsxs)(dr,{cols:1,onClick:function(){return D(e)},children:[Object($.jsx)(jr,{src:"".concat(xe.a.assetsURL,"/").concat(e.file_name),alt:M(e.file_name)}),Object($.jsx)(ma.a,{title:M(e.file_name),actionIcon:Object($.jsx)(br,{onClick:function(t){return N(t,e)},children:Object($.jsx)(ar.a,{})})})]},e.id)}))})})})]}),Object($.jsx)(lt.a,{children:Object($.jsx)(ir,{onClick:I,color:"secondary",children:"Cancel"})}),Object($.jsx)(qa.a,{text:l?'Are you sure to delete "'.concat(M(l.file_name),'"?'):"",open:!!l,onCancel:function(){return d(null)},onConfirm:P}),Object($.jsx)(tr,{text:h.length?Object($.jsxs)($.Fragment,{children:["The Projects below have the associated file:",Object($.jsx)("ul",{children:h.map((function(e,t){return Object($.jsx)("li",{children:e.name},t)}))}),"Would you like delete all of them?"]}):"",open:!!h.length,onYes:function(){return U(!0)},onNo:function(){return U(!1)}})]})},Or=j.a.memo(hr),fr=a(1065),yr=a(1116),pr=a(1107),gr=Object(d.c)(pr.a).withConfig({displayName:"FontSelect__Select",componentId:"sc-79nr26-0"})(N.b),mr=Object(d.c)(gr).withConfig({displayName:"FontSelect__CustomSelect",componentId:"sc-79nr26-1"})([".MuiSelect-selectMenu{display:flex;align-items:center;height:2rem;}"]),xr=d.c.img.withConfig({displayName:"FontSelect__FontImage",componentId:"sc-79nr26-2"})(["width:506px;filter:invert(1);"]),_r=function(e){var t=e.fontList,a=e.value,r=e.onChange;return Object($.jsx)(mr,{labelId:"font-select-label",id:"font-select-outlined",value:a,onChange:r,label:"Font",mb:4,renderValue:function(e){var a=t.find((function(t){return t.id===e}));return a?Object($.jsx)(xr,{src:"".concat(xe.a.assetsURL,"/").concat(a.font_preview),alt:a.font_name}):Object($.jsx)($.Fragment,{children:"Select Font"})},children:t.map((function(e){return Object($.jsx)(da.a,{value:e.id,children:Object($.jsx)(xr,{src:"".concat(xe.a.assetsURL,"/").concat(e.font_preview),alt:e.font_name})},e.id)}))})},wr=Object(d.c)(Y.a).withConfig({displayName:"TextDialog__Button",componentId:"sc-18v4ol9-0"})(N.b),Cr=Object(d.c)(Ke.a).withConfig({displayName:"TextDialog__TextField",componentId:"sc-18v4ol9-1"})(N.b),vr=Object(d.c)(P.a).withConfig({displayName:"TextDialog__Typography",componentId:"sc-18v4ol9-2"})(N.b),kr=Object(d.c)(Cr).withConfig({displayName:"TextDialog__CustomeTextField",componentId:"sc-18v4ol9-3"})([".MuiInputBase-input{height:2rem;}"]),Lr=Object(d.c)(F.a).withConfig({displayName:"TextDialog__TextPreviewWrapper",componentId:"sc-18v4ol9-4"})(["overflow:auto;background:#",";"],(function(e){return e.backColor})),Sr=Object(d.c)(F.a).withConfig({displayName:"TextDialog__TextPreview",componentId:"sc-18v4ol9-5"})(["color:",";-webkit-text-stroke-width:","px;-webkit-text-stroke-color:",";font-size:","px;font-family:",";transform:rotate(","deg);"],(function(e){return e.color}),(function(e){return e.stroke}),(function(e){return e.scolor}),(function(e){return e.size}),(function(e){return e.font}),(function(e){return e.rotate})),Rr=j.a.memo((function(e){var t=e.fontList,a=e.errors,r=e.handleBlur,n=e.handleChange,o=e.setFieldValue,c=e.touched,i=e.values,l=e.baseColor,s=Object(O.d)(),d=Object(O.e)((function(e){return e.fontReducer.loadedList}));return Object(u.useEffect)((function(){var e,a,r=t.length?t.find((function(e){return e.id===i.font})):null;r&&!d.includes(r.font_name)&&(e=r.font_name,a="url(".concat(xe.a.assetsURL,"/").concat(r.font_file,")"),new FontFace(e,a).load().then((function(t){document.fonts.add(t),s(Object(Ye.c)(e))})).catch((function(t){console.warn(t,e)})))}),[i.font]),Object($.jsxs)($.Fragment,{children:[Object($.jsx)(kr,{name:"text",label:"Text",placeholder:"Input Text here",variant:"outlined",value:i.text,error:Boolean(c.text&&a.text),helperText:c.text&&a.text,onBlur:r,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0},autoFocus:!0}),Object($.jsxs)(fr.a,{variant:"outlined",children:[Object($.jsx)(yr.a,{id:"font-select-label",children:"Font"}),Object($.jsx)(_r,{value:i.font,onChange:function(e){return o("font",e.target.value)},fontList:t})]}),Object($.jsxs)(nt.a,{container:!0,spacing:2,children:[Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsx)(ft,{label:"Font Size",min:6,max:72,value:i.size,setValue:function(e){return o("size",e)}})}),Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(vr,{variant:"body1",color:"textSecondary",mr:2,children:"Font Color"}),Object($.jsx)(gt,{value:i.color,onChange:function(e){return o("color",e)},onInputChange:function(e){return o("color",e)},error:Boolean(a.color),helperText:a.color})]})})]}),Object($.jsxs)(nt.a,{container:!0,spacing:2,children:[Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsx)(ft,{label:"Stroke Width",min:0,max:10,value:i.stroke,setValue:function(e){return o("stroke",e)}})}),Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(vr,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"}),Object($.jsx)(gt,{value:i.scolor,onChange:function(e){return o("scolor",e)},onInputChange:function(e){return o("scolor",e)},error:Boolean(a.scolor),helperText:a.scolor})]})})]}),Object($.jsx)(nt.a,{container:!0,spacing:2,children:Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsx)(ft,{label:"Rotation",min:-179,max:179,value:i.rotation,setValue:function(e){return o("rotation",e)}})})}),Object($.jsx)(Lr,{width:"100%",height:"200px",my:2,display:"flex",justifyContent:"center",alignItems:"center",backColor:l,children:Object($.jsx)(Sr,{color:i.color,stroke:i.stroke,scolor:i.scolor,size:i.size,rotate:i.rotation,font:t.find((function(e){return e.id===i.font})).font_name,children:i.text})})]})})),Ir=function(e){var t=e.fontList,a=e.onCancel,r=e.open,n=e.baseColor,o=e.defaultColor,c=e.defaultStrokeColor,l=e.onCreate;return Object($.jsxs)(ot.a,{"aria-labelledby":"insert-text-title",open:r,onClose:a,children:[Object($.jsx)(ct.a,{id:"insert-text-title",children:"Insert Text"}),Object($.jsx)(et.b,{initialValues:{text:"",font:1,size:14,color:o||"#000000",stroke:0,scolor:c||"#000000",rotation:0},validationSchema:$e.b().shape({text:$e.c().required("Required"),color:$e.c().nullable().test("color-validation","Incorrect Color Format",ge.d),scolor:$e.c().nullable().test("color-validation","Incorrect Color Format",ge.d)}),validate:function(e){return console.log(e),{}},onSubmit:l,children:function(e){return Object($.jsxs)(et.a,{onSubmit:e.handleSubmit,children:[Object($.jsx)(it.a,{dividers:!0,id:"insert-text-dialog-content",children:Object($.jsx)(Rr,Object(i.a)(Object(i.a)({},e),{},{fontList:t,baseColor:n}))}),Object($.jsxs)(lt.a,{children:[Object($.jsx)(wr,{onClick:a,color:"secondary",children:"Cancel"}),Object($.jsx)(wr,{type:"submit",color:"primary",variant:"outlined",disabled:e.isSubmitting,children:"Create"})]})]})}})]})},Tr=j.a.memo(Ir),Dr=Object(d.c)(Y.a).withConfig({displayName:"DefaultSettingsDialog__Button",componentId:"ol0j2l-0"})(N.b),Er=Object(d.c)(P.a).withConfig({displayName:"DefaultSettingsDialog__Typography",componentId:"ol0j2l-1"})(N.b),Fr=function(e){e.label;var t=e.colorKey,a=e.opacityKey,r=e.errors,n=(e.handleBlur,e.handleChange,e.setFieldValue),o=(e.touched,e.values),c=e.extraChildren;return Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",width:"100%",mb:1,children:[Object($.jsxs)(nt.a,{container:!0,spacing:2,children:[Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(Er,{variant:"body1",color:"textSecondary",mr:2,children:"Color"}),Object($.jsx)(gt,{value:o[t],onChange:function(e){return n(t,e)},onInputChange:function(e){return n(t,e)},error:Boolean(r[t]),helperText:r[t]})]})}),Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsx)(ft,{label:"Opacity",min:0,max:1,step:.01,value:o[a],setValue:function(e){return n(a,e)}})})]}),c]})},Mr=function(e){var t=e.onCancel,a=e.open,r=e.onApply,n=Object(O.e)((function(e){return e.schemeReducer.current.guide_data}));return Object($.jsxs)(ot.a,{"aria-labelledby":"insert-text-title",open:a,onClose:t,fullWidth:!0,maxWidth:"sm",children:[Object($.jsx)(ct.a,{id:"insert-text-title",children:"Default Shape Settings"}),Object($.jsx)(et.b,{initialValues:{default_shape_color:n.default_shape_color||"#000000",default_shape_opacity:n.default_shape_opacity||1,default_shape_scolor:n.default_shape_scolor||"#000000",default_shape_stroke:n.default_shape_stroke||1},validationSchema:$e.b().shape({default_shape_color:$e.c().nullable().test("color-validation","Incorrect Color Format",ge.d),default_shape_scolor:$e.c().nullable().test("color-validation","Incorrect Color Format",ge.d)}),validate:function(e){return console.log(e),{}},onSubmit:r,children:function(e){return Object($.jsxs)(et.a,{onSubmit:e.handleSubmit,noValidate:!0,children:[Object($.jsx)(it.a,{dividers:!0,id:"insert-text-dialog-content",children:Object($.jsx)(Fr,Object(i.a)(Object(i.a)({label:"Default Shapes",colorKey:"default_shape_color",opacityKey:"default_shape_opacity"},e),{},{extraChildren:Object($.jsxs)(nt.a,{container:!0,spacing:2,children:[Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(Er,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"}),Object($.jsx)(gt,{value:e.values.default_shape_scolor,onChange:function(t){return e.setFieldValue("default_shape_scolor",t)},onInputChange:function(t){return e.setFieldValue("default_shape_scolor",t)},error:Boolean(e.errors.default_shape_scolor),helperText:e.errors.default_shape_scolor})]})}),Object($.jsx)(nt.a,{item:!0,xs:12,sm:6,children:Object($.jsx)(ft,{label:"Stroke Width",min:0,max:1,step:.01,value:e.values.default_shape_stroke,setValue:function(t){return e.setFieldValue("default_shape_stroke",t)}})})]})}))}),Object($.jsxs)(lt.a,{children:[Object($.jsx)(Dr,{onClick:t,color:"secondary",children:"Cancel"}),Object($.jsx)(Dr,{type:"submit",color:"primary",variant:"outlined",disabled:e.isSubmitting||!e.isValid,children:"Apply"})]})]})}})]})},Br=j.a.memo(Mr),Ar=Object(d.c)(sa.a).withConfig({displayName:"DrawerBar__Divider",componentId:"sc-1d7p22o-0"})(N.b),Nr=Object(d.c)(F.a).withConfig({displayName:"DrawerBar__Wrapper",componentId:"sc-1d7p22o-1"})(["background:#666666;padding:0px 10px 0 15px;"]),Pr=Object(d.c)(F.a).withConfig({displayName:"DrawerBar__ToolWrapper",componentId:"sc-1d7p22o-2"})(["background:#444;border-radius:5px;padding:5px 1px;"]),Ur=Object(d.c)(da.a).withConfig({displayName:"DrawerBar__CustomItem",componentId:"sc-1d7p22o-3"})(["display:flex;justify-content:center;padding:7px 10px;background-color:",";"],(function(e){return"true"===e.active?"rgba(255, 255, 255, 0.08)":"none"})),Yr=Object(d.c)(Ve.a).withConfig({displayName:"DrawerBar__CustomFontAwesomeIcon",componentId:"sc-1d7p22o-4"})(["transform:",";"],(function(e){return"true"===e.isstretch?"scaleX(1.2) scaleY(0.8)":"none"})),Wr=Object(d.c)(F.a).withConfig({displayName:"DrawerBar__DefaultSettingsButton",componentId:"sc-1d7p22o-5"})(["outline:",";cursor:pointer;"],(function(e){return e.outline})),Xr=[{value:M.f.DEFAULT,label:"Default Mode",icon:Object($.jsx)(Yr,{icon:Qe.i})},{value:M.f.POLYGON,label:"Polygon Mode",icon:Object($.jsx)(Yr,{icon:Qe.e})},{value:M.f.LINE,label:"Line Mode",icon:Object($.jsx)(ja.a,{})},{value:M.f.PEN,label:"Brush Mode",icon:Object($.jsx)(Yr,{icon:Qe.j})},{value:M.f.RECT,label:"Rectangle Mode",icon:Object($.jsx)(Yr,{icon:Qe.n})},{value:M.f.CIRCLE,label:"Circle Mode",icon:Object($.jsx)(Yr,{icon:Qe.c})},{value:M.f.ELLIPSE,label:"Ellipse Mode",icon:Object($.jsx)(Yr,{icon:Qe.c,isstretch:"true"})},{value:M.f.STAR,label:"Star Mode",icon:Object($.jsx)(Yr,{icon:Qe.o})},{value:M.f.RING,label:"Ring Mode",icon:Object($.jsx)(Yr,{icon:Qe.d})},{value:M.f.REGULARPOLYGON,label:"Regular Polygon Mode",icon:Object($.jsx)(ua.a,{size:17})},{value:M.f.WEDGE,label:"Wedge Mode",icon:Object($.jsx)(ba.a,{fontSize:"small"})},{value:M.f.ARC,label:"Arc Mode",icon:Object($.jsx)(Yr,{icon:Oa.a})},{value:M.f.ARROW,label:"Arrow Mode",icon:Object($.jsx)(ha.a,{fontSize:"small"})}],zr=[{value:M.c.UPLOAD,label:"Insert My Logo/Upload New Logo",icon:Object($.jsx)(Yr,{icon:Qe.f})},{value:M.c.LOGO,label:"Insert Logo",icon:Object($.jsx)(Yr,{icon:Qe.h})},{value:M.c.TEXT,label:"Insert Text",icon:Object($.jsx)(Yr,{icon:Qe.g})},{value:M.c.SHAPE,label:"Insert Overlay",icon:Object($.jsx)(Yr,{icon:Qe.l})},{value:M.c.BASEPAINT,label:"Insert BasePaint",icon:Object($.jsx)(Yr,{icon:Qe.a})}],Gr=function(e){var t=e.dialog,a=e.setDialog,r=e.focusBoard,n=Object(O.d)(),o=Object(O.e)((function(e){return e.boardReducer.mouseMode})),c=Object(O.e)((function(e){return e.schemeReducer.current})),l=Object(O.e)((function(e){return e.carMakeReducer.current})),s=Object(O.e)((function(e){return e.overlayReducer.list})),d=Object(O.e)((function(e){return e.logoReducer.list})),j=Object(O.e)((function(e){return e.uploadReducer.list})),b=Object(O.e)((function(e){return e.fontReducer.list})),h=Object(O.e)((function(e){return e.boardReducer.frameSize})),f=Object(u.useCallback)((function(e){n(Object(A.h)(e)),e!==M.f.DEFAULT&&n(Object(We.n)(null))}),[n]),y=Object(u.useCallback)((function(e){n(Object(A.h)(M.f.DEFAULT)),n(Object(We.f)(c.id,e)),a(null),r()}),[n,a,r,c&&c.id]),p=Object(u.useCallback)((function(e){n(Object(A.h)(M.f.DEFAULT)),n(Object(We.d)(c.id,e,h)),a(null),r()}),[n,a,r,c&&c.id,h]),g=Object(u.useCallback)((function(e){n(Object(A.h)(M.f.DEFAULT)),n(Object(We.c)(c.id,e,h)),a(null),r()}),[n,a,r,c&&c.id,h]),m=Object(u.useCallback)((function(e){n(Object(A.h)(M.f.DEFAULT)),n(Object(We.e)(c.id,e,h)),a(null),r()}),[n,a,r,c&&c.id,h]),x=Object(u.useCallback)((function(e){n(Object(A.h)(M.f.DEFAULT)),n(Object(We.h)(c.id,e,h)),a(null),r()}),[n,a,r,c&&c.id,h]),_=Object(u.useCallback)((function(e){n(Object(He.l)(Object(i.a)(Object(i.a)({},c),{},{guide_data:e}))),a(null)}),[n,c,a]);return Object($.jsxs)(Nr,{children:[Object($.jsxs)(Pr,{children:[Xr.map((function(e){return Object($.jsx)(Z,{title:e.label,arrow:!0,placement:"right",children:Object($.jsx)(Ur,{value:e.value,onClick:function(){return f(e.value)},active:e.value===o?"true":"false",children:e.icon})},e.value)})),Object($.jsx)(Ar,{my:1}),zr.map((function(e){return Object($.jsx)(Z,{title:e.label,arrow:!0,placement:"right",children:Object($.jsx)(Ur,{value:e.value,onClick:function(){return a(e.value)},children:e.icon})},e.value)})),Object($.jsx)(Ar,{my:1}),Object($.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object($.jsx)(Z,{title:"Default Shape Settings",arrow:!0,placement:"right",children:Object($.jsx)(F.a,{bgcolor:"#FFFFFF",children:Object($.jsx)(Wr,{width:"25px",height:"25px",bgcolor:c.guide_data.default_shape_color+Object(ge.b)(c.guide_data.default_shape_opacity),outline:"2px solid ".concat(c.guide_data.default_shape_scolor+Object(ge.b)(c.guide_data.default_shape_stroke)),onClick:function(){return a(M.c.DEFAULT_SHAPE_SETTINGS)}})})})})]}),Object($.jsx)(ka,{open:t===M.c.BASEPAINT,carMake:l,onOpenBase:y,onCancel:function(){return a(null)}}),Object($.jsx)(Ma,{open:t===M.c.SHAPE,shapes:s,onOpenShape:p,onCancel:function(){return a(null)}}),Object($.jsx)(Ja,{open:t===M.c.LOGO,logos:d,onOpenLogo:g,onCancel:function(){return a(null)}}),Object($.jsx)(Or,{open:t===M.c.UPLOAD,uploads:j,onOpenUpload:m,onCancel:function(){return a(null)}}),Object($.jsx)(Tr,{open:t===M.c.TEXT,fontList:b,baseColor:c.base_color,defaultColor:c.guide_data.default_shape_color,defaultStrokeColor:c.guide_data.default_shape_scolor,onCreate:x,onCancel:function(){return a(null)}}),Object($.jsx)(Br,{open:t===M.c.DEFAULT_SHAPE_SETTINGS,onApply:_,onCancel:function(){return a(null)}})]})},Hr=j.a.memo(Gr),Kr=Object(d.c)(F.a).withConfig({displayName:"sideBar__LayerWrapper",componentId:"sc-10zcfrv-0"})(["width:300px;background:#666666;overflow:auto;"]),Vr=Object(d.c)(F.a).withConfig({displayName:"sideBar__TitleWrapper",componentId:"sc-10zcfrv-1"})(["background:#666666;"]),Zr=Object(d.c)(F.a).withConfig({displayName:"sideBar__Wrapper",componentId:"sc-10zcfrv-2"})(["height:calc(100% - 46px);position:relative;"]),Jr=Object(d.c)(Y.a).withConfig({displayName:"sideBar__ColorApplyButton",componentId:"sc-10zcfrv-3"})(["padding:3px 15px 5px;"]),qr=function(e){var t=e.dialog,a=e.setDialog,r=e.focusBoard,n=e.hoveredLayerJSON,o=e.onChangeHoverJSONItem,c=Object(O.d)(),i=Object(O.e)((function(e){return e.schemeReducer.current})),l=Object(O.e)((function(e){return e.layerReducer.list})),d=Object(O.e)((function(e){return e.carMakeReducer.current})),j=Object(u.useMemo)((function(){return"transparent"===i.base_color?i.base_color:"#"+i.base_color}),[i.base_color]),b=Object(u.useState)(j),h=Object(s.a)(b,2),f=h[0],y=h[1],p=Object(u.useState)(!1),g=Object(s.a)(p,2),m=g[0],x=g[1];Object(u.useEffect)((function(){y(j)}),[j]);var _=Object(u.useCallback)((function(e){c(Object(He.a)(i.id,e)),y(e),x(!1)}),[c,i&&i.id,y,x]),w=Object(u.useCallback)((function(e){y(e),x(e!==j)}),[j,y,x]),C=Object(u.useCallback)((function(){c(Object(He.a)(i.id,f)),x(!1)}),[c,i&&i.id,f,x]);return Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",children:[Object($.jsx)(Vr,{px:3,children:Object($.jsx)(At,{})}),Object($.jsxs)(Zr,{display:"flex",children:[Object($.jsx)(Hr,{dialog:t,setDialog:a,focusBoard:r}),Object($.jsxs)(Kr,{pr:3,pb:2,children:[Object($.jsx)(la,{title:d?d.name:"",layerList:l.filter((function(e){return e.layer_type===M.e.CAR})),disableLock:!0,disableDnd:!0,hoveredLayerJSON:n,onChangeHoverJSONItem:o}),Object($.jsx)(la,{title:"Logos & Text",layerList:l.filter((function(e){return e.layer_type===M.e.LOGO||e.layer_type===M.e.TEXT||e.layer_type===M.e.UPLOAD})),hoveredLayerJSON:n,onChangeHoverJSONItem:o}),Object($.jsx)(la,{title:"Shapes",layerList:l.filter((function(e){return e.layer_type===M.e.SHAPE})),hoveredLayerJSON:n,onChangeHoverJSONItem:o}),Object($.jsx)(la,{title:"Overlays",layerList:l.filter((function(e){return e.layer_type===M.e.OVERLAY})),hoveredLayerJSON:n,onChangeHoverJSONItem:o}),Object($.jsx)(la,{title:"Base Paint",layerList:l.filter((function(e){return e.layer_type===M.e.BASE})),disableLock:!0,hoveredLayerJSON:n,onChangeHoverJSONItem:o,extraChildren:Object($.jsxs)(F.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(gt,{value:f,onChange:_,onInputChange:w}),m&&Object(ge.d)(f)?Object($.jsx)(Jr,{onClick:C,variant:"outlined",children:"Apply"}):Object(ge.d)(f)?Object($.jsx)($.Fragment,{}):Object($.jsx)(P.a,{color:"secondary",variant:"body2",children:"Invalid Color"})]})})]})]})]})},Qr=a(43),$r=Object(d.c)(Ke.a).withConfig({displayName:"GeneralProperty__CustomeTextField",componentId:"sc-55yoxm-0"})([".MuiInputBase-input{height:2rem;}"]),en=function(e){var t=e.errors,a=e.isValid,r=e.checkLayerDataDirty,n=e.handleBlur,o=e.handleChange,c=e.setFieldValue,i=e.touched,l=e.values,d=e.toggleField,j=["name","text","numPoints","angle"],b=Object(u.useState)(!0),h=Object(s.a)(b,2),O=h[0],f=h[1],y=Object(u.useMemo)((function(){return l.layer_type!==M.e.SHAPE?M.a[l.layer_type]:M.a[l.layer_type][l.layer_data.type]}),[l]);return"{}"!==JSON.stringify(t)&&console.log(t),j.every((function(e){return!y.includes("layer_data."+e)}))?Object($.jsx)($.Fragment,{}):Object($.jsxs)(at.a,{expanded:O,onChange:function(){return f(!O)},children:[Object($.jsx)(tt.a,{expandIcon:Object($.jsx)(st.a,{}),children:Object($.jsx)(P.a,{children:"General"})}),Object($.jsx)(rt.a,{children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",width:"100%",children:[y.includes("layer_data.name")?Object($.jsx)($r,{name:"layer_data.name",label:"Name",variant:"outlined",value:l.layer_data.name,error:Boolean(i.layer_data&&i.layer_data.name&&t.layer_data&&t.layer_data.name),helperText:i.layer_data&&i.layer_data.name&&t.layer_data&&t.layer_data.name,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{}),y.includes("layer_data.text")?Object($.jsx)($r,{name:"layer_data.text",label:"Text",variant:"outlined",value:l.layer_data.text,error:Boolean(i.layer_data&&i.layer_data.text&&t.layer_data&&t.layer_data.text),helperText:i.layer_data&&i.layer_data.text&&t.layer_data&&t.layer_data.text,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{}),y.includes("layer_data.numPoints")?Object($.jsx)($r,{name:"layer_data.numPoints",label:"Number of Points",variant:"outlined",type:"number",value:Math.round(l.layer_data.numPoints),error:Boolean(i.layer_data&&i.layer_data.numPoints&&t.layer_data&&t.layer_data.numPoints),helperText:i.layer_data&&i.layer_data.numPoints&&t.layer_data&&t.layer_data.numPoints,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{}),y.includes("layer_data.angle")?Object($.jsx)(ft,{label:"Angle",min:0,max:360,value:Math.round(l.layer_data.angle),setValue:function(e){return c("layer_data.angle",e)}}):Object($.jsx)($.Fragment,{}),y.includes("layer_visible")?Object($.jsxs)(F.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object($.jsx)(P.a,{variant:"body1",color:"textSecondary",mr:2,children:"Visibility"}),Object($.jsx)(U.a,{onClick:function(){return d("layer_visible")},size:"small",children:l.layer_visible?Object($.jsx)(Zt.a,{}):Object($.jsx)(Jt.a,{})})]}):Object($.jsx)($.Fragment,{}),y.includes("layer_locked")?Object($.jsxs)(F.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object($.jsx)(P.a,{variant:"body1",color:"textSecondary",mr:2,children:"Locking"}),Object($.jsx)(U.a,{onClick:function(){return d("layer_locked")},size:"small",children:l.layer_locked?Object($.jsx)(Kt.a,{}):Object($.jsx)(Vt.a,{})})]}):Object($.jsx)($.Fragment,{}),a&&r(j)?Object($.jsx)(F.a,{mt:2,width:"100%",children:Object($.jsx)(Y.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object($.jsx)($.Fragment,{})]})})]})},tn=j.a.memo(en),an=a(1099),rn=a(1100),nn=Object(d.c)(Ke.a).withConfig({displayName:"SizeProperty__CustomeTextField",componentId:"sc-8yv6lk-0"})([".MuiInputBase-input{height:2rem;}"]),on=Object(d.c)(U.a).withConfig({displayName:"SizeProperty__CustomIconButton",componentId:"sc-8yv6lk-1"})(["margin:0 5px;height:50px;"]),cn=function(e){var t=e.errors,a=e.isValid,r=e.checkLayerDataDirty,n=e.handleBlur,o=e.handleChange,c=e.setFieldValue,i=e.touched,l=e.values,d=e.toggleLayerDataField,j=e.currentLayer,b=e.pressedKey,h=["width","height","scaleX","scaleY","radius","innerRadius","outerRadius","pointerLength","pointerWidth"],O=Object(u.useState)(!0),f=Object(s.a)(O,2),y=f[0],p=f[1],g=Object(u.useMemo)((function(){return l.layer_type!==M.e.SHAPE?M.a[l.layer_type]:M.a[l.layer_type][l.layer_data.type]}),[l]),m=Object(u.useMemo)((function(){return"shift"===b}),[b]),x=Object(u.useCallback)((function(e){var t=parseFloat(e.target.value)||0;l.layer_data.sizeLocked&&c("layer_data.height",t*j.layer_data.height/j.layer_data.width),c("layer_data.width",parseFloat(e.target.value)||0)}),[c,j&&j.layer_data.height,j&&j.layer_data.width]),_=Object(u.useCallback)((function(e){var t=parseFloat(e.target.value)||0;l.layer_data.sizeLocked&&c("layer_data.width",t*j.layer_data.width/j.layer_data.height),c("layer_data.height",parseFloat(e.target.value)||0)}),[c,j&&j.layer_data.height,j&&j.layer_data.width]),w=Object(u.useCallback)((function(e){var t=parseFloat(e.target.value)||0;l.layer_data.scaleLocked&&c("layer_data.scaleY",t*j.layer_data.scaleY/j.layer_data.scaleX),c("layer_data.scaleX",parseFloat(e.target.value)||0)}),[c,j&&j.layer_data.scaleY,j&&j.layer_data.scaleX]),C=Object(u.useCallback)((function(e){var t=parseFloat(e.target.value)||0;l.layer_data.scaleLocked&&c("layer_data.scaleX",t*j.layer_data.scaleX/j.layer_data.scaleY),c("layer_data.scaleY",parseFloat(e.target.value)||0)}),[c,j&&j.layer_data.scaleY,j&&j.layer_data.scaleX]),v=Object(u.useCallback)((function(e){var t=parseFloat(e.target.value)||0;l.layer_data.scaleLocked&&c("layer_data.outerRadius",t*j.layer_data.outerRadius/j.layer_data.innerRadius),c("layer_data.innerRadius",parseFloat(e.target.value)||0)}),[c,j&&j.layer_data.outerRadius,j&&j.layer_data.innerRadius]),k=Object(u.useCallback)((function(e){var t=parseFloat(e.target.value)||0;l.layer_data.scaleLocked&&c("layer_data.innerRadius",t*j.layer_data.innerRadius/j.layer_data.outerRadius),c("layer_data.outerRadius",parseFloat(e.target.value)||0)}),[c,j&&j.layer_data.outerRadius,j&&j.layer_data.innerRadius]);return h.every((function(e){return!g.includes("layer_data."+e)}))?Object($.jsx)($.Fragment,{}):Object($.jsxs)(at.a,{expanded:y,onChange:function(){return p(!y)},children:[Object($.jsx)(tt.a,{expandIcon:Object($.jsx)(st.a,{}),children:Object($.jsx)(P.a,{children:"Size"})}),Object($.jsx)(rt.a,{children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",width:"100%",children:[Object($.jsxs)(F.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[g.includes("layer_data.width")?Object($.jsx)(nn,{name:"layer_data.width",label:l.layer_data.type!==M.f.ELLIPSE?"Width":"RadiusX",variant:"outlined",type:"number",value:Object(ge.j)(l.layer_data.width),error:Boolean(i.layer_data&&i.layer_data.width&&t.layer_data&&t.layer_data.width),helperText:i.layer_data&&i.layer_data.width&&t.layer_data&&t.layer_data.width,onBlur:n,onChange:x,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{}),g.includes("layer_data.width")&&g.includes("layer_data.height")?Object($.jsx)(on,{onClick:function(){return d("sizeLocked")},children:l.layer_data.sizeLocked||m?Object($.jsx)(an.a,{}):Object($.jsx)(rn.a,{})}):Object($.jsx)($.Fragment,{}),g.includes("layer_data.height")?Object($.jsx)(nn,{name:"layer_data.height",label:l.layer_data.type!==M.f.ELLIPSE?"Height":"RadiusY",variant:"outlined",type:"number",value:Object(ge.j)(l.layer_data.height),error:Boolean(i.layer_data&&i.layer_data.height&&t.layer_data&&t.layer_data.height),helperText:i.layer_data&&i.layer_data.height&&t.layer_data&&t.layer_data.height,onBlur:n,onChange:_,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})]}),Object($.jsxs)(F.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[g.includes("layer_data.scaleX")?Object($.jsx)(nn,{name:"layer_data.scaleX",label:"ScaleX",variant:"outlined",type:"number",value:Object(ge.j)(l.layer_data.scaleX),error:Boolean(i.layer_data&&i.layer_data.scaleX&&t.layer_data&&t.layer_data.scaleX),helperText:i.layer_data&&i.layer_data.scaleX&&t.layer_data&&t.layer_data.scaleX,onBlur:n,onChange:w,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{}),g.includes("layer_data.scaleX")&&g.includes("layer_data.scaleY")?Object($.jsx)(on,{onClick:function(){return d("scaleLocked")},children:l.layer_data.scaleLocked||m?Object($.jsx)(an.a,{}):Object($.jsx)(rn.a,{})}):Object($.jsx)($.Fragment,{}),g.includes("layer_data.scaleY")?Object($.jsx)(nn,{name:"layer_data.scaleY",label:"ScaleY",variant:"outlined",type:"number",value:Object(ge.j)(l.layer_data.scaleY),error:Boolean(i.layer_data&&i.layer_data.scaleY&&t.layer_data&&t.layer_data.scaleY),helperText:i.layer_data&&i.layer_data.scaleY&&t.layer_data&&t.layer_data.scaleY,onBlur:n,onChange:C,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})]}),Object($.jsxs)(F.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[g.includes("layer_data.innerRadius")?Object($.jsx)(nn,{name:"layer_data.innerRadius",label:"Inner Radius",variant:"outlined",type:"number",value:Object(ge.j)(l.layer_data.innerRadius),error:Boolean(i.layer_data&&i.layer_data.innerRadius&&t.layer_data&&t.layer_data.innerRadius),helperText:i.layer_data&&i.layer_data.innerRadius&&t.layer_data&&t.layer_data.innerRadius,onBlur:n,onChange:v,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{}),g.includes("layer_data.innerRadius")&&g.includes("layer_data.outerRadius")?Object($.jsx)(on,{onClick:function(){return d("scaleLocked")},children:l.layer_data.scaleLocked||m?Object($.jsx)(an.a,{}):Object($.jsx)(rn.a,{})}):Object($.jsx)($.Fragment,{}),g.includes("layer_data.outerRadius")?Object($.jsx)(nn,{name:"layer_data.outerRadius",label:"Outer Radius",variant:"outlined",type:"number",value:Object(ge.j)(l.layer_data.outerRadius),error:Boolean(i.layer_data&&i.layer_data.outerRadius&&t.layer_data&&t.layer_data.outerRadius),helperText:i.layer_data&&i.layer_data.outerRadius&&t.layer_data&&t.layer_data.outerRadius,onBlur:n,onChange:k,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})]}),g.includes("layer_data.radius")?Object($.jsx)(nn,{name:"layer_data.radius",label:"Radius",variant:"outlined",type:"number",value:Object(ge.j)(l.layer_data.radius),error:Boolean(i.layer_data&&i.layer_data.radius&&t.layer_data&&t.layer_data.radius),helperText:i.layer_data&&i.layer_data.radius&&t.layer_data&&t.layer_data.radius,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{}),g.includes("layer_data.pointerWidth")?Object($.jsx)(nn,{name:"layer_data.pointerWidth",label:"Pointer Width",variant:"outlined",type:"number",value:Object(ge.j)(l.layer_data.pointerWidth),error:Boolean(i.layer_data&&i.layer_data.pointerWidth&&t.layer_data&&t.layer_data.pointerWidth),helperText:i.layer_data&&i.layer_data.pointerWidth&&t.layer_data&&t.layer_data.pointerWidth,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{}),g.includes("layer_data.pointerLength")?Object($.jsx)(nn,{name:"layer_data.pointerLength",label:"Pointer Length",variant:"outlined",type:"number",value:Object(ge.j)(l.layer_data.pointerLength),error:Boolean(i.layer_data&&i.layer_data.pointerLength&&t.layer_data&&t.layer_data.pointerLength),helperText:i.layer_data&&i.layer_data.pointerLength&&t.layer_data&&t.layer_data.pointerLength,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{}),a&&r(h)?Object($.jsx)(F.a,{mt:2,width:"100%",children:Object($.jsx)(Y.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object($.jsx)($.Fragment,{})]})})]})},ln=j.a.memo(cn),sn=Object(d.c)(Ke.a).withConfig({displayName:"PositionProperty__CustomeTextField",componentId:"sc-16v7yid-0"})([".MuiInputBase-input{height:2rem;}"]),dn=function(e){var t=e.errors,a=e.isValid,r=e.checkLayerDataDirty,n=e.handleBlur,o=e.handleChange,c=(e.setFieldValue,e.touched),i=e.values,l=["left","top"],d=Object(u.useState)(!0),j=Object(s.a)(d,2),b=j[0],h=j[1],O=Object(u.useMemo)((function(){return i.layer_type!==M.e.SHAPE?M.a[i.layer_type]:M.a[i.layer_type][i.layer_data.type]}),[i]);return l.every((function(e){return!O.includes("layer_data."+e)}))?Object($.jsx)($.Fragment,{}):Object($.jsxs)(at.a,{expanded:b,onChange:function(){return h(!b)},children:[Object($.jsx)(tt.a,{expandIcon:Object($.jsx)(st.a,{}),children:Object($.jsx)(P.a,{children:"Position"})}),Object($.jsx)(rt.a,{children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",width:"100%",children:[Object($.jsxs)(nt.a,{container:!0,spacing:1,children:[Object($.jsx)(nt.a,{item:!0,sm:6,children:O.includes("layer_data.left")?Object($.jsx)(sn,{name:"layer_data.left",label:"X",variant:"outlined",type:"number",value:Object(ge.j)(i.layer_data.left),error:Boolean(c.layer_data&&c.layer_data.left&&t.layer_data&&t.layer_data.left),helperText:c.layer_data&&c.layer_data.left&&t.layer_data&&t.layer_data.left,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})}),Object($.jsx)(nt.a,{item:!0,sm:6,children:O.includes("layer_data.top")?Object($.jsx)(sn,{name:"layer_data.top",label:"Y",variant:"outlined",type:"number",value:Object(ge.j)(i.layer_data.top),error:Boolean(c.layer_data&&c.layer_data.top&&t.layer_data&&t.layer_data.top),helperText:c.layer_data&&c.layer_data.top&&t.layer_data&&t.layer_data.top,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})})]}),a&&r(l)?Object($.jsx)(F.a,{mt:2,width:"100%",children:Object($.jsx)(Y.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object($.jsx)($.Fragment,{})]})})]})},un=j.a.memo(dn),jn=Object(d.c)(fr.a).withConfig({displayName:"FontProperty__FormControl",componentId:"sc-8xx6kn-0"})(N.b),bn=function(e){var t=e.errors,a=e.isValid,r=e.checkLayerDataDirty,n=(e.handleBlur,e.handleChange,e.setFieldValue),o=(e.touched,e.values),c=e.fontList,i=e.onLayerDataUpdate,l=["font"],d=Object(u.useState)(!0),j=Object(s.a)(d,2),b=j[0],h=j[1],O=Object(u.useMemo)((function(){return o.layer_type!==M.e.SHAPE?M.a[o.layer_type]:M.a[o.layer_type][o.layer_data.type]}),[o]);return l.every((function(e){return!O.includes("layer_data."+e)}))?Object($.jsx)($.Fragment,{}):Object($.jsxs)(at.a,{expanded:b,onChange:function(){return h(!b)},children:[Object($.jsx)(tt.a,{expandIcon:Object($.jsx)(st.a,{}),children:Object($.jsx)(P.a,{children:"Font"})}),Object($.jsx)(rt.a,{children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",width:"100%",children:[O.includes("layer_data.font")?Object($.jsxs)(jn,{variant:"outlined",mt:2,children:[Object($.jsx)(yr.a,{id:"font-select-label",children:"Font"}),Object($.jsx)(_r,{value:o.layer_data.font,onChange:function(e){return i("font",e.target.value)},fontList:c})]}):Object($.jsx)($.Fragment,{}),O.includes("layer_data.color")?Object($.jsxs)(nt.a,{container:!0,spacing:2,children:[Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsx)(P.a,{variant:"body1",color:"textSecondary",mr:2,children:"Font Color"})}),Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsx)(gt,{value:o.layer_data.color,onChange:function(e){return i("color",e)},onInputChange:function(e){return n("layer_data.color",e)},error:Boolean(t.layer_data&&t.layer_data.color),helperText:t.layer_data&&t.layer_data.color})})]}):Object($.jsx)($.Fragment,{}),O.includes("layer_data.size")?Object($.jsx)(ft,{label:"Font Size",min:6,max:72,value:o.layer_data.size,setValue:function(e){return n("layer_data.size",e)}}):Object($.jsx)($.Fragment,{}),a&&r(l)?Object($.jsx)(F.a,{mt:2,width:"100%",children:Object($.jsx)(Y.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object($.jsx)($.Fragment,{})]})})]})},hn=j.a.memo(bn),On=function(e){var t=e.errors,a=e.isValid,r=e.checkLayerDataDirty,n=(e.handleBlur,e.handleChange,e.setFieldValue),o=(e.touched,e.values),c=e.onLayerDataUpdate,i=["stroke","scolor","strokeType"],l=Object(u.useState)(!0),d=Object(s.a)(l,2),j=d[0],b=d[1],h=Object(u.useMemo)((function(){return o.layer_type!==M.e.SHAPE?M.a[o.layer_type]:M.a[o.layer_type][o.layer_data.type]}),[o]);return i.every((function(e){return!h.includes("layer_data."+e)}))?Object($.jsx)($.Fragment,{}):Object($.jsxs)(at.a,{expanded:j,onChange:function(){return b(!j)},children:[Object($.jsx)(tt.a,{expandIcon:Object($.jsx)(st.a,{}),children:Object($.jsx)(P.a,{children:"Stroke"})}),Object($.jsx)(rt.a,{children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",width:"100%",children:[h.includes("layer_data.scolor")?Object($.jsxs)(nt.a,{container:!0,spacing:2,children:[Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsx)(P.a,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"})}),Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsx)(gt,{value:o.layer_data.scolor,onChange:function(e){return c("scolor",e)},onInputChange:function(e){return n("layer_data.scolor",e)},error:Boolean(t.layer_data&&t.layer_data.scolor),helperText:t.layer_data&&t.layer_data.scolor})})]}):Object($.jsx)($.Fragment,{}),h.includes("layer_data.stroke")?Object($.jsx)(F.a,{mb:2,children:Object($.jsx)(ft,{label:"Stroke Width",min:0,max:10,value:o.layer_data.stroke,setValue:function(e){return n("layer_data.stroke",e)}})}):Object($.jsx)($.Fragment,{}),h.includes("layer_data.strokeType")?Object($.jsxs)(nt.a,{container:!0,spacing:2,children:[Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsx)(P.a,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Type"})}),Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsxs)(pr.a,{name:"layer_data.strokeType",variant:"outlined",value:o.layer_data.strokeType,onChange:function(e){return c("strokeType",e.target.value)},fullWidth:!0,children:[Object($.jsx)(da.a,{value:"inside",children:"Inside"}),Object($.jsx)(da.a,{value:"middle",children:"Middle"}),Object($.jsx)(da.a,{value:"outside",children:"Outside"})]})})]}):Object($.jsx)($.Fragment,{}),a&&r(i)?Object($.jsx)(F.a,{mt:2,width:"100%",children:Object($.jsx)(Y.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object($.jsx)($.Fragment,{})]})})]})},fn=j.a.memo(On),yn=function(e){var t=e.errors,a=(e.handleBlur,e.handleChange,e.isValid),r=e.checkLayerDataDirty,n=e.setFieldValue,o=(e.touched,e.values),c=e.onLayerDataUpdate,i=["color","opacity","blendType"],l=Object(u.useState)(!0),d=Object(s.a)(l,2),j=d[0],b=d[1],h=Object(u.useMemo)((function(){return o.layer_type!==M.e.SHAPE?M.a[o.layer_type]:M.a[o.layer_type][o.layer_data.type]}),[o]);return i.every((function(e){return!h.includes("layer_data."+e)}))?Object($.jsx)($.Fragment,{}):Object($.jsxs)(at.a,{expanded:j,onChange:function(){return b(!j)},children:[Object($.jsx)(tt.a,{expandIcon:Object($.jsx)(st.a,{}),children:Object($.jsx)(P.a,{children:"Colors"})}),Object($.jsx)(rt.a,{children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",width:"100%",children:[h.includes("layer_data.color")&&o.layer_type!==M.e.TEXT?Object($.jsxs)(nt.a,{container:!0,spacing:2,children:[Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsx)(P.a,{variant:"body1",color:"textSecondary",mr:2,children:"Color"})}),Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsx)(gt,{value:o.layer_data.color,onChange:function(e){return c("color",e)},onInputChange:function(e){return n("layer_data.color",e)},error:Boolean(t.layer_data&&t.layer_data.color),helperText:t.layer_data&&t.layer_data.color})})]}):Object($.jsx)($.Fragment,{}),h.includes("layer_data.opacity")?Object($.jsx)(F.a,{mb:2,children:Object($.jsx)(ft,{label:"Opacity",min:0,max:1,step:.01,value:o.layer_data.opacity,setValue:function(e){return n("layer_data.opacity",e)}})}):Object($.jsx)($.Fragment,{}),h.includes("layer_data.blendType")?Object($.jsxs)(nt.a,{container:!0,spacing:2,children:[Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsx)(P.a,{variant:"body1",color:"textSecondary",mr:2,children:"Blend Type"})}),Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsxs)(pr.a,{name:"layer_data.blendType",variant:"outlined",value:o.layer_data.blendType,onChange:function(e){return c("blendType",e.target.value)},fullWidth:!0,children:[Object($.jsx)(da.a,{value:"normal",children:"Normal"}),Object($.jsx)(da.a,{value:"multiply",children:"Multiply"}),Object($.jsx)(da.a,{value:"darken",children:"Darken"}),Object($.jsx)(da.a,{value:"lighten",children:"Lighten"}),Object($.jsx)(da.a,{value:"color-burn",children:"Color Burn"}),Object($.jsx)(da.a,{value:"color",children:"Color"}),Object($.jsx)(da.a,{value:"screen",children:"Screen"}),Object($.jsx)(da.a,{value:"overlay",children:"Overlay"}),Object($.jsx)(da.a,{value:"hue",children:"Hue"}),Object($.jsx)(da.a,{value:"saturation",children:"Saturation"}),Object($.jsx)(da.a,{value:"luminosity",children:"Luminosity"}),Object($.jsx)(da.a,{value:"xor",children:"Xor"})]})})]}):Object($.jsx)($.Fragment,{}),a&&r(i)?Object($.jsx)(F.a,{mt:2,width:"100%",children:Object($.jsx)(Y.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object($.jsx)($.Fragment,{})]})})]})},pn=j.a.memo(yn),gn=a(1101),mn=a(1102),xn=function(e){e.errors;var t=e.isValid,a=e.checkLayerDataDirty,r=(e.handleBlur,e.handleChange,e.setFieldValue),n=(e.toggleField,e.touched,e.values),o=e.onLayerDataUpdate,c=["rotation","flip","flop"],i=Object(u.useState)(!0),l=Object(s.a)(i,2),d=l[0],j=l[1],b=Object(u.useMemo)((function(){return n.layer_type!==M.e.SHAPE?M.a[n.layer_type]:M.a[n.layer_type][n.layer_data.type]}),[n]);return c.every((function(e){return!b.includes("layer_data."+e)}))?Object($.jsx)($.Fragment,{}):Object($.jsxs)(at.a,{expanded:d,onChange:function(){return j(!d)},children:[Object($.jsx)(tt.a,{expandIcon:Object($.jsx)(st.a,{}),children:Object($.jsx)(P.a,{children:"Rotation"})}),Object($.jsx)(rt.a,{children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",width:"100%",children:[b.includes("layer_data.rotation")?Object($.jsx)(ft,{label:"Rotation",min:-179,max:179,value:Math.round(n.layer_data.rotation),setValue:function(e){return r("layer_data.rotation",e)}}):Object($.jsx)($.Fragment,{}),b.includes("layer_data.flop")?Object($.jsxs)(F.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object($.jsx)(P.a,{variant:"body1",color:"textSecondary",mr:2,children:"Flop"}),Object($.jsx)(U.a,{onClick:function(){return o("flop",n.layer_data.flop?0:1)},size:"small",children:n.layer_data.flop?Object($.jsx)(gn.a,{}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)(gn.a,{}),Object($.jsx)(F.a,{position:"absolute",left:"4px",top:"5px",children:Object($.jsx)(Ve.a,{icon:Qe.m,size:"sm"})})]})})]}):Object($.jsx)($.Fragment,{}),b.includes("layer_data.flip")?Object($.jsxs)(F.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object($.jsx)(P.a,{variant:"body1",color:"textSecondary",mr:2,children:"Flip"}),Object($.jsx)(U.a,{onClick:function(){return o("flip",n.layer_data.flip?0:1)},size:"small",children:n.layer_data.flip?Object($.jsx)(mn.a,{}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)(mn.a,{}),Object($.jsx)(F.a,{position:"absolute",left:"4px",top:"5px",children:Object($.jsx)(Ve.a,{icon:Qe.m,size:"sm"})})]})})]}):Object($.jsx)($.Fragment,{}),t&&a(c)?Object($.jsx)(F.a,{mt:2,width:"100%",children:Object($.jsx)(Y.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object($.jsx)($.Fragment,{})]})})]})},_n=j.a.memo(xn),wn=Object(d.c)(Ke.a).withConfig({displayName:"ShadowProperty__CustomeTextField",componentId:"sc-1d6vteb-0"})([".MuiInputBase-input{height:2rem;}"]),Cn=function(e){var t=e.errors,a=e.isValid,r=e.checkLayerDataDirty,n=e.handleBlur,o=e.handleChange,c=e.setFieldValue,i=e.touched,l=e.values,d=e.onLayerDataUpdate,j=["shadowColor","shadowBlur","shadowOpacity","shadowOffsetX","shadowOffsetY"],b=Object(u.useState)(!0),h=Object(s.a)(b,2),O=h[0],f=h[1],y=Object(u.useMemo)((function(){return l.layer_type!==M.e.SHAPE?M.a[l.layer_type]:M.a[l.layer_type][l.layer_data.type]}),[l]),p=Object(u.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l.layer_data.shadowColor&&"transparent"!==l.layer_data.shadowColor||c("layer_data.shadowBlur",5),t?d("shadowColor",e):c("layer_data.shadowColor",e)}),[c,d,l.layer_data.shadowColor]);return j.every((function(e){return!y.includes("layer_data."+e)}))?Object($.jsx)($.Fragment,{}):Object($.jsxs)(at.a,{expanded:O,onChange:function(){return f(!O)},children:[Object($.jsx)(tt.a,{expandIcon:Object($.jsx)(st.a,{}),children:Object($.jsx)(P.a,{children:"Shadow"})}),Object($.jsx)(rt.a,{children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",width:"100%",children:[y.includes("layer_data.shadowColor")?Object($.jsxs)(nt.a,{container:!0,spacing:2,children:[Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsx)(P.a,{variant:"body1",color:"textSecondary",mr:2,children:"Shadow Color"})}),Object($.jsx)(nt.a,{item:!0,xs:6,children:Object($.jsx)(gt,{value:l.layer_data.shadowColor,onChange:function(e){return p(e)},onInputChange:function(e){return p(e,!1)},error:Boolean(t.layer_data&&t.layer_data.shadowColor),helperText:t.layer_data&&t.layer_data.shadowColor})})]}):Object($.jsx)($.Fragment,{}),y.includes("layer_data.shadowBlur")?Object($.jsx)(wn,{name:"layer_data.shadowBlur",label:"Shadow Blur",variant:"outlined",type:"number",value:Object(ge.j)(l.layer_data.shadowBlur),error:Boolean(i.layer_data&&i.layer_data.shadowBlur&&t.layer_data&&t.layer_data.shadowBlur),helperText:i.layer_data&&i.layer_data.shadowBlur&&t.layer_data&&t.layer_data.shadowBlur,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{}),y.includes("layer_data.shadowOpacity")?Object($.jsx)(ft,{label:"Shadow Opacity",min:0,max:1,step:.01,value:l.layer_data.shadowOpacity,setValue:function(e){return c("layer_data.shadowOpacity",e)}}):Object($.jsx)($.Fragment,{}),Object($.jsxs)(nt.a,{container:!0,spacing:1,children:[Object($.jsx)(nt.a,{item:!0,sm:6,children:y.includes("layer_data.shadowOffsetX")?Object($.jsx)(wn,{name:"layer_data.shadowOffsetX",label:"Shadow OffsetX",variant:"outlined",type:"number",value:Object(ge.j)(l.layer_data.shadowOffsetX),error:Boolean(i.layer_data&&i.layer_data.shadowOffsetX&&t.layer_data&&t.layer_data.shadowOffsetX),helperText:i.layer_data&&i.layer_data.shadowOffsetX&&t.layer_data&&t.layer_data.shadowOffsetX,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})}),Object($.jsx)(nt.a,{item:!0,sm:6,children:y.includes("layer_data.shadowOffsetY")?Object($.jsx)(wn,{name:"layer_data.shadowOffsetY",label:"Shadow OffsetY",variant:"outlined",type:"number",value:Object(ge.j)(l.layer_data.shadowOffsetY),error:Boolean(i.layer_data&&i.layer_data.shadowOffsetY&&t.layer_data&&t.layer_data.shadowOffsetY),helperText:i.layer_data&&i.layer_data.shadowOffsetY&&t.layer_data&&t.layer_data.shadowOffsetY,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})})]}),a&&r(j)?Object($.jsx)(F.a,{mt:2,width:"100%",children:Object($.jsx)(Y.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object($.jsx)($.Fragment,{})]})})]})},vn=j.a.memo(Cn),kn=Object(d.c)(Ke.a).withConfig({displayName:"CornerProperty__CustomeTextField",componentId:"sc-1szt41-0"})([".MuiInputBase-input{height:2rem;}"]),Ln=function(e){var t=e.errors,a=e.isValid,r=e.checkLayerDataDirty,n=e.handleBlur,o=e.handleChange,c=(e.setFieldValue,e.touched),i=e.values,l=["cornerTopLeft","cornerTopRight","cornerBottomLeft","cornerBottomRight"],d=Object(u.useState)(!0),j=Object(s.a)(d,2),b=j[0],h=j[1],O=Object(u.useMemo)((function(){return i.layer_type!==M.e.SHAPE?M.a[i.layer_type]:M.a[i.layer_type][i.layer_data.type]}),[i]);return l.every((function(e){return!O.includes("layer_data."+e)}))?Object($.jsx)($.Fragment,{}):Object($.jsxs)(at.a,{expanded:b,onChange:function(){return h(!b)},children:[Object($.jsx)(tt.a,{expandIcon:Object($.jsx)(st.a,{}),children:Object($.jsx)(P.a,{children:"Corner Radius"})}),Object($.jsx)(rt.a,{children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",width:"100%",children:[Object($.jsxs)(nt.a,{container:!0,spacing:1,children:[Object($.jsx)(nt.a,{item:!0,xs:6,children:O.includes("layer_data.cornerTopLeft")?Object($.jsx)(kn,{name:"layer_data.cornerTopLeft",label:"Top Left",variant:"outlined",type:"number",value:Object(ge.j)(i.layer_data.cornerTopLeft),error:Boolean(c.layer_data&&c.layer_data.cornerTopLeft&&t.layer_data&&t.layer_data.cornerTopLeft),helperText:c.layer_data&&c.layer_data.cornerTopLeft&&t.layer_data&&t.layer_data.cornerTopLeft,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})}),Object($.jsx)(nt.a,{item:!0,xs:6,children:O.includes("layer_data.cornerTopRight")?Object($.jsx)(kn,{name:"layer_data.cornerTopRight",label:"Top Right",variant:"outlined",type:"number",value:Object(ge.j)(i.layer_data.cornerTopRight),error:Boolean(c.layer_data&&c.layer_data.cornerTopRight&&t.layer_data&&t.layer_data.cornerTopRight),helperText:c.layer_data&&c.layer_data.cornerTopRight&&t.layer_data&&t.layer_data.cornerTopRight,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})}),Object($.jsx)(nt.a,{item:!0,xs:6,children:O.includes("layer_data.cornerBottomLeft")?Object($.jsx)(kn,{name:"layer_data.cornerBottomLeft",label:"Bottom Left",variant:"outlined",type:"number",value:Object(ge.j)(i.layer_data.cornerBottomLeft),error:Boolean(c.layer_data&&c.layer_data.cornerBottomLeft&&t.layer_data&&t.layer_data.cornerBottomLeft),helperText:c.layer_data&&c.layer_data.cornerBottomLeft&&t.layer_data&&t.layer_data.cornerBottomLeft,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})}),Object($.jsx)(nt.a,{item:!0,xs:6,children:O.includes("layer_data.cornerBottomRight")?Object($.jsx)(kn,{name:"layer_data.cornerBottomRight",label:"Bottom Right",variant:"outlined",type:"number",value:Object(ge.j)(i.layer_data.cornerBottomRight),error:Boolean(c.layer_data&&c.layer_data.cornerBottomRight&&t.layer_data&&t.layer_data.cornerBottomRight),helperText:c.layer_data&&c.layer_data.cornerBottomRight&&t.layer_data&&t.layer_data.cornerBottomRight,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})})]}),a&&r(l)?Object($.jsx)(F.a,{mt:2,width:"100%",children:Object($.jsx)(Y.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object($.jsx)($.Fragment,{})]})})]})},Sn=j.a.memo(Ln),Rn=function(e){e.errors,e.handleBlur,e.handleChange,e.setFieldValue,e.touched;var t=e.values,a=e.onClone,r=Object(u.useMemo)((function(){return t.layer_type!==M.e.SHAPE?M.a[t.layer_type]:M.a[t.layer_type][t.layer_data.type]}),[t]);return r.includes("clone")?Object($.jsx)(F.a,{display:"flex",flexDirection:"column",width:"100%",children:r.includes("clone")?Object($.jsx)(Y.a,{variant:"outlined",onClick:a,children:"Clone"}):Object($.jsx)($.Fragment,{})}):Object($.jsx)($.Fragment,{})},In=j.a.memo(Rn),Tn=Object(d.c)(Ke.a).withConfig({displayName:"SkewProperty__CustomeTextField",componentId:"sc-1rg1njy-0"})([".MuiInputBase-input{height:2rem;}"]),Dn=function(e){var t=e.errors,a=e.isValid,r=e.checkLayerDataDirty,n=e.handleBlur,o=e.handleChange,c=(e.setFieldValue,e.touched),i=e.values,l=["skewX","skewY"],d=Object(u.useState)(!0),j=Object(s.a)(d,2),b=j[0],h=j[1],O=Object(u.useMemo)((function(){return i.layer_type!==M.e.SHAPE?M.a[i.layer_type]:M.a[i.layer_type][i.layer_data.type]}),[i]);return l.every((function(e){return!O.includes("layer_data."+e)}))?Object($.jsx)($.Fragment,{}):Object($.jsxs)(at.a,{expanded:b,onChange:function(){return h(!b)},children:[Object($.jsx)(tt.a,{expandIcon:Object($.jsx)(st.a,{}),children:Object($.jsx)(P.a,{children:"Skew"})}),Object($.jsx)(rt.a,{children:Object($.jsxs)(F.a,{display:"flex",flexDirection:"column",width:"100%",children:[Object($.jsxs)(nt.a,{container:!0,spacing:1,children:[Object($.jsx)(nt.a,{item:!0,sm:6,children:O.includes("layer_data.skewX")?Object($.jsx)(Tn,{name:"layer_data.skewX",label:"SkewX",variant:"outlined",type:"number",inputProps:{step:.1},value:Object(ge.j)(i.layer_data.skewX),error:Boolean(c.layer_data&&c.layer_data.skewX&&t.layer_data&&t.layer_data.skewX),helperText:c.layer_data&&c.layer_data.skewX&&t.layer_data&&t.layer_data.skewX,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})}),Object($.jsx)(nt.a,{item:!0,sm:6,children:O.includes("layer_data.skewY")?Object($.jsx)(Tn,{name:"layer_data.skewY",label:"SkewY",variant:"outlined",type:"number",inputProps:{step:.1},value:Object(ge.j)(i.layer_data.skewY),error:Boolean(c.layer_data&&c.layer_data.skewY&&t.layer_data&&t.layer_data.skewY),helperText:c.layer_data&&c.layer_data.skewY&&t.layer_data&&t.layer_data.skewY,onBlur:n,onChange:o,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object($.jsx)($.Fragment,{})})]}),a&&r(l)?Object($.jsx)(F.a,{mt:2,width:"100%",children:Object($.jsx)(Y.a,{type:"submit",color:"primary",variant:"outlined",fullWidth:!0,children:"Apply"})}):Object($.jsx)($.Fragment,{})]})})]})},En=j.a.memo(Dn),Fn=Object(d.c)(F.a).withConfig({displayName:"propertyBar__Wrapper",componentId:"sc-1e4csol-0"})(["width:350px;position:fixed;right:0;top:0;background:#666666;height:calc(100% - 50px);overflow:auto;"]),Mn=j.a.memo((function(e){var t=e.fontList,a=e.toggleField,r=e.toggleLayerDataField,n=e.currentLayer,o=e.pressedKey,c=e.onClone,s=e.onLayerDataUpdate,d=Object(Oe.a)(e,["fontList","toggleField","toggleLayerDataField","currentLayer","pressedKey","onClone","onLayerDataUpdate"]),j=Object(u.useCallback)((function(e){var t,a=Object(Qr.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(d.values.layer_data[r]!=n.layer_data[r])return!0}}catch(o){a.e(o)}finally{a.f()}return!1}),[d.values,n]);return Object($.jsxs)(et.a,{onSubmit:d.handleSubmit,noValidate:!0,children:[Object($.jsx)(F.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"34px",children:Object($.jsx)(P.a,{variant:"h5",noWrap:!0,children:"Properties"})}),Object($.jsx)(tn,Object(i.a)(Object(i.a)({},d),{},{toggleField:a,checkLayerDataDirty:j})),Object($.jsx)(hn,Object(i.a)(Object(i.a)({},d),{},{fontList:t,onLayerDataUpdate:s,checkLayerDataDirty:j})),Object($.jsx)(pn,Object(i.a)(Object(i.a)({},d),{},{onLayerDataUpdate:s,checkLayerDataDirty:j})),Object($.jsx)(fn,Object(i.a)(Object(i.a)({},d),{},Object(l.a)({checkLayerDataDirty:j,onLayerDataUpdate:s},"onLayerDataUpdate",s))),Object($.jsx)(ln,Object(i.a)(Object(i.a)({},d),{},{toggleLayerDataField:r,currentLayer:n,pressedKey:o,checkLayerDataDirty:j})),Object($.jsx)(un,Object(i.a)(Object(i.a)({},d),{},{checkLayerDataDirty:j})),Object($.jsx)(_n,Object(i.a)(Object(i.a)({},d),{},{toggleField:a,checkLayerDataDirty:j,onLayerDataUpdate:s})),Object($.jsx)(En,Object(i.a)(Object(i.a)({},d),{},{checkLayerDataDirty:j})),Object($.jsx)(vn,Object(i.a)(Object(i.a)({},d),{},{checkLayerDataDirty:j,onLayerDataUpdate:s})),Object($.jsx)(Sn,Object(i.a)(Object(i.a)({},d),{},{checkLayerDataDirty:j})),Object($.jsx)(In,Object(i.a)(Object(i.a)({},d),{},{onClone:c}))]})})),Bn=function(){var e=Object(O.d)(),t=Object(O.e)((function(e){return e.layerReducer.current})),a=Object(O.e)((function(e){return e.fontReducer.list})),r=Object(O.e)((function(e){return e.boardReducer.pressedKey})),n=Object(u.useMemo)((function(){return t?t.layer_type!==M.e.SHAPE?M.a[t.layer_type]:M.a[t.layer_type][t.layer_data.type]:[]}),[t]),o=Object(u.useMemo)((function(){return h.a.pick({layer_visible:1,layer_locked:0,layer_data:h.a.pick(M.b.layer_data,n.filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")})))},n.filter((function(e){return!e.includes("layer_data.")})))}),[n]),c=Object(u.useCallback)((function(){t&&e(Object(We.b)(t))}),[e,t]),s=Object(u.useCallback)((function(t){e(Object(We.s)(t))}),[e]),d=Object(u.useCallback)((function(a){e(Object(We.s)(Object(i.a)(Object(i.a)({},t),{},Object(l.a)({},a,t[a]?0:1))))}),[e,t]),j=Object(u.useCallback)((function(a,r){e(Object(We.s)(Object(i.a)(Object(i.a)({},t),{},{layer_data:Object(i.a)(Object(i.a)({},t.layer_data),{},Object(l.a)({},a,r))})))}),[e,t]),b=Object(u.useCallback)((function(a){e(Object(We.s)(Object(i.a)(Object(i.a)({},t),{},{layer_data:Object(i.a)(Object(i.a)({},t.layer_data),{},Object(l.a)({},a,t.layer_data[a]?0:1))})))}),[e,t]);return t?Object($.jsx)(Fn,{py:5,px:3,children:Object($.jsx)(et.b,{initialValues:Object(i.a)(Object(i.a)(Object(i.a)({},o),t),{},{layer_data:Object(i.a)(Object(i.a)({},o.layer_data),t.layer_data)}),validationSchema:$e.b({layer_order:$e.a(),layer_visible:$e.a(),layer_locked:$e.a(),layer_data:$e.b(h.a.pick({name:$e.c().required("Required"),text:$e.c().test("text-validation","Required",(function(e){return e&&e.length||!n.includes("layer_data.text")})),width:$e.a().test("width-validation","Required",(function(e){return e||!n.includes("layer_data.width")})),height:$e.a().test("height-validation","Required",(function(e){return e||!n.includes("layer_data.height")})),left:$e.a(),top:$e.a(),rotation:$e.a().moreThan(-181,"Must be greater than -181").lessThan(181,"Must be less than 181"),flop:$e.a(),flip:$e.a(),scaleX:$e.a().moreThan(0,"Must be greater than 0"),scaleY:$e.a().moreThan(0,"Must be greater than 0"),color:$e.c().nullable().test("color-validation","Incorrect Color Format",ge.d),size:$e.a(),scolor:$e.c().nullable().test("color-validation","Incorrect Color Format",ge.d),stroke:$e.a(),font:$e.a(),opacity:$e.a(),shadowColor:$e.c().nullable().test("color-validation","Incorrect Color Format",ge.d),shadowBlur:$e.a(),shadowOpacity:$e.a(),shadowOffsetX:$e.a(),shadowOffsetY:$e.a(),skewX:$e.a(),skewY:$e.a(),cornerTopLeft:$e.a(),cornerTopRight:$e.a(),cornerBottomLeft:$e.a(),cornerBottomRight:$e.a(),radius:$e.a().moreThan(0,"Must be greater than 0"),innerRadius:$e.a().moreThan(0,"Must be greater than 0"),outerRadius:$e.a().moreThan(0,"Must be greater than 0"),numPoints:$e.a().moreThan(1,"Must be greater than 1"),angle:$e.a(),pointerLength:$e.a().moreThan(0,"Must be greater than 0"),pointerWidth:$e.a().moreThan(0,"Must be greater than 0")},n.filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")}))))}),enableReinitialize:!0,validate:function(e){return console.log(e),{}},onSubmit:s,children:function(e){return Object($.jsx)(Mn,Object(i.a)(Object(i.a)({},e),{},{fontList:a,toggleField:d,toggleLayerDataField:b,currentLayer:t,pressedKey:r,onClone:c,onLayerDataUpdate:j}))}})}):Object($.jsx)($.Fragment,{})},An=a(181),Nn=a(182),Pn=Object(d.c)(F.a).withConfig({displayName:"scheme__Wrapper",componentId:"sc-188wpva-0"})(["background-color:",";"],(function(e){return e.background}));t.default=function(){var e=Object(O.d)(),t=Object(g.g)(),a=Object(u.useState)(""),r=Object(s.a)(a,2),d=r[0],j=r[1],b=Object(u.useState)(null),f=Object(s.a)(b,2),m=f[0],x=f[1],_=Object(u.useState)({}),w=Object(s.a)(_,2),C=w[0],v=w[1],k=Object(u.useRef)(0),L=Object(u.useRef)(0),S=Object(u.useRef)(null),R=Object(u.useRef)(null),I=Object(u.useRef)(null),T=Object(u.useRef)(null),D=Object(O.e)((function(e){return e.authReducer.user})),N=Object(O.e)((function(e){return e.schemeReducer.current})),P=Object(O.e)((function(e){return e.schemeReducer.loaded})),U=Object(O.e)((function(e){return e.layerReducer.current})),Y=Object(O.e)((function(e){return e.layerReducer.clipboard})),W=Object(O.e)((function(e){return e.layerReducer.loadedStatuses})),X=Object(O.e)((function(e){return e.overlayReducer.list})),z=Object(O.e)((function(e){return e.logoReducer.list})),G=Object(O.e)((function(e){return e.fontReducer.list})),H=Object(O.e)((function(e){return e.boardReducer.zoom})),K=Object(O.e)((function(e){return e.boardReducer.pressedKey})),V=Object(O.e)((function(e){return e.boardReducer.boardRotate})),Z=Object(O.e)((function(e){return e.boardReducer.frameSize})),J=Object(O.e)((function(e){return e.boardReducer.mouseMode})),q=Object(O.e)((function(e){return e.boardReducer.paintingGuides})),Q=Object(u.useRef)(null),ee=Object(u.useRef)(null),te=Object(O.e)((function(e){return e.schemeReducer.loading})),ae=Object(O.e)((function(e){return e.carMakeReducer.loading})),re=Object(O.e)((function(e){return e.fontReducer.loading})),ne=Object(O.e)((function(e){return e.uploadReducer.initialized})),oe=Object(u.useCallback)((function(e,t){v(!0===t?Object(l.a)({},e,t):function(a){return Object(i.a)(Object(i.a)({},a),{},Object(l.a)({},e,t))})}),[v]),ce=Object(u.useCallback)((function(){e(Object(A.k)(Object(ge.k)(Math.max(Math.min(1.25*H,10),.25))))}),[e,H]),ie=Object(u.useCallback)((function(){e(Object(A.k)(Object(ge.k)(Math.max(Math.min(H/1.25,10),.25))))}),[e,H]),se=Object(u.useCallback)((function(){var t=S.current.attrs.width,a=S.current.attrs.height,r=Object(ge.k)(Math.min(t/Z.width,a/Z.height));S.current.x(t/2),S.current.y(a/2),e(Object(A.k)(r))}),[e,S.current&&S.current.attrs&&S.current.attrs.width,S.current&&S.current.attrs&&S.current.attrs.height,Z]),de=Object(u.useCallback)((function(t){e(Object(A.i)(t))}),[]),ue=Object(u.useCallback)((function(t){e(Object(A.f)(t))}),[]),je=Object(u.useCallback)((function(e){var t=Object(c.a)(q),a=t.indexOf(e);a>-1?t.splice(a,1):t.push(e),de(t)}),[q,de]),be=Object(u.useCallback)((function(){setTimeout((function(){return document.activeElement.blur()}),1e3)}),[]),he=Object(u.useCallback)((function(t,a){if("INPUT"!==a.target.tagName&&"keydown"===a.type&&(K!==t&&e(Object(A.j)(t)),"del"!==t&&"backspace"!==t||!U||U.layer_type===M.e.CAR?"esc"===t&&U?e(Object(We.n)(null)):"+"===a.key&&a.shiftKey?ce():"_"===a.key&&a.shiftKey?ie():")"===a.key&&a.shiftKey?e(Object(A.k)(1)):"("===a.key&&a.shiftKey?se():"D"===a.key&&a.shiftKey?e(Object(A.h)(M.f.DEFAULT)):"B"===a.key&&a.shiftKey?e(Object(A.h)(M.f.PEN)):"R"===a.key&&a.shiftKey?e(Object(A.h)(M.f.RECT)):"C"===a.key&&a.shiftKey?e(Object(A.h)(M.f.CIRCLE)):"E"===a.key&&a.shiftKey?e(Object(A.h)(M.f.ELLIPSE)):"S"===a.key&&a.shiftKey?e(Object(A.h)(M.f.STAR)):"G"===a.key&&a.shiftKey?e(Object(A.h)(M.f.RING)):"O"===a.key&&a.shiftKey?e(Object(A.h)(M.f.REGULARPOLYGON)):"W"===a.key&&a.shiftKey?e(Object(A.h)(M.f.WEDGE)):"A"===a.key&&a.shiftKey?e(Object(A.h)(M.f.ARC)):"P"===a.key&&a.shiftKey?e(Object(A.h)(M.f.POLYGON)):"L"===a.key&&a.shiftKey?e(Object(A.h)(M.f.LINE)):">"===a.key&&a.shiftKey?e(Object(A.h)(M.f.ARROW)):"c"===a.key&&(a.ctrlKey||a.metaKey)&&U?e(Object(We.m)(U)):"v"===a.key&&(a.ctrlKey||a.metaKey)&&Y?e(Object(We.b)(Y)):"z"===a.key&&(a.ctrlKey||a.metaKey)?e(Object(A.c)()):"y"===a.key&&(a.ctrlKey||a.metaKey)?e(Object(A.d)()):"1"===t?je(M.g.CARMASK):"2"===t?je(M.g.WIREFRAME):"3"===t?je(M.g.SPONSORBLOCKS):"4"===t?je(M.g.NUMBERBLOCKS):"5"===t?je(M.g.GRID):"t"===t?x(M.c.TEXT):"s"===t?x(M.c.SHAPE):"l"===t?x(M.c.LOGO):"b"===t?x(M.c.BASEPAINT):"enter"===t&&[M.f.DEFAULT,M.f.LINE,M.f.ARROW,M.f.POLYGON].includes(J)&&e(Object(We.o)(We.a.ADD_TO_SHAPE)):j('Are you sure to delete "'.concat(U.layer_data.name,'"?'))),"INPUT"!==a.target.tagName&&("keyup"===a.type&&e(Object(A.j)(null)),["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(a.key)&&U&&![M.e.CAR,M.e.BASE].includes(U.layer_type))){var r=a.shiftKey?10:1,n="ArrowLeft"===a.key?-r:"ArrowRight"===a.key?r:0,o="ArrowUp"===a.key?-r:"ArrowDown"===a.key?r:0,c=n,l=o;if(90===V?(c=o,l=-n):180===V?(c=-n,l=-o):270===V&&(c=-o,l=n),"keyup"===a.type){var s=Object(i.a)({},U.layer_data);L.current!=k.current&&(s.left=U.layer_data.left+c,s.top=U.layer_data.top+l),e(Object(We.s)(Object(i.a)(Object(i.a)({},U),{},{layer_data:s})))}else L.current!=k.current&&(L.current=Object.assign(k.current),e(Object(We.t)(Object(i.a)(Object(i.a)({},U),{},{layer_data:Object(i.a)(Object(i.a)({},U.layer_data),{},{left:U.layer_data.left+c,top:U.layer_data.top+l})}))))}}),[e,K,U,Y,L.current,k.current]),Oe=Object(u.useCallback)((function(){e(Object(We.k)(U)),j("")}),[e,U,j]),fe=Object(u.useCallback)(Object(o.a)(n.a.mark((function e(){var t,a,r,o,c,l,s,d,u,j,b,O,f,y,p=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(p.length>0&&void 0!==p[0])||p[0],a=document.createElement("canvas"),r=a.getContext("2d"),o=t?.5:1,c=ee.current.width*o,l=ee.current.height*o,j=Object(i.a)({},S.current.attrs),S.current.setAttrs({x:0,y:0,offsetX:0,offsetY:0,scaleX:1,scaleY:1,rotation:0,width:ee.current.width,height:ee.current.height}),S.current.draw(),!R.current){e.next=14;break}return b=R.current.toDataURL({pixelRatio:o}),e.next=13,Object(ge.a)(b);case 13:s=e.sent;case 14:if(!I.current){e.next=19;break}return O=I.current.toDataURL({pixelRatio:o}),e.next=18,Object(ge.a)(O);case 18:d=e.sent;case 19:if(!T.current||!t){e.next=24;break}return f=T.current.toDataURL({pixelRatio:o}),e.next=23,Object(ge.a)(f);case 23:u=e.sent;case 24:if(S.current.setAttrs(h.a.omit(j,["container"])),S.current.draw(),a.width=c,a.height=l,s&&r.drawImage(s,0,0,s.width,s.height),d&&r.drawImage(d,0,0,d.width,d.height),u&&t&&r.drawImage(u,0,0,u.width,u.height),!t){e.next=33;break}return e.abrupt("return",a.toDataURL("image/png"));case 33:return y=r.getImageData(0,0,c,l),e.abrupt("return",y);case 35:case"end":return e.stop()}}),e)}))),[ee.current,S.current,R.current,I.current,T.current]),ye=Object(u.useCallback)(Object(o.a)(n.a.mark((function t(){var a,r,o,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!S.current||!Q.current){t.next=19;break}return t.prev=1,e(Object(He.k)(!0)),t.next=5,fe();case 5:return a=t.sent,e(Object(He.k)(!1)),r=Object(ge.e)(a),o=new File([r],"".concat(Q.current.id,".png"),{type:"image/png"}),(c=new FormData).append("files",o),c.append("schemeID",Q.current.id),t.next=14,cr.a.uploadThumbnail(c);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),e(Object(or.b)({message:t.t0.message}));case 19:case"end":return t.stop()}}),t,null,[[1,16]])}))),[e,Q.current&&Q.current.id,!S.current,fe]),pe=Object(u.useCallback)(Object(o.a)(n.a.mark((function t(){var a,r,o,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!S.current||!Q.current){t.next=22;break}return t.prev=1,e(Object(He.k)(!0)),t.next=5,fe(!1);case 5:a=t.sent,e(Object(He.k)(!1)),(r=new E({width:ee.current.width,height:ee.current.height,imageType:E.Type.RLE_RGB})).setImageData(a),o=r.getBlobURL(),(c=document.createElement("a")).style="display: none",c.href=o,c.download="".concat(Q.current.id,".tga"),c.click(),window.URL.revokeObjectURL(o),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),console.log(t.t0),e(Object(or.b)({message:t.t0.message}));case 22:case"end":return t.stop()}}),t,null,[[1,18]])}))),[e,Q.current&&Q.current.id,!S.current,fe]);return Object(u.useEffect)((function(){D&&D.id&&t.id&&(N||e(Object(He.h)(t.id)),ne||e(Object(nr.c)(D.id)),X.length||e(Object(An.b)()),z.length||e(Object(Nn.b)()),G.length||e(Object(Ye.b)()))}),[D]),Object(u.useEffect)((function(){var e=setInterval((function(){k.current+=1}),200),t=setTimeout(ye,7e3),a=setInterval(ye,3e5);return function(){clearInterval(e),clearInterval(a),clearTimeout(t)}}),[]),Object(u.useEffect)((function(){!P&&Object.keys(W).every((function(e){return W[e]}))&&S.current&&(e(Object(He.j)(!0)),se())}),[W,P]),Object(u.useEffect)((function(){Q.current=N}),[N]),Object(u.useEffect)((function(){ee.current=Z}),[Z]),Object($.jsxs)($.Fragment,{children:[Object($.jsx)(p.b,{title:N?N.name:null}),te||ae||re||!N?Object($.jsx)(B.a,{}):Object($.jsxs)(F.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:[Object($.jsx)(y.a,{handleKeys:["all"],onKeyEvent:he}),Object($.jsx)(y.a,{handleKeys:["all"],handleEventType:"keyup",onKeyEvent:he}),Object($.jsxs)(F.a,{width:"100%",height:"calc(100% - 50px)",display:"flex",children:[Object($.jsx)(qr,{dialog:m,setDialog:x,focusBoard:be,hoveredLayerJSON:C,onChangeHoverJSONItem:oe}),Object($.jsx)(Pn,{width:"calc(100% - 350px)",background:"#282828",overflow:"hidden",children:Object($.jsx)(Ge,{hoveredLayerJSON:C,onChangeHoverJSONItem:oe,onChangeBoardRotation:ue,stageRef:S,baseLayerRef:R,mainLayerRef:I,carMaskLayerRef:T})}),Object($.jsx)(Bn,{})]}),Object($.jsx)(le,{onZoomIn:ce,onZoomOut:ie,onZoomFit:se,onChangePaintingGuides:de,onDownloadTGA:pe})]}),Object($.jsx)(qa.a,{text:d,open:0!==d.length,onCancel:function(){return j("")},onConfirm:Oe})]})}},442:function(e,t,a){"use strict";var r=a(19),n=(a(0),a(1067)),o=a(1113),c=a(575),i=a.n(c),l=a(7),s=Object(n.a)((function(e){return{search:Object(r.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},border:"1px solid #8A8A8A",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}}));t.a=function(e){var t=e.value,a=e.onChange,r=s();return Object(l.jsxs)("div",{className:r.search,children:[Object(l.jsx)("div",{className:r.searchIcon,children:Object(l.jsx)(i.a,{})}),Object(l.jsx)(o.a,{placeholder:"Search",classes:{root:r.inputRoot,input:r.inputInput},value:t,inputProps:{"aria-label":"search"},onChange:function(e){a(e.target.value)}})]})}},444:function(e,t,a){"use strict";var r=a(33),n=a(0),o=a.n(n),c=a(324),i=a(320),l=a(1110),s=a(1075),d=a(1076),u=a(133),j=a(1077),b=a(7),h=Object(r.c)(i.a).withConfig({displayName:"ConfirmDialog__Button",componentId:"sc-1cd3vhn-0"})(c.b),O=o.a.memo((function(e){var t=e.text,a=e.open,r=e.onCancel,n=e.onConfirm;return Object(b.jsxs)(l.a,{"aria-labelledby":"confirm-title",open:a,children:[Object(b.jsx)(s.a,{id:"confirm-title",children:"Confirm"}),Object(b.jsx)(d.a,{dividers:!0,children:Object(b.jsx)(u.a,{variant:"body1",children:t})}),Object(b.jsxs)(j.a,{children:[Object(b.jsx)(h,{onClick:r,color:"primary",children:"Cancel"}),Object(b.jsx)(h,{onClick:n,color:"secondary",variant:"outlined",autoFocus:!0,children:"Confirm"})]})]})}));t.a=O}}]);
//# sourceMappingURL=6.11dd35a1.chunk.js.map