{"version":3,"sources":["helper/index.js","dialogs/ProjectSelectDialog.jsx","dialogs/OpenProjectDialog.jsx","dialogs/CreateProjectDialog.jsx","pages/project/index.jsx"],"names":["getDifferenceFromToday","past_date","difference_In_Second","Date","getTime","Math","round","difference_In_Min","difference_In_Hour","difference_In_Day","sortBy","a","b","attribute","inc","Button","styled","MuiButton","spacing","ProjectSelectDialog","props","onCreateProject","onOpenProject","onCancel","open","Dialog","aria-labelledby","DialogTitle","id","DialogContent","dividers","Box","display","flexDirection","onClick","color","variant","mb","DialogActions","SchemeWrapper","OpenProjectDialog","schemeList","length","map","scheme","Typography","name","Helper","date_modified","useState","carMake","setCarMake","onContinue","carMakeList","sortedCarMakesList","sort","Autocomplete","options","groupBy","option","car_type","getOptionLabel","style","width","onChange","event","newValue","renderInput","params","TextField","label","Scheme","dispatch","useDispatch","history","useHistory","dialog","setDialog","user","useSelector","state","authReducer","carMakeReducer","list","schemeReducer","currentScheme","current","schemeLoading","loading","carMakeLoading","useEffect","getSchemeList","getCarMakeList","push","height","ScreenLoader","schemeID","console","log","getScheme","CreateProjectDialog","createScheme","createSchemeFromCarMake"],"mappings":"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","file":"static/js/5.ab37c30f.chunk.js","sourcesContent":["const getDifferenceFromToday = (past_date) => {\r\n  const difference_In_Second =\r\n    new Date().getTime() / 1000 - new Date(past_date).getTime();\r\n  if (difference_In_Second < 60) {\r\n    return `${Math.round(difference_In_Second)} seconds ago`;\r\n  }\r\n  const difference_In_Min = difference_In_Second / 60;\r\n  if (difference_In_Min < 60) {\r\n    return `${Math.round(difference_In_Min)} minutes ago`;\r\n  }\r\n  const difference_In_Hour = difference_In_Min / 60;\r\n  if (difference_In_Hour < 24) {\r\n    return `${Math.round(difference_In_Hour)} hours ago`;\r\n  }\r\n  const difference_In_Day = difference_In_Hour / 24;\r\n  return `${Math.round(difference_In_Day)} days ago`;\r\n};\r\nconst sortBy = (a, b, attribute, inc = true) => {\r\n  if (a[attribute] > b[attribute]) {\r\n    if (inc) return -1;\r\n    return 1;\r\n  }\r\n  if (b[attribute] < a[attribute]) {\r\n    if (inc) return 1;\r\n    return -1;\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport default {\r\n  getDifferenceFromToday,\r\n  sortBy,\r\n};\r\n","import React from \"react\";\r\n\r\nimport styled from \"styled-components/macro\";\r\nimport { spacing } from \"@material-ui/system\";\r\nimport {\r\n  Box,\r\n  Button as MuiButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n} from \"@material-ui/core\";\r\n\r\nconst Button = styled(MuiButton)(spacing);\r\n\r\nconst ProjectSelectDialog = (props) => {\r\n  const { onCreateProject, onOpenProject, onCancel, open } = props;\r\n\r\n  return (\r\n    <Dialog aria-labelledby=\"project-select-title\" open={open}>\r\n      <DialogTitle id=\"project-select-title\">Paint Builder</DialogTitle>\r\n      <DialogContent dividers>\r\n        <Box display=\"flex\" flexDirection=\"column\">\r\n          <Button\r\n            onClick={onCreateProject}\r\n            color=\"default\"\r\n            variant=\"outlined\"\r\n            mb={1}\r\n          >\r\n            CREATE A NEW PAINT\r\n          </Button>\r\n          <Button onClick={onOpenProject} color=\"default\" variant=\"outlined\">\r\n            OPEN A PAINT BUILDER PROJECT\r\n          </Button>\r\n        </Box>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onCancel} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ProjectSelectDialog;\r\n","import React from \"react\";\r\n\r\nimport styled from \"styled-components/macro\";\r\nimport { spacing } from \"@material-ui/system\";\r\nimport {\r\n  Box,\r\n  Button as MuiButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\n\r\nimport Helper from \"helper\";\r\n\r\nconst Button = styled(MuiButton)(spacing);\r\nconst SchemeWrapper = styled(Box)`\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  :hover {\r\n    background: rgba(255, 255, 255, 0.1);\r\n  }\r\n`;\r\n\r\nconst OpenProjectDialog = (props) => {\r\n  const { schemeList, onCreateProject, onOpenProject, onCancel, open } = props;\r\n\r\n  return (\r\n    <Dialog aria-labelledby=\"project-select-title\" open={open}>\r\n      <DialogTitle id=\"project-select-title\">\r\n        Open a Paint Builder Project\r\n      </DialogTitle>\r\n      <DialogContent dividers>\r\n        <Box display=\"flex\" flexDirection=\"column\">\r\n          {schemeList && schemeList.length ? (\r\n            schemeList.map((scheme) => (\r\n              <SchemeWrapper\r\n                onClick={() => onOpenProject(scheme.id)}\r\n                key={scheme.id}\r\n              >\r\n                <Typography variant=\"body1\">{scheme.name}</Typography>\r\n                <Typography variant=\"body2\">\r\n                  Last modified{\" \"}\r\n                  {Helper.getDifferenceFromToday(scheme.date_modified)}\r\n                </Typography>\r\n              </SchemeWrapper>\r\n            ))\r\n          ) : (\r\n            <></>\r\n          )}\r\n        </Box>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onCancel} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={onCreateProject}\r\n          color=\"default\"\r\n          variant=\"outlined\"\r\n          mb={1}\r\n        >\r\n          NEW\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default OpenProjectDialog;\r\n","import React, { useState } from \"react\";\r\n\r\nimport styled from \"styled-components/macro\";\r\nimport { spacing } from \"@material-ui/system\";\r\nimport {\r\n  Box,\r\n  Button as MuiButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { Autocomplete } from \"@material-ui/lab\";\r\nimport Helper from \"helper\";\r\n\r\nconst Button = styled(MuiButton)(spacing);\r\n\r\nconst ProjectSelectDialog = (props) => {\r\n  const [carMake, setCarMake] = useState(null);\r\n  const { onContinue, onCancel, open, carMakeList } = props;\r\n\r\n  let sortedCarMakesList = [...carMakeList]\r\n    .sort((a, b) => Helper.sortBy(a, b, \"name\"))\r\n    .sort((a, b) => Helper.sortBy(a, b, \"car_type\"));\r\n  return (\r\n    <Dialog aria-labelledby=\"project-select-title\" open={open}>\r\n      <DialogTitle id=\"project-select-title\">Create a new paint</DialogTitle>\r\n      <DialogContent dividers>\r\n        {carMakeList && carMakeList.length ? (\r\n          <Autocomplete\r\n            id=\"car-make-select\"\r\n            options={sortedCarMakesList}\r\n            groupBy={(option) => option.car_type}\r\n            getOptionLabel={(option) => option.name}\r\n            style={{ width: 500 }}\r\n            onChange={(event, newValue) => {\r\n              setCarMake(newValue);\r\n            }}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                label=\"SELECT VEHICLE\"\r\n                variant=\"outlined\"\r\n              />\r\n            )}\r\n          />\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onCancel} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={() => onContinue(carMake)}\r\n          color=\"default\"\r\n          variant=\"outlined\"\r\n          mb={1}\r\n        >\r\n          Continue\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ProjectSelectDialog;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\nimport ScreenLoader from \"components/ScreenLoader\";\r\nimport ProjectSelectDialog from \"dialogs/ProjectSelectDialog\";\r\nimport OpenProjectDialog from \"dialogs/OpenProjectDialog\";\r\nimport CreateProjectDialog from \"dialogs/CreateProjectDialog\";\r\n\r\nimport {\r\n  getSchemeList,\r\n  createScheme,\r\n  getScheme,\r\n} from \"redux/reducers/schemeReducer\";\r\nimport { getCarMakeList } from \"redux/reducers/carMakeReducer\";\r\n\r\nconst Scheme = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [dialog, setDialog] = useState(\"ProjectSelectDialog\");\r\n  const user = useSelector((state) => state.authReducer.user);\r\n  const carMakeList = useSelector((state) => state.carMakeReducer.list);\r\n  const schemeList = useSelector((state) => state.schemeReducer.list);\r\n  const currentScheme = useSelector((state) => state.schemeReducer.current);\r\n\r\n  const schemeLoading = useSelector((state) => state.schemeReducer.loading);\r\n  const carMakeLoading = useSelector((state) => state.carMakeReducer.loading);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      if (!schemeList.length) dispatch(getSchemeList(user.id));\r\n      if (!carMakeList.length) dispatch(getCarMakeList());\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (currentScheme) {\r\n      history.push(`/scheme/${currentScheme.id}`);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentScheme]);\r\n\r\n  const openScheme = (schemeID) => {\r\n    console.log(\"Opening scheme: \", schemeID);\r\n    dispatch(getScheme(schemeID));\r\n    setDialog(null);\r\n  };\r\n\r\n  const createSchemeFromCarMake = (carMake) => {\r\n    console.log(\"Creating scheme with carmake: \", carMake);\r\n    dispatch(createScheme(carMake, user.id));\r\n    setDialog(null);\r\n  };\r\n\r\n  return (\r\n    <Box width=\"100%\" height=\"100%\" display=\"flex\" flexDirection=\"column\">\r\n      {schemeLoading || carMakeLoading || !schemeList || !carMakeList ? (\r\n        <ScreenLoader />\r\n      ) : (\r\n        <>\r\n          <ProjectSelectDialog\r\n            open={dialog === \"ProjectSelectDialog\"}\r\n            onCreateProject={() => setDialog(\"CreateProjectDialog\")}\r\n            onOpenProject={() => setDialog(\"OpenProjectDialog\")}\r\n            onCancel={() => setDialog(null)}\r\n          />\r\n          <OpenProjectDialog\r\n            schemeList={schemeList}\r\n            open={dialog === \"OpenProjectDialog\"}\r\n            onCreateProject={() => setDialog(\"CreateProjectDialog\")}\r\n            onOpenProject={(scheme) => openScheme(scheme)}\r\n            onCancel={() => setDialog(\"ProjectSelectDialog\")}\r\n          />\r\n          <CreateProjectDialog\r\n            carMakeList={carMakeList}\r\n            open={dialog === \"CreateProjectDialog\"}\r\n            onContinue={(carMake) => createSchemeFromCarMake(carMake)}\r\n            onCancel={() => setDialog(\"ProjectSelectDialog\")}\r\n          />\r\n        </>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Scheme;\r\n"],"sourceRoot":""}