(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[6],{366:function(e,t,n){"use strict";t.a={getDifferenceFromToday:function(e){var t=(new Date).getTime()/1e3-new Date(e).getTime();if(t<60)return"".concat(Math.round(t)," seconds ago");var n=t/60;if(n<60)return"".concat(Math.round(n)," minutes ago");var a=n/60;if(a<24)return"".concat(Math.round(a)," hours ago");var c=a/24;return"".concat(Math.round(c)," days ago")},sortBy:function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return e[n]>t[n]?a?-1:1:t[n]<e[n]?a?1:-1:0}}},706:function(e,t,n){"use strict";n.r(t);var a=n(44),c=n(358),i=n(31),r=n(0),o=n(36),l=n(459),s=n.n(l),d=n(13),u=n(320),j=n(70),b=n(32),h=n(78),f=n(136),O=n(322),p=n(127),g=n(318),x=n(346),m=n(713),y=n(675),C=n(672),_=n(715),v=n(673),w=n(674),S=n(6),I=Object(i.c)(p.a).withConfig({displayName:"Toolbar__Typography",componentId:"sc-1sow5sy-0"})(O.b),k=Object(i.c)(C.a).withConfig({displayName:"Toolbar__ToggleButton",componentId:"sc-1sow5sy-1"})(O.b),L=Object(i.c)(g.a).withConfig({displayName:"Toolbar__Button",componentId:"sc-1sow5sy-2"})(O.b),R=Object(i.c)(x.a).withConfig({displayName:"Toolbar__IconButton",componentId:"sc-1sow5sy-3"})(O.b),T=i.c.div.withConfig({displayName:"Toolbar__Wrapper",componentId:"sc-1sow5sy-4"})(["width:100%;height:50px;display:flex;padding:10px 20px;background:#151515;z-index:1201;"]),D=Object(i.c)(m.a).withConfig({displayName:"Toolbar__CustomOutlinedInput",componentId:"sc-1sow5sy-5"})([".MuiOutlinedInput-input{padding:6px 14px;border-bottom:none;width:40px;}"]),N=function(e){var t=Object(o.d)(),n=Object(o.e)((function(e){return e.boardReducer.paintingGuides})),a=Object(o.e)((function(e){return e.boardReducer.zoom}));return Object(S.jsx)(T,{children:Object(S.jsxs)(u.a,{display:"flex",justifyContent:"space-between",alignContent:"center",width:"100%",children:[Object(S.jsxs)(u.a,{display:"flex",justifyContent:"start",alignContent:"center",children:[Object(S.jsx)(I,{variant:"subtitle1",mr:2,children:"Painting Guides:"}),Object(S.jsxs)(_.a,{value:n,onChange:function(e,n){t(Object(f.c)(n))},"aria-label":"Painting Guides",children:[Object(S.jsx)(k,{value:b.c.CARMASK,"aria-label":"car-mask",children:Object(S.jsx)(I,{variant:"caption",children:"car mask"})}),Object(S.jsx)(k,{value:b.c.WIREFRAME,"aria-label":"wireframe",children:Object(S.jsx)(I,{variant:"caption",children:"wireframe"})}),Object(S.jsx)(k,{value:b.c.SPONSORBLOCKS,"aria-label":"sponsor-blocks",children:Object(S.jsx)(I,{variant:"caption",children:"sponsor blocks"})}),Object(S.jsx)(k,{value:b.c.NUMBERBLOCKS,"aria-label":"number-blocks",children:Object(S.jsx)(I,{variant:"caption",children:"number blocks"})}),Object(S.jsx)(k,{value:b.c.GRID,"aria-label":"grid",children:Object(S.jsx)(I,{variant:"caption",children:"grid"})})]})]}),Object(S.jsxs)(u.a,{display:"flex",justifyContent:"flex-end",alignContent:"center",children:[Object(S.jsx)(L,{mr:2,variant:"outlined",children:"SHORTCUTS"}),Object(S.jsx)(L,{mr:2,variant:"outlined",children:"SIM PREVIEW"}),Object(S.jsx)(R,{onClick:function(){t(Object(f.d)(a/1.25))},children:Object(S.jsx)(v.a,{})}),Object(S.jsx)(R,{onClick:function(){t(Object(f.d)(1.25*a))},mr:1,children:Object(S.jsx)(w.a,{})}),Object(S.jsx)(D,{id:"zoom-value",value:100*a,onChange:function(e){t(Object(f.d)(parseInt(e.target.value||0)/100))},endAdornment:Object(S.jsx)(y.a,{position:"end",children:"%"}),labelWidth:0})]})]})})},M=n(25),z=n(389),F=n(500),B=n(407),E=function(e){var t=e.src,n=e.tellSize,a=e.isSelected,i=e.onSelect,o=e.onChange,l=Object(B.a)(e,["src","tellSize","isSelected","onSelect","onChange"]),s=Object(r.useRef)(null),d=Object(r.useRef)(),u=Object(r.useRef)(),j=Object(r.useState)(null),b=Object(c.a)(j,2),h=b[0],f=b[1];Object(r.useEffect)((function(){return p(),function(){s.current&&s.current.removeEventListener("load",O)}}),[]),Object(r.useEffect)((function(){p()}),[l.src]),Object(r.useEffect)((function(){a&&!1!==l.listening&&(d.current.nodes([u.current]),d.current.getLayer().batchDraw())}),[a,l.listening]);var O=function(){f(s.current),n({width:l.width||s.current.width,height:l.height||s.current.height})},p=function(){var e=new window.Image;e.src=t,e.crossOrigin="Anonymous",s.current=e,s.current.addEventListener("load",O)};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(z.a,Object(M.a)(Object(M.a)({},l),{},{image:h,onClick:i,onTap:i,ref:u,draggable:o,onDragStart:function(e){i()},onDragEnd:function(e){o&&o({left:e.target.x(),top:e.target.y()})},onTransformEnd:function(e){if(o){var t=u.current,n=t.scaleX(),a=t.scaleY();console.log("scaleX, scaleY: ",n,a),t.scaleX(n>0?1:-1),t.scaleY(a>0?1:-1),o({left:t.x(),top:t.y(),width:Math.max(5,t.width()*Math.abs(n)),height:Math.max(5,t.height()*Math.abs(a)),rotation:t.rotation(),flop:n>0?0:1,flip:a>0?0:1})}}})),a&&!1!==l.listening&&o?Object(S.jsx)(z.g,{ref:d,keepRatio:!1,centeredScaling:!0}):Object(S.jsx)(S.Fragment,{})]})},A=function(e){var t=10,n=e.paintingGuides,a=e.currentCarMake,c=e.handleImageSize,i=e.frameSize;return Object(S.jsxs)(S.Fragment,{children:[n.includes(b.c.CARMASK)?Object(S.jsx)(E,{src:"".concat(j.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/mask.png"),tellSize:c,listening:!1}):Object(S.jsx)(S.Fragment,{}),n.includes(b.c.WIREFRAME)?Object(S.jsx)(E,{src:"".concat(j.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/wireframe.png"),tellSize:c,listening:!1}):Object(S.jsx)(S.Fragment,{}),n.includes(b.c.GRID)?Object(S.jsxs)(S.Fragment,{children:[Array.from(Array(Math.round(i.width/t)),(function(e,n){return Object(S.jsx)(z.c,{points:[Math.round(n*t),0,Math.round(n*t),i.width],stroke:"#ddd",strokeWidth:.1,listening:!1},"x-".concat(n))})),Array.from(Array(Math.round(i.height/t)),(function(e,n){return Object(S.jsx)(z.c,{points:[0,Math.round(n*t),i.height,Math.round(n*t)],stroke:"#ddd",strokeWidth:.1,listening:!1},"y-".concat(n))}))]}):Object(S.jsx)(S.Fragment,{})]})},P=function(e){var t=e.paintingGuides,n=e.currentCarMake,a=e.handleImageSize;return Object(S.jsxs)(S.Fragment,{children:[t.includes(b.c.SPONSORBLOCKS)?Object(S.jsx)(E,{src:"".concat(j.a.assetsURL,"/templates/").concat(n.folder_directory.replace(" ","_"),"/sponsor_blocks.png"),tellSize:a,listening:!1}):Object(S.jsx)(S.Fragment,{}),t.includes(b.c.NUMBERBLOCKS)?Object(S.jsx)(E,{src:"".concat(j.a.assetsURL,"/templates/").concat(n.folder_directory.replace(" ","_"),"/number_blocks.png"),tellSize:a,listening:!1}):Object(S.jsx)(S.Fragment,{})]})},U=n(366),G=function(e){var t=e.layers,n=e.currentCarMake,a=e.handleImageSize;return Object(S.jsx)(S.Fragment,{children:t.filter((function(e){return e.layer_type===b.b.CAR&&e.layer_visible})).sort((function(e,t){return U.a.sortBy(e,t,"layer_order")})).map((function(e){return Object(S.jsx)(E,{src:j.a.assetsURL+"/templates/"+n.folder_directory.replace(" ","_")+"/".concat(e.layer_data.img),tellSize:a,listening:!1},e.id)}))})},X=function(e){var t=e.layers,n=e.handleImageSize;return Object(S.jsx)(S.Fragment,{children:t.filter((function(e){return e.layer_type===b.b.BASE&&e.layer_visible})).sort((function(e,t){return U.a.sortBy(e,t,"layer_order")})).map((function(e){return Object(S.jsx)(E,{src:"".concat(j.a.assetsURL,"/bases/").concat(e.layer_data.id,"/").concat(e.layer_data.img),tellSize:n,listening:!1},e.id)}))})},W=function(e){var t=e.layers,n=e.handleImageSize,a=(e.frameSize,e.currentLayer),c=e.setCurrentLayer,i=e.onChange;return Object(r.useEffect)((function(){}),[]),Object(S.jsx)(S.Fragment,{children:t.filter((function(e){return e.layer_type===b.b.OVERLAY&&e.layer_visible})).sort((function(e,t){return U.a.sortBy(e,t,"layer_order")})).map((function(e){return Object(S.jsx)(E,{src:"".concat(j.a.assetsURL,"/").concat(e.layer_data.source_file),tellSize:n,x:parseFloat(e.layer_data.left),y:parseFloat(e.layer_data.top),width:e.layer_data.width,height:e.layer_data.height,rotation:e.layer_data.rotation,scaleX:0===e.layer_data.flop?1:-1,scaleY:0===e.layer_data.flip?1:-1,onSelect:function(){return c(e)},isSelected:a&&a.id===e.id,listening:!e.layer_locked,onChange:function(t){return i(e,t)}},e.id)}))})},Y=function(e){var t=e.isSelected,n=e.onSelect,a=e.onChange,c=Object(B.a)(e,["isSelected","onSelect","onChange"]),i=Object(r.useRef)(),o=Object(r.useRef)();Object(r.useEffect)((function(){t&&!1!==c.listening&&(i.current.nodes([o.current]),i.current.getLayer().batchDraw())}),[t,c.listening]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(z.f,Object(M.a)(Object(M.a)({},c),{},{onClick:n,onTap:n,ref:o,draggable:a,onDragStart:function(e){n()},onDragEnd:function(e){a&&a({left:e.target.x(),top:e.target.y()})},onTransformEnd:function(e){if(a){var t=o.current,n=t.scaleX(),c=t.scaleY();console.log("scaleX, scaleY: ",n,c),a({left:t.x(),top:t.y(),width:Math.max(5,t.width()),height:Math.max(5,t.height()),rotation:t.rotation(),scaleX:n,scaleY:c})}}})),t&&!1!==c.listening&&a?Object(S.jsx)(z.g,{ref:i,keepRatio:!1}):Object(S.jsx)(S.Fragment,{})]})},V=function(e){var t=e.layers,n=e.fonts,a=e.handleImageSize,c=(e.frameSize,e.currentLayer),i=e.setCurrentLayer,o=e.onChange;return Object(r.useEffect)((function(){}),[]),Object(S.jsx)(S.Fragment,{children:t.filter((function(e){return(e.layer_type===b.b.LOGO||e.layer_type===b.b.UPLOAD||e.layer_type===b.b.TEXT)&&e.layer_visible})).sort((function(e,t){return U.a.sortBy(e,t,"layer_order")})).map((function(e){return e.layer_type!==b.b.TEXT?Object(S.jsx)(E,{src:"".concat(j.a.assetsURL,"/").concat(e.layer_data.source_file),tellSize:a,x:parseFloat(e.layer_data.left),y:parseFloat(e.layer_data.top),width:e.layer_data.width,height:e.layer_data.height,rotation:e.layer_data.rotation,scaleX:0===e.layer_data.flop?1:-1,scaleY:0===e.layer_data.flip?1:-1,onSelect:function(){return i(e)},isSelected:c&&c.id===e.id,listening:!e.layer_locked,onChange:function(t){return o(e,t)}},e.id):Object(S.jsx)(Y,{text:e.layer_data.text,fontFamily:n.length?n.find((function(t){return t.id===e.layer_data.font})).font_name:null,fontSize:e.layer_data.size,fill:e.layer_data.color,strokeWidth:e.layer_data.stroke,stroke:e.layer_data.scolor,strokeEnabled:!0,x:parseFloat(e.layer_data.left),y:parseFloat(e.layer_data.top),offsetX:0,offsetY:0,width:e.layer_data.width,height:e.layer_data.height,rotation:e.layer_data.rotation,scaleX:e.layer_data.scaleX,scaleY:e.layer_data.scaleY,onSelect:function(){return i(e)},isSelected:c&&c.id===e.id,listening:!e.layer_locked,onChange:function(t){return o(e,t)}},e.id)}))})},K=n(57),H=function(){var e=Object(r.useRef)(null),t=Object(o.d)(),n=Object(F.a)(),a=n.width,c=n.height,i=n.ref,l=Object(o.e)((function(e){return e.boardReducer.frameSize})),s=Object(o.e)((function(e){return e.boardReducer.zoom})),d=Object(o.e)((function(e){return e.boardReducer.paintingGuides})),j=Object(o.e)((function(e){return e.carMakeReducer.current})),b=Object(o.e)((function(e){return e.schemeReducer.current})),h=Object(o.e)((function(e){return e.layerReducer.list})),O=Object(o.e)((function(e){return e.fontReducer.list})),p=Object(o.e)((function(e){return e.layerReducer.current})),g=function(e){console.log("Mouse Down"),e.target===e.target.getStage()&&p&&t(Object(K.h)(null))},x=function(e){(l.width<e.width||l.height<e.height)&&t(Object(f.b)({width:Math.max(l.width,e.width),height:Math.max(l.height,e.height)}))},m=function(e,n){t(Object(K.j)(Object(M.a)(Object(M.a)({},e),{},{layer_data:Object(M.a)(Object(M.a)({},e.layer_data),n)})))},y=function(e){t(Object(K.h)(e))};return Object(S.jsx)(u.a,{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"auto",ref:i,children:Object(S.jsx)(z.e,{width:a,height:c,onMouseDown:g,onMousemove:function(e){},onMouseup:function(e){console.log("Mouse Up")},onTouchStart:g,onWheel:function(n){if(n.evt.preventDefault(),null!==e.current){var a=e.current,c=a.scaleX(),i=a.getPointerPosition(),r=i.x,o=i.y,l={x:(r-a.x())/c,y:(o-a.y())/c},s=n.evt.deltaY>0?1.2*c:c/1.2;t(Object(f.d)(s));var d={x:r-l.x*s,y:o-l.y*s};a.position(d),a.batchDraw()}},scaleX:s||1,scaleY:s||1,ref:e,draggable:!0,children:Object(S.jsxs)(z.b,{children:[Object(S.jsx)(z.d,{x:0,y:0,width:l.width,height:l.height,fill:"transparent"===b.base_color?b.base_color:"#"+b.base_color,listening:!1}),Object(S.jsx)(X,{layers:h,handleImageSize:x}),Object(S.jsx)(P,{currentCarMake:j,paintingGuides:d,handleImageSize:x}),Object(S.jsx)(G,{layers:h,currentCarMake:j,handleImageSize:x}),Object(S.jsx)(W,{layers:h,handleImageSize:x,frameSize:l,currentLayer:p,setCurrentLayer:y,onChange:m}),Object(S.jsx)(V,{layers:h,fonts:O,handleImageSize:x,frameSize:l,currentLayer:p,setCurrentLayer:y,onChange:m}),Object(S.jsx)(A,{currentCarMake:j,paintingGuides:d,handleImageSize:x,frameSize:l})]})})})},q=n(684),J=n(447),Q=n(642),Z=n(133),$=n(686),ee=function(){var e=Object(o.d)(),t=Object(r.useState)(!1),n=Object(c.a)(t,2),a=n[0],i=n[1],l=Object(o.e)((function(e){return e.schemeReducer.current}));return Object(S.jsxs)(u.a,{display:"flex",justifyContent:"space-between",alignItems:"center",px:1,mb:2,children:[Object(S.jsxs)(u.a,{display:"flex",flexDirection:"row",children:[Object(S.jsx)(q.a,{value:l.name,onChange:function(t){e(Object(Z.g)(t.target.value)),i(!0)}}),a?Object(S.jsx)(g.a,{onClick:function(){e(Object(Z.b)(l.id,l.name)),i(!1)},variant:"outlined",children:"Save"}):Object(S.jsx)(S.Fragment,{})]}),Object(S.jsx)(x.a,{children:Object(S.jsx)($.a,{})})]})},te=n(134),ne=n(10),ae=n(235),ce=n.n(ae),ie=n(504),re=n(691),oe=n(692),le=n(693),se=n(696),de=n(697),ue=n(694),je=n(695),be=n(507),he=n(682),fe=n(687),Oe=n(688),pe=n(689),ge=n(690),xe=Object(i.c)(u.a).withConfig({displayName:"PartItem__Wrapper",componentId:"sc-1vufzst-0"})(["cursor:pointer;&.sortable-chosen{background:rgba(255,255,255,0.2);}&.activeItem{background:rgba(0,0,0,0.5);}"]),me=function(e){var t=e.layer_visible,n=e.layer_locked,a=e.text,c=e.toggleVisible,i=e.toggleLocked,r=e.selected,o=e.disableLock,l=e.onClick;return Object(S.jsxs)(xe,{p:2,mb:1,display:"flex",justifyContent:"space-between",width:"100%",border:1,borderColor:"grey.700",borderRadius:5,onClick:l,className:Object(ne.a)(r&&"activeItem"),children:[Object(S.jsxs)(u.a,{display:"flex",alignItems:"center",children:[Object(S.jsx)(x.a,{onClick:function(){return c()},size:"small",children:t?Object(S.jsx)(fe.a,{}):Object(S.jsx)(Oe.a,{})}),Object(S.jsx)(p.a,{children:a})]}),o?Object(S.jsx)(S.Fragment,{}):Object(S.jsx)(u.a,{display:"flex",alignItems:"center",children:Object(S.jsx)(x.a,{onClick:function(){return i()},size:"small",children:n?Object(S.jsx)(pe.a,{}):Object(S.jsx)(ge.a,{})})})]})},ye=Object(he.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),Ce=Object(i.c)(g.a).withConfig({displayName:"PartGroup__Button",componentId:"d20ix9-0"})(O.b),_e=Object(i.c)(re.a).withConfig({displayName:"PartGroup__ButtonGroup",componentId:"d20ix9-1"})(O.b),ve=Object(i.c)(Ce).withConfig({displayName:"PartGroup__AddButton",componentId:"d20ix9-2"})(["min-width:40px;padding:3px 5px;.MuiButton-startIcon{margin-right:2px;}.MuiButton-endIcon{margin:0;}.fa-lg{font-size:1.3333333333em !important;}"]),we=function(e){var t=ye(),n=Object(o.d)(),a=Object(r.useState)(!0),i=Object(c.a)(a,2),l=i[0],s=i[1],d=Object(o.e)((function(e){return e.layerReducer.current})),j=e.layerList,b=e.title,h=e.actions,f=e.extraChildren,O=e.disableLock,p=e.disableDnd,g=ce.a.sortBy(j,["layer_order"]),m=function(e,t){var a=j.find((function(t){return t.id===e}));n(Object(K.j)(Object(M.a)(Object(M.a)({},a),{},Object(te.a)({},t,!a[t]))))};return Object(S.jsx)(u.a,{mb:2,children:Object(S.jsxs)(oe.a,{children:[Object(S.jsx)(le.a,{title:b,action:Object(S.jsxs)(u.a,{display:"flex",children:[h?Object(S.jsx)(_e,{mr:1,children:h.map((function(e,t){return Object(S.jsx)(ve,{onClick:e.onClick,size:"small",startIcon:Object(S.jsx)(ue.a,{}),endIcon:Object(S.jsx)(be.a,{icon:e.icon,size:"lg"}),variant:"outlined"},t)}))}):Object(S.jsx)(S.Fragment,{}),Object(S.jsx)(x.a,{onClick:function(){s((function(e){return!e}))},className:Object(ne.a)(t.expand,Object(te.a)({},t.expandOpen,l)),children:Object(S.jsx)(je.a,{})})]})}),Object(S.jsx)(se.a,{in:l,children:Object(S.jsxs)(de.a,{children:[Object(S.jsx)(ie.ReactSortable,{list:g,setList:function(e){var t=function(t){var a=j.find((function(n){return n.id===e[t].id}));a.layer_order!==parseInt(t)+1&&n(Object(K.j)(Object(M.a)(Object(M.a)({},a),{},{layer_order:parseInt(t)+1})))};for(var a in e)t(a)},animation:150,sort:!p,children:g.map((function(e){return Object(S.jsx)(me,{text:e.layer_data.name,layer_visible:e.layer_visible,layer_locked:e.layer_locked,toggleVisible:function(){return m(e.id,"layer_visible")},toggleLocked:function(){return m(e.id,"layer_locked")},selected:d&&d.id===e.id,onClick:function(){return t=e,void n(Object(K.h)(t));var t},disableLock:O},e.id)}))}),f]})})]})})},Se=n(380),Ie=n(131),ke=n(698),Le=n(699),Re=n(712),Te=n(700),De=n(701),Ne=n(702),Me=n(703),ze=Object(i.c)(g.a).withConfig({displayName:"BasePaintDialog__Button",componentId:"sc-1dconu8-0"})(O.b),Fe=Object(i.c)(Se.a).withConfig({displayName:"BasePaintDialog__CustomInfiniteScroll",componentId:"sc-1dconu8-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),Be=Object(i.c)(ke.a).withConfig({displayName:"BasePaintDialog__CustomGridList",componentId:"sc-1dconu8-2"})(["overflow:hidden !important;margin:0 !important;"]),Ee=Object(i.c)(Le.a).withConfig({displayName:"BasePaintDialog__CustomGridListTile",componentId:"sc-1dconu8-3"})(["cursor:pointer;"]),Ae=function(e){var t=Object(r.useState)(15),n=Object(c.a)(t,2),a=n[0],i=n[1],o=e.basePaints,l=e.onCancel,s=e.open,d=e.onOpenBase;return Object(S.jsxs)(Re.a,{"aria-labelledby":"base-paints-title",open:s,onClose:l,children:[Object(S.jsx)(Te.a,{id:"base-paints-title",children:"Select Base Paint"}),Object(S.jsx)(De.a,{dividers:!0,id:"base-paint-dialog-content",children:Object(S.jsx)(Fe,{dataLength:a,next:function(){i(a+15)},hasMore:a<o.length,loader:Object(S.jsx)(Ie.a,{}),scrollableTarget:"base-paint-dialog-content",children:Object(S.jsx)(Be,{cellHeight:178,cols:3,children:o.slice(0,a).map((function(e){return Object(S.jsxs)(Ee,{cols:1,onClick:function(){return d(e)},children:[Object(S.jsx)("img",{src:"".concat(j.a.assetsURL,"/bases/").concat(e.id,"/preview.jpg"),alt:e.base_description}),Object(S.jsx)(Ne.a,{title:e.base_name,subtitle:e.base_description})]},e.id)}))})})}),Object(S.jsx)(Me.a,{children:Object(S.jsx)(ze,{onClick:l,color:"primary",children:"Cancel"})})]})},Pe=n(714),Ue=n(509),Ge=n.n(Ue),Xe=Object(he.a)((function(e){return{search:Object(te.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},border:"1px solid #8A8A8A",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}})),We=function(e){var t=e.value,n=e.onChange,a=Xe();return Object(S.jsxs)("div",{className:a.search,children:[Object(S.jsx)("div",{className:a.searchIcon,children:Object(S.jsx)(Ge.a,{})}),Object(S.jsx)(Pe.a,{placeholder:"Search",classes:{root:a.inputRoot,input:a.inputInput},value:t,inputProps:{"aria-label":"search"},onChange:function(e){n(e.target.value)}})]})},Ye=Object(i.c)(g.a).withConfig({displayName:"ShapeDialog__Button",componentId:"sc-12nk2gq-0"})(O.b),Ve=Object(i.c)(Se.a).withConfig({displayName:"ShapeDialog__CustomInfiniteScroll",componentId:"sc-12nk2gq-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),Ke=Object(i.c)(ke.a).withConfig({displayName:"ShapeDialog__CustomGridList",componentId:"sc-12nk2gq-2"})(["overflow:hidden !important;margin:0 !important;"]),He=Object(i.c)(Le.a).withConfig({displayName:"ShapeDialog__CustomGridListTile",componentId:"sc-12nk2gq-3"})(["cursor:pointer;"]),qe=Object(i.c)(De.a).withConfig({displayName:"ShapeDialog__CustomDialogContent",componentId:"sc-12nk2gq-4"})(["width:600px;"]),Je=function(e){var t=Object(r.useState)(15),n=Object(c.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(""),l=Object(c.a)(o,2),s=l[0],d=l[1],b=e.shapes,h=e.onCancel,f=e.open,O=e.onOpenShape,p=b.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase())}));return Object(S.jsxs)(Re.a,{"aria-labelledby":"shape-title",open:f,onClose:h,children:[Object(S.jsx)(Te.a,{id:"shape-title",children:"Insert Shape"}),Object(S.jsxs)(qe,{dividers:!0,children:[Object(S.jsx)(u.a,{mb:2,children:Object(S.jsx)(We,{value:s,onChange:function(e){return d(e)}})}),Object(S.jsx)(u.a,{id:"shape-dialog-content",overflow:"auto",height:"70vh",children:Object(S.jsx)(Ve,{dataLength:a,next:function(){i(a+15)},hasMore:a<p.length,loader:Object(S.jsx)(Ie.a,{}),scrollableTarget:"shape-dialog-content",children:Object(S.jsx)(Ke,{cellHeight:178,cols:3,children:p.slice(0,a).map((function(e){return Object(S.jsxs)(He,{cols:1,onClick:function(){return O(e)},children:[Object(S.jsx)("img",{src:"".concat(j.a.assetsURL,"/").concat(e.overlay_thumb),alt:e.name}),Object(S.jsx)(Ne.a,{title:e.name,subtitle:e.description})]},e.id)}))})})})]}),Object(S.jsx)(Me.a,{children:Object(S.jsx)(Ye,{onClick:h,color:"primary",children:"Cancel"})})]})},Qe=n(708),Ze=n(704),$e=n(14),et=Object(i.c)(g.a).withConfig({displayName:"LogoDialog__Button",componentId:"sc-39n1mp-0"})(O.b),tt=Object(i.c)(p.a).withConfig({displayName:"LogoDialog__Typography",componentId:"sc-39n1mp-1"})(O.b),nt=Object(i.c)(Se.a).withConfig({displayName:"LogoDialog__CustomInfiniteScroll",componentId:"sc-39n1mp-2"})([".infinite-scroll-component{overflow:hidden !important;}"]),at=Object(i.c)(ke.a).withConfig({displayName:"LogoDialog__CustomGridList",componentId:"sc-39n1mp-3"})(["overflow:hidden !important;margin:0 !important;"]),ct=Object(i.c)(Le.a).withConfig({displayName:"LogoDialog__CustomGridListTile",componentId:"sc-39n1mp-4"})(["cursor:pointer;"]),it=Object(i.c)(De.a).withConfig({displayName:"LogoDialog__CustomDialogContent",componentId:"sc-39n1mp-5"})(["width:600px;"]),rt=Object($e.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:40,width:"100%",backgroundColor:"#635ee7"}}})((function(e){return Object(S.jsx)(Qe.a,Object(M.a)(Object(M.a)({},e),{},{TabIndicatorProps:{children:Object(S.jsx)("span",{})}}))})),ot=Object($e.a)((function(e){return{root:{textTransform:"none",color:"#fff",fontWeight:e.typography.fontWeightRegular,fontSize:"1rem",marginRight:0,padding:"6px 5px",minWidth:60,"&:focus":{opacity:1}}}}))((function(e){return Object(S.jsx)(Ze.a,Object(M.a)({disableRipple:!0},e))})),lt=function(e){var t=e.children,n=e.value,a=e.index,c=Object(B.a)(e,["children","value","index"]);return Object(S.jsx)("div",Object(M.a)(Object(M.a)({role:"tabpanel",hidden:n!==a,id:"logo-tabpanel-".concat(a),"aria-labelledby":"logo-tab-".concat(a)},c),{},{children:n===a&&Object(S.jsx)(S.Fragment,{children:t})}))};function st(e){return{id:"logo-tab-".concat(e),"aria-controls":"logo-tabpanel-".concat(e)}}var dt=function(e){var t=Object(r.useState)(15),n=Object(c.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(15),l=Object(c.a)(o,2),s=l[0],d=l[1],b=Object(r.useState)(0),h=Object(c.a)(b,2),f=h[0],O=h[1],p=Object(r.useState)(""),g=Object(c.a)(p,2),x=g[0],m=g[1],y=e.logos,C=e.onCancel,_=e.open,v=e.onOpenLogo,w=y.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())&&"flag"!==e.type})),I=y.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())&&"flag"===e.type}));return Object(S.jsxs)(Re.a,{"aria-labelledby":"logo-title",open:_,onClose:C,children:[Object(S.jsx)(Te.a,{id:"logo-title",children:Object(S.jsxs)(u.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(S.jsx)(tt,{variant:"h5",mr:2,children:"Insert:"}),Object(S.jsxs)(rt,{value:f,onChange:function(e,t){O(t),m("")},"aria-label":"logo tab",children:[Object(S.jsx)(ot,Object(M.a)({label:"Logo"},st(0))),Object(S.jsx)(ot,Object(M.a)({label:"Flag"},st(1)))]})]})}),Object(S.jsxs)(it,{dividers:!0,children:[Object(S.jsx)(u.a,{mb:2,children:Object(S.jsx)(We,{value:x,onChange:function(e){return m(e)}})}),Object(S.jsx)(lt,{value:f,index:0,children:Object(S.jsx)(u.a,{id:"logo-dialog-content",overflow:"auto",height:"70vh",children:Object(S.jsx)(nt,{dataLength:a,next:function(){i(a+15)},hasMore:a<w.length,loader:Object(S.jsx)(Ie.a,{}),scrollableTarget:"logo-dialog-content",children:Object(S.jsx)(at,{cellHeight:178,cols:3,children:w.slice(0,a).map((function(e){return Object(S.jsxs)(ct,{cols:1,onClick:function(){return v(e)},children:[Object(S.jsx)("img",{src:"".concat(j.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object(S.jsx)(Ne.a,{title:e.name})]},e.id)}))})})})}),Object(S.jsx)(lt,{value:f,index:1,children:Object(S.jsx)(u.a,{id:"flag-dialog-content",overflow:"auto",height:"70vh",children:Object(S.jsx)(nt,{dataLength:s,next:function(){d(s+15)},hasMore:s<I.length,loader:Object(S.jsx)(Ie.a,{}),scrollableTarget:"flag-dialog-content",children:Object(S.jsx)(at,{cellHeight:178,cols:3,children:I.slice(0,s).map((function(e){return Object(S.jsxs)(ct,{cols:1,onClick:function(){return v(e)},children:[Object(S.jsx)("img",{src:"".concat(j.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object(S.jsx)(Ne.a,{title:e.name})]},e.id)}))})})})})]}),Object(S.jsx)(Me.a,{children:Object(S.jsx)(et,{onClick:C,color:"primary",children:"Cancel"})})]})},ut=n(645),jt=n(137),bt=Object(i.c)(g.a).withConfig({displayName:"UploadDialog__Button",componentId:"vk7mct-0"})(O.b),ht=Object(i.c)(Se.a).withConfig({displayName:"UploadDialog__CustomInfiniteScroll",componentId:"vk7mct-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),ft=Object(i.c)(ke.a).withConfig({displayName:"UploadDialog__CustomGridList",componentId:"vk7mct-2"})(["overflow:hidden !important;margin:0 !important;"]),Ot=Object(i.c)(Le.a).withConfig({displayName:"UploadDialog__CustomGridListTile",componentId:"vk7mct-3"})(["cursor:pointer;"]),pt=Object(i.c)(De.a).withConfig({displayName:"UploadDialog__CustomDialogContent",componentId:"vk7mct-4"})(["width:600px;"]),gt=function(e){var t=Object(o.d)(),n=Object(o.e)((function(e){return e.authReducer.user})),a=Object(o.e)((function(e){return e.schemeReducer.current})),i=Object(r.useState)(15),l=Object(c.a)(i,2),s=l[0],d=l[1],b=Object(r.useState)([]),h=Object(c.a)(b,2),f=h[0],O=h[1],p=Object(r.useState)(1),g=Object(c.a)(p,2),x=g[0],m=g[1],y=e.uploads,C=e.onCancel,_=e.open,v=e.onOpenUpload,w=function(e){return e.match(/(?<=uploads\/)(.*)(?=\.)/g)[0]};return Object(S.jsxs)(Re.a,{"aria-labelledby":"upload-title",open:_,onClose:C,children:[Object(S.jsx)(Te.a,{id:"upload-title",children:"My Uploads"}),Object(S.jsxs)(pt,{dividers:!0,children:[Object(S.jsx)(ut.a,{onChange:function(e){O(e),console.log(e)},value:f,showFileNamesInPreview:!0,showFileNames:!0,maxFiles:10},x),f.length?Object(S.jsx)(u.a,{mt:1,width:"100%",display:"flex",justifyContent:"center",children:Object(S.jsx)(bt,{variant:"contained",color:"primary",onClick:function(){console.log(f),t(Object(jt.c)(n.id,a.id,f)),O([]),m(x+1)},children:"Save To My Upload List"})}):Object(S.jsx)(S.Fragment,{}),Object(S.jsx)(u.a,{id:"upload-dialog-content",overflow:"auto",height:"40vh",mt:1,children:Object(S.jsx)(ht,{dataLength:s,next:function(){d(s+15)},hasMore:s<y.length,loader:Object(S.jsx)(Ie.a,{}),scrollableTarget:"upload-dialog-content",children:Object(S.jsx)(ft,{cellHeight:178,cols:3,children:y.slice(0,s).map((function(e){return Object(S.jsxs)(Ot,{cols:1,onClick:function(){return v(e)},children:[Object(S.jsx)("img",{src:"".concat(j.a.assetsURL,"/").concat(e.file_name),alt:w(e.file_name)}),Object(S.jsx)(Ne.a,{title:w(e.file_name)})]},e.id)}))})})})]}),Object(S.jsx)(Me.a,{children:Object(S.jsx)(bt,{onClick:C,color:"primary",children:"Cancel"})})]})},xt=n(644),mt=n(643),yt=n(707),Ct=n(679),_t=n(716),vt=n(719),wt=n(705),St=n(680),It=n(717),kt=n(676),Lt=Object(i.c)(p.a).withConfig({displayName:"SliderInput__Typography",componentId:"sc-7loe1z-0"})(O.b),Rt=Object(i.c)(St.a).withConfig({displayName:"SliderInput__CustomInput",componentId:"sc-7loe1z-1"})([".MuiInputBase-inputMarginDense{padding-top:4px;padding-bottom:5px;width:50px;}"]),Tt=Object(i.c)(u.a).withConfig({displayName:"SliderInput__SliderWrapper",componentId:"sc-7loe1z-2"})(["width:80px;margin-left:8px;margin-right:8px;height:28px;"]),Dt=function(e){var t=e.label,n=e.min,a=e.max,c=e.value,i=e.setValue;e.width;return Object(S.jsxs)(u.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(S.jsx)(Lt,{variant:"body1",color:"textSecondary",mr:2,children:t}),Object(S.jsxs)(u.a,{display:"flex",alignItems:"center",children:[Object(S.jsx)(Tt,{children:Object(S.jsx)(It.a,{min:n,max:a,value:c,onChange:function(e,t){return i(t)},"aria-labelledby":"shape-size",ValueLabelComponent:function(e){return Object(S.jsx)(kt.a,{open:e.open,enterTouchDelay:0,placement:"top",title:e.value,children:e.children})}})}),Object(S.jsx)(Rt,{value:c,margin:"dense",onChange:function(e){return i(""===e.target.value?n||0:Number(e.target.value))},onBlur:function(){c<n?i(n):c>a&&i(a)},inputProps:{step:1,min:n,max:a,type:"number","aria-labelledby":"input-slider"}})]})]})},Nt=Object(i.c)(g.a).withConfig({displayName:"TextDialog__Button",componentId:"sc-18v4ol9-0"})(O.b),Mt=Object(i.c)(q.a).withConfig({displayName:"TextDialog__TextField",componentId:"sc-18v4ol9-1"})(O.b),zt=Object(i.c)(yt.a).withConfig({displayName:"TextDialog__Select",componentId:"sc-18v4ol9-2"})(O.b),Ft=Object(i.c)(p.a).withConfig({displayName:"TextDialog__Typography",componentId:"sc-18v4ol9-3"})(O.b),Bt=Object(i.c)(Mt).withConfig({displayName:"TextDialog__CustomeTextField",componentId:"sc-18v4ol9-4"})([".MuiInputBase-input{height:2rem;}"]),Et=i.c.img.withConfig({displayName:"TextDialog__FontImage",componentId:"sc-18v4ol9-5"})(["width:506px;filter:invert(1);"]),At=Object(i.c)(zt).withConfig({displayName:"TextDialog__FontSelect",componentId:"sc-18v4ol9-6"})([".MuiSelect-selectMenu{display:flex;align-items:center;height:2rem;}"]),Pt=Object(i.c)(Mt).withConfig({displayName:"TextDialog__ColorInputField",componentId:"sc-18v4ol9-7"})(["width:80px;"]),Ut=function(e){var t=e.fontList,n=e.errors,a=e.handleBlur,c=e.handleChange,i=e.setFieldValue,r=e.touched,o=e.values;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Bt,{name:"text",label:"Text",placeholder:"Input Text here",variant:"outlined",value:o.text,error:Boolean(r.text&&n.text),helperText:r.text&&n.text,onBlur:a,onChange:c,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}),Object(S.jsxs)(Ct.a,{variant:"outlined",children:[Object(S.jsx)(_t.a,{id:"font-select-label",children:"Font"}),Object(S.jsx)(At,{labelId:"font-select-label",id:"font-select-outlined",value:o.font,onChange:function(e){return i("font",e.target.value)},label:"Font",mb:4,renderValue:function(e){var n=t.find((function(t){return t.id===e}));return n?Object(S.jsx)(Et,{src:"".concat(j.a.assetsURL,"/").concat(n.font_preview),alt:n.font_name}):Object(S.jsx)(S.Fragment,{children:"Select Font"})},children:t.map((function(e){return Object(S.jsx)(vt.a,{value:e.id,children:Object(S.jsx)(Et,{src:"".concat(j.a.assetsURL,"/").concat(e.font_preview),alt:e.font_name})},e.id)}))})]}),Object(S.jsxs)(wt.a,{container:!0,spacing:2,children:[Object(S.jsx)(wt.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(Dt,{label:"Font Size",width:80,min:6,max:72,value:o.size,setValue:function(e){return i("size",e)}})}),Object(S.jsx)(wt.a,{item:!0,xs:12,sm:6,children:Object(S.jsxs)(u.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(S.jsx)(Ft,{variant:"body1",color:"textSecondary",mr:2,children:"Font Color"}),Object(S.jsxs)(u.a,{display:"flex",alignItems:"center",children:[Object(S.jsx)(J.a,{value:o.color,onChange:function(e){return i("color",e.css.backgroundColor)},palette:b.d,deferred:!0,hideTextfield:!0}),Object(S.jsx)(Pt,{value:o.color,onChange:function(e){return i("color",e.target.value)}})]})]})})]}),Object(S.jsxs)(wt.a,{container:!0,spacing:2,children:[Object(S.jsx)(wt.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(Dt,{label:"Stroke Width",width:80,min:0,max:10,value:o.stroke,setValue:function(e){return i("stroke",e)}})}),Object(S.jsx)(wt.a,{item:!0,xs:12,sm:6,children:Object(S.jsxs)(u.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(S.jsx)(Ft,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"}),Object(S.jsxs)(u.a,{display:"flex",alignItems:"center",children:[Object(S.jsx)(J.a,{value:o.scolor,onChange:function(e){return i("scolor",e.css.backgroundColor)},palette:b.d,deferred:!0,hideTextfield:!0}),Object(S.jsx)(Pt,{value:o.scolor,onChange:function(e){return i("scolor",e.target.value)}})]})]})})]}),Object(S.jsx)(wt.a,{container:!0,spacing:2,children:Object(S.jsx)(wt.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(Dt,{label:"Rotation",width:80,min:-179,max:179,value:o.rotation,setValue:function(e){return i("rotation",e)}})})})]})},Gt=function(e){var t=e.fontList,n=e.onCancel,a=e.open,c=e.onCreate;return Object(S.jsxs)(Re.a,{"aria-labelledby":"insert-text-title",open:a,onClose:n,children:[Object(S.jsx)(Te.a,{id:"insert-text-title",children:"Insert Text"}),Object(S.jsx)(mt.b,{initialValues:{text:"",font:1,size:14,color:"#000000",stroke:0,scolor:"#000000",rotation:0},validationSchema:xt.a().shape({text:xt.b().required("Required")}),validate:function(e){return console.log(e),{}},onSubmit:c,children:function(e){return Object(S.jsxs)(mt.a,{onSubmit:e.handleSubmit,children:[Object(S.jsx)(De.a,{dividers:!0,id:"insert-text-dialog-content",children:Object(S.jsx)(Ut,Object(M.a)(Object(M.a)({},e),{},{fontList:t}))}),Object(S.jsxs)(Me.a,{children:[Object(S.jsx)(Nt,{onClick:n,color:"primary",children:"Cancel"}),Object(S.jsx)(Nt,{type:"submit",color:"default",variant:"outlined",disabled:e.isSubmitting,children:"Create"})]})]})}})]})},Xt=Object(i.c)(J.a).withConfig({displayName:"sideBar__CustomColorPicker",componentId:"sc-10zcfrv-0"})([".MuiInputBase-input{width:70px;border-bottom:1px solid #8a8a8a;}"]),Wt=Object(i.c)(q.a).withConfig({displayName:"sideBar__ColorInputField",componentId:"sc-10zcfrv-1"})(["width:80px;.MuiInputBase-input.Mui-disabled{color:white;}"]),Yt=Object(i.c)(u.a).withConfig({displayName:"sideBar__Wrapper",componentId:"sc-10zcfrv-2"})(["width:350px;background:#666666;overflow:auto;"]),Vt=function(){var e=Object(o.d)(),t=Object(r.useState)(null),n=Object(c.a)(t,2),a=n[0],i=n[1],l=Object(o.e)((function(e){return e.schemeReducer.current})),s=Object(o.e)((function(e){return e.layerReducer.list})),d=Object(o.e)((function(e){return e.overlayReducer.list})),j=Object(o.e)((function(e){return e.logoReducer.list})),h=Object(o.e)((function(e){return e.uploadReducer.list})),f=Object(o.e)((function(e){return e.fontReducer.list})),O=Object(o.e)((function(e){return e.boardReducer.frameSize})),p=Object(o.e)((function(e){return e.basePaintReducer.list}));return Object(S.jsxs)(Yt,{p:3,children:[Object(S.jsx)(ee,{}),Object(S.jsx)(we,{title:"Car Parts",layerList:s.filter((function(e){return e.layer_type===b.b.CAR})),disableLock:!0,disableDnd:!0}),Object(S.jsx)(we,{title:"Logos & Text",layerList:s.filter((function(e){return e.layer_type===b.b.LOGO||e.layer_type===b.b.TEXT||e.layer_type===b.b.UPLOAD})),actions:[{onClick:function(){return i(b.a.UPLOAD)},icon:Q.b},{onClick:function(){return i(b.a.LOGO)},icon:Q.d},{onClick:function(){return i(b.a.TEXT)},icon:Q.c}]}),Object(S.jsx)(we,{title:"Shapes",layerList:s.filter((function(e){return e.layer_type===b.b.OVERLAY})),actions:[{onClick:function(){return i(b.a.SHAPE)},icon:Q.e}]}),Object(S.jsx)(we,{title:"Base Paint",layerList:s.filter((function(e){return e.layer_type===b.b.BASE})),actions:[{onClick:function(){return i(b.a.BASEPAINT)},icon:Q.a}],disableLock:!0,extraChildren:Object(S.jsxs)(u.a,{display:"flex",alignItems:"center",children:[Object(S.jsx)(Xt,{value:"transparent"===l.base_color?l.base_color:"#"+l.base_color,deferred:!0,onChange:function(t){console.log("Color: ",t),e(Object(Z.a)(l.id,t.css.backgroundColor))},palette:b.d,hideTextfield:!0}),Object(S.jsx)(Wt,{value:"transparent"===l.base_color?l.base_color:"#"+l.base_color,disabled:!0})]})}),Object(S.jsx)(Ae,{open:a===b.a.BASEPAINT,basePaints:p,onOpenBase:function(t){var n=s.filter((function(e){return b.b.BASE===e.layer_type})).length;e(Object(K.d)(l.id,t,n+1)),i(null)},onCancel:function(){return i(null)}}),Object(S.jsx)(Je,{open:a===b.a.SHAPE,shapes:d,onOpenShape:function(t){var n=s.filter((function(e){return b.b.OVERLAY===e.layer_type})).length;e(Object(K.b)(l.id,t,n+1,O)),i(null)},onCancel:function(){return i(null)}}),Object(S.jsx)(dt,{open:a===b.a.LOGO,logos:j,onOpenLogo:function(t){var n=s.filter((function(e){return[b.b.LOGO,b.b.UPLOAD,b.b.TEXT].includes(e.layer_type)})).length;e(Object(K.a)(l.id,t,n+1,O)),i(null)},onCancel:function(){return i(null)}}),Object(S.jsx)(gt,{open:a===b.a.UPLOAD,uploads:h,onOpenUpload:function(t){var n=s.filter((function(e){return[b.b.LOGO,b.b.UPLOAD,b.b.TEXT].includes(e.layer_type)})).length;e(Object(K.c)(l.id,t,n+1,O)),i(null)},onCancel:function(){return i(null)}}),Object(S.jsx)(Gt,{open:a===b.a.TEXT,fontList:f,onCreate:function(t){var n=s.filter((function(e){return[b.b.LOGO,b.b.UPLOAD,b.b.TEXT].includes(e.layer_type)})).length;e(Object(K.e)(l.id,t,n+1,O)),i(null)},onCancel:function(){return i(null)}})]})},Kt=Object(i.c)(g.a).withConfig({displayName:"ConfirmDialog__Button",componentId:"sc-1cd3vhn-0"})(O.b),Ht=function(e){var t=e.text,n=e.open,a=e.onCancel,c=e.onConfirm;return Object(S.jsxs)(Re.a,{"aria-labelledby":"confirm-title",open:n,children:[Object(S.jsx)(Te.a,{id:"confirm-title",children:"Confirm"}),Object(S.jsx)(De.a,{dividers:!0,children:Object(S.jsx)(p.a,{variant:"body1",children:t})}),Object(S.jsxs)(Me.a,{children:[Object(S.jsx)(Kt,{onClick:a,color:"primary",children:"Cancel"}),Object(S.jsx)(Kt,{onClick:c,color:"default",variant:"outlined",children:"Confirm"})]})]})},qt=n(174),Jt=n(176),Qt=n(175),Zt=Object(i.c)(u.a).withConfig({displayName:"scheme__Wrapper",componentId:"sc-188wpva-0"})(["background-color:",";"],(function(e){return e.background}));t.default=function(){var e=Object(o.d)(),t=Object(d.g)(),n=Object(r.useState)(""),i=Object(c.a)(n,2),l=i[0],f=i[1],O=Object(o.e)((function(e){return e.authReducer.user})),p=Object(o.e)((function(e){return e.schemeReducer.current})),g=Object(o.e)((function(e){return e.layerReducer.current})),x=Object(o.e)((function(e){return e.overlayReducer.list})),m=Object(o.e)((function(e){return e.logoReducer.list})),y=Object(o.e)((function(e){return e.fontReducer.list})),C=Object(o.e)((function(e){return e.schemeReducer.loading})),_=Object(o.e)((function(e){return e.carMakeReducer.loading})),v=Object(o.e)((function(e){return e.fontReducer.loading}));return Object(r.useEffect)((function(){O&&t.id&&(p||(e(Object(Z.e)(t.id)),e(Object(jt.b)(O.id))),x.length||e(Object(qt.b)()),m.length||e(Object(Qt.b)()),y.length||e(Object(Jt.b)()))}),[O]),Object(r.useEffect)((function(){if(y&&y.length){var e,t=Object(a.a)(y);try{var n=function(){var t=e.value;new FontFace(t.font_name,"url(".concat(j.a.assetsURL,"/").concat(t.font_file)).load().then((function(e){document.fonts.add(e)})).catch((function(e){console.log(e,t.id,t.font_name)}))};for(t.s();!(e=t.n()).done;)n()}catch(c){t.e(c)}finally{t.f()}}}),[y]),Object(S.jsxs)(S.Fragment,{children:[C||_||v||!p?Object(S.jsx)(h.a,{}):Object(S.jsxs)(u.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:[Object(S.jsx)(s.a,{handleKeys:["all"],onKeyEvent:function(e,t){console.log("KeyEvent: ",e,t),"del"===e&&"INPUT"!==t.target.tagName&&g&&g.layer_type!==b.b.CAR&&f('Are you sure to delete "'.concat(g.layer_data.name,'"?'))}}),Object(S.jsxs)(u.a,{width:"100%",height:"calc(100% - 50px)",display:"flex",children:[Object(S.jsx)(Vt,{}),Object(S.jsx)(Zt,{width:"calc(100% - 350px)",background:"#282828",overflow:"hidden",children:Object(S.jsx)(H,{})})]}),Object(S.jsx)(N,{})]}),Object(S.jsx)(Ht,{text:l,open:0!==l.length,onCancel:function(){return f("")},onConfirm:function(){e(Object(K.g)(g)),f("")}})]})}}}]);
//# sourceMappingURL=6.4fc56c10.chunk.js.map