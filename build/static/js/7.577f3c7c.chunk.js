(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[7],{1078:function(e,t,n){"use strict";n.r(t);var a=n(367),r=n(31),i=n(0),c=n(36),o=n(580),l=n.n(o),s=n(13),d=n(320),u=n(32),j=n(78),b=n(136),h=n(322),p=n(127),f=n(318),O=n(346),g=n(1086),m=n(1046),x=n(1043),y=n(1088),_=n(1044),C=n(1045),v=n(6),w=Object(r.c)(p.a).withConfig({displayName:"Toolbar__Typography",componentId:"sc-1sow5sy-0"})(h.b),I=Object(r.c)(x.a).withConfig({displayName:"Toolbar__ToggleButton",componentId:"sc-1sow5sy-1"})(h.b),S=Object(r.c)(f.a).withConfig({displayName:"Toolbar__Button",componentId:"sc-1sow5sy-2"})(h.b),k=Object(r.c)(O.a).withConfig({displayName:"Toolbar__IconButton",componentId:"sc-1sow5sy-3"})(h.b),L=r.c.div.withConfig({displayName:"Toolbar__Wrapper",componentId:"sc-1sow5sy-4"})(["width:100%;height:50px;display:flex;padding:10px 20px;background:#151515;z-index:1201;"]),R=Object(r.c)(g.a).withConfig({displayName:"Toolbar__CustomOutlinedInput",componentId:"sc-1sow5sy-5"})([".MuiOutlinedInput-input{padding:6px 14px;border-bottom:none;width:40px;}"]),T=function(e){var t=Object(c.d)(),n=Object(c.e)((function(e){return e.boardReducer.paintingGuides})),a=Object(c.e)((function(e){return e.boardReducer.zoom}));return Object(v.jsx)(L,{children:Object(v.jsxs)(d.a,{display:"flex",justifyContent:"space-between",alignContent:"center",width:"100%",children:[Object(v.jsxs)(d.a,{display:"flex",justifyContent:"start",alignContent:"center",children:[Object(v.jsx)(w,{variant:"subtitle1",mr:2,children:"Painting Guides:"}),Object(v.jsxs)(y.a,{value:n,onChange:function(e,n){t(Object(b.c)(n))},"aria-label":"Painting Guides",children:[Object(v.jsx)(I,{value:u.c.CARMASK,"aria-label":"car-mask",children:Object(v.jsx)(w,{variant:"caption",children:"car mask"})}),Object(v.jsx)(I,{value:u.c.WIREFRAME,"aria-label":"wireframe",children:Object(v.jsx)(w,{variant:"caption",children:"wireframe"})}),Object(v.jsx)(I,{value:u.c.SPONSORBLOCKS,"aria-label":"sponsor-blocks",children:Object(v.jsx)(w,{variant:"caption",children:"sponsor blocks"})}),Object(v.jsx)(I,{value:u.c.NUMBERBLOCKS,"aria-label":"number-blocks",children:Object(v.jsx)(w,{variant:"caption",children:"number blocks"})}),Object(v.jsx)(I,{value:u.c.GRID,"aria-label":"grid",children:Object(v.jsx)(w,{variant:"caption",children:"grid"})})]})]}),Object(v.jsxs)(d.a,{display:"flex",justifyContent:"flex-end",alignContent:"center",children:[Object(v.jsx)(S,{mr:2,variant:"outlined",children:"SHORTCUTS"}),Object(v.jsx)(S,{mr:2,variant:"outlined",children:"SIM PREVIEW"}),Object(v.jsx)(k,{onClick:function(){t(Object(b.d)(a/1.25))},children:Object(v.jsx)(_.a,{})}),Object(v.jsx)(k,{onClick:function(){t(Object(b.d)(1.25*a))},mr:1,children:Object(v.jsx)(C.a,{})}),Object(v.jsx)(R,{id:"zoom-value",value:100*a,onChange:function(e){t(Object(b.d)(parseInt(e.target.value||0)/100))},endAdornment:Object(v.jsx)(m.a,{position:"end",children:"%"}),labelWidth:0})]})]})})},F=n(25),N=n(415),B=n(873),D=n(2),M=n.n(D),P=n(4),z=n(477),E=n(621),A=function(e){var t=e.src,n=e.tellSize,r=(e.isSelected,e.onSelect),c=e.onChange,o=Object(z.a)(e,["src","tellSize","isSelected","onSelect","onChange"]),l=Object(i.useRef)(null),s=Object(i.useRef)(),d=Object(i.useState)(null),u=Object(a.a)(d,2),j=u[0],b=u[1];Object(i.useEffect)((function(){return p(),function(){l.current&&l.current.removeEventListener("load",h)}}),[]);var h=function(){var e=Object(P.a)(M.a.mark((function e(){var a,r,i,s,d;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.width||l.current.width,r=o.height||l.current.height,!t.toLowerCase().includes(".svg")||l.current.width&&l.current.height){e.next=17;break}return i=document.createElement("canvas"),s=i.getContext("2d"),e.next=7,E.a.from(s,t,{enableRedraw:!0});case 7:return d=e.sent,console.log(d),a=a||d.documentElement.node.width.baseVal.value||200,r=r||d.documentElement.node.height.baseVal.value||200,d.resize(a,r,"none"),e.next=14,d.render();case 14:b(i),e.next=18;break;case 17:b(l.current);case 18:!c||o.width||o.height||c({left:o.x-a/2,top:o.y-r/2,width:a,height:r}),n&&n({width:a,height:r});case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(P.a)(M.a.mark((function e(){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new window.Image).src=t,n.crossOrigin="Anonymous",l.current=n,l.current.addEventListener("load",h);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(N.a,Object(F.a)(Object(F.a)({},o),{},{image:j,onClick:r,onTap:r,ref:s,draggable:c,onDragStart:function(e){r()},onDragEnd:function(e){c&&c({left:e.target.x(),top:e.target.y()})},onTransformEnd:function(e){if(c){var t=s.current,n=t.scaleX(),a=t.scaleY();console.log("scaleX, scaleY: ",n,a),t.scaleX(n>0?1:-1),t.scaleY(a>0?1:-1),c({left:t.x(),top:t.y(),width:Math.max(5,t.width()*Math.abs(n)),height:Math.max(5,t.height()*Math.abs(a)),rotation:t.rotation(),flop:n>0?0:1,flip:a>0?0:1})}}}))},U=n(70),G=function(e){var t=10,n=e.paintingGuides,a=e.currentCarMake,r=e.handleImageSize,i=e.frameSize;return Object(v.jsxs)(v.Fragment,{children:[n.includes(u.c.CARMASK)?Object(v.jsx)(A,{src:"".concat(U.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/mask.png"),tellSize:r,listening:!1}):Object(v.jsx)(v.Fragment,{}),n.includes(u.c.WIREFRAME)?Object(v.jsx)(A,{src:"".concat(U.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/wireframe.png"),tellSize:r,listening:!1}):Object(v.jsx)(v.Fragment,{}),n.includes(u.c.GRID)?Object(v.jsxs)(v.Fragment,{children:[Array.from(Array(Math.round(i.width/t)),(function(e,n){return Object(v.jsx)(N.c,{points:[Math.round(n*t),0,Math.round(n*t),i.width],stroke:"#ddd",strokeWidth:.1,listening:!1},"x-".concat(n))})),Array.from(Array(Math.round(i.height/t)),(function(e,n){return Object(v.jsx)(N.c,{points:[0,Math.round(n*t),i.height,Math.round(n*t)],stroke:"#ddd",strokeWidth:.1,listening:!1},"y-".concat(n))}))]}):Object(v.jsx)(v.Fragment,{})]})},W=function(e){var t=e.paintingGuides,n=e.currentCarMake,a=e.handleImageSize;return Object(v.jsxs)(v.Fragment,{children:[t.includes(u.c.SPONSORBLOCKS)?Object(v.jsx)(A,{src:"".concat(U.a.assetsURL,"/templates/").concat(n.folder_directory.replace(" ","_"),"/sponsor_blocks.png"),tellSize:a,listening:!1}):Object(v.jsx)(v.Fragment,{}),t.includes(u.c.NUMBERBLOCKS)?Object(v.jsx)(A,{src:"".concat(U.a.assetsURL,"/templates/").concat(n.folder_directory.replace(" ","_"),"/number_blocks.png"),tellSize:a,listening:!1}):Object(v.jsx)(v.Fragment,{})]})},V=n(229),X=n.n(V),q=function(e){var t=e.layers,n=e.currentCarMake,a=e.handleImageSize;return Object(v.jsx)(v.Fragment,{children:X.a.orderBy(t.filter((function(e){return e.layer_type===u.b.CAR&&e.layer_visible})),["layer_order"],["desc"]).map((function(e){return Object(v.jsx)(A,{src:U.a.assetsURL+"/templates/"+n.folder_directory.replace(" ","_")+"/".concat(e.layer_data.img),tellSize:a,listening:!1},e.id)}))})},Y=function(e){var t=e.layers,n=e.handleImageSize;return Object(v.jsx)(v.Fragment,{children:X.a.orderBy(t.filter((function(e){return e.layer_type===u.b.BASE&&e.layer_visible})),["layer_order","desc"]).map((function(e){return Object(v.jsx)(A,{src:"".concat(U.a.assetsURL,"/bases/").concat(e.layer_data.id,"/").concat(e.layer_data.img),tellSize:n,listening:!1},e.id)}))})},H=function(e){var t=e.layers,n=e.currentLayer,a=e.setCurrentLayer,r=e.onChange;return Object(v.jsx)(v.Fragment,{children:X.a.orderBy(t.filter((function(e){return e.layer_type===u.b.OVERLAY&&e.layer_visible})),["layer_order"],["desc"]).map((function(e){return Object(v.jsx)(A,{name:e.id.toString(),src:"".concat(U.a.assetsURL,"/").concat(e.layer_data.source_file),x:parseFloat(e.layer_data.left),y:parseFloat(e.layer_data.top),width:e.layer_data.width,height:e.layer_data.height,rotation:e.layer_data.rotation,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,onSelect:function(){return a(e)},isSelected:n&&n.id===e.id,listening:!e.layer_locked,onChange:function(t){return r(e,t)}},e.id)}))})},K=function(e){var t=e.fontFamily,n=e.fontFile,r=e.loadedFontList,c=(e.loadedList,e.isSelected,e.onSelect),o=e.onChange,l=e.onFontLoad,s=Object(z.a)(e,["fontFamily","fontFile","loadedFontList","loadedList","isSelected","onSelect","onChange","onFontLoad"]),d=Object(i.useState)(null),u=Object(a.a)(d,2),j=u[0],b=u[1],h=Object(i.useRef)();Object(i.useEffect)((function(){t&&n&&!r.includes(t)&&p()}),[t,n]);var p=function(){new FontFace(t,n).load().then((function(e){document.fonts.add(e),l(t),b(t)})).catch((function(e){console.warn(e,t)}))};return Object(v.jsx)(N.f,Object(F.a)(Object(F.a)({},s),{},{fontFamily:j,onClick:c,onTap:c,ref:h,draggable:o,onDragStart:function(e){c()},onDragEnd:function(e){o&&o({left:e.target.x(),top:e.target.y()})},onTransformEnd:function(e){if(o){var t=h.current,n=t.scaleX(),a=t.scaleY();console.log("scaleX, scaleY: ",n,a),o({left:t.x(),top:t.y(),width:Math.max(5,t.width()),height:Math.max(5,t.height()),rotation:t.rotation(),scaleX:Math.abs(n),scaleY:Math.abs(a),flop:n>0?0:1,flip:a>0?0:1})}}}))},J=function(e){var t=e.layers,n=e.loadedFontList,a=e.fonts,r=e.currentLayer,i=e.setCurrentLayer,c=e.onChange,o=e.onFontLoad,l=t.filter((function(e){return(e.layer_type===u.b.LOGO||e.layer_type===u.b.UPLOAD||e.layer_type===u.b.TEXT)&&e.layer_visible}));return Object(v.jsx)(v.Fragment,{children:X.a.orderBy(l,["layer_order"],["desc"]).map((function(e){if(e.layer_type!==u.b.TEXT)return Object(v.jsx)(A,{name:e.id.toString(),src:"".concat(U.a.assetsURL,"/").concat(e.layer_data.source_file),x:parseFloat(e.layer_data.left),y:parseFloat(e.layer_data.top),width:e.layer_data.width,height:e.layer_data.height,rotation:e.layer_data.rotation,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,onSelect:function(){return i(e)},isSelected:r&&r.id===e.id,listening:!e.layer_locked,onChange:function(t){return c(e,t)}},e.id);var t=a.length?a.find((function(t){return t.id===e.layer_data.font})):{};return Object(v.jsx)(K,{name:e.id.toString(),text:e.layer_data.text,fontFamily:t.font_name,fontFile:t.font_file?"url(".concat(U.a.assetsURL,"/").concat(t.font_file):null,loadedFontList:n,onFontLoad:o,fontSize:e.layer_data.size,fill:e.layer_data.color,strokeWidth:e.layer_data.stroke,stroke:e.layer_data.scolor,strokeEnabled:!0,x:parseFloat(e.layer_data.left),y:parseFloat(e.layer_data.top),offsetX:0,offsetY:0,width:e.layer_data.width,height:e.layer_data.height,rotation:e.layer_data.rotation,scaleX:e.layer_data.scaleX*(1===e.layer_data.flop?-1:1),scaleY:e.layer_data.scaleY*(1===e.layer_data.flip?-1:1),onSelect:function(){return i(e)},isSelected:r&&r.id===e.id,listening:!e.layer_locked,onChange:function(t){return c(e,t)}},e.id)}))})},Q=function(e){var t=e.selectedLayer,n=Object(i.useRef)();return Object(i.useEffect)((function(){!function(){if(t){var e=n.current.getStage().findOne("."+t.id);if(e===n.current.node())return;e?n.current.nodes([e]):n.current.detach(),n.current.getLayer().batchDraw()}}()})),t?Object(v.jsx)(N.g,{ref:n,keepRatio:!1}):Object(v.jsx)(v.Fragment,{})},Z=n(138),$=n(57),ee=function(){var e=Object(i.useRef)(null),t=Object(c.d)(),n=Object(B.a)(),a=n.width,r=n.height,o=n.ref,l=Object(c.e)((function(e){return e.boardReducer.frameSize})),s=Object(c.e)((function(e){return e.boardReducer.zoom})),u=Object(c.e)((function(e){return e.boardReducer.paintingGuides})),j=Object(c.e)((function(e){return e.carMakeReducer.current})),h=Object(c.e)((function(e){return e.schemeReducer.current})),p=Object(c.e)((function(e){return e.layerReducer.list})),f=Object(c.e)((function(e){return e.fontReducer.list})),O=Object(c.e)((function(e){return e.fontReducer.loadedList})),g=Object(c.e)((function(e){return e.layerReducer.current})),m=function(e){console.log("Mouse Down"),e.target===e.target.getStage()&&g&&t(Object($.h)(null))},x=function(e){(l.width<e.width||l.height<e.height)&&t(Object(b.b)({width:Math.max(l.width,e.width),height:Math.max(l.height,e.height)}))},y=function(e,n){t(Object($.j)(Object(F.a)(Object(F.a)({},e),{},{layer_data:Object(F.a)(Object(F.a)({},e.layer_data),n)})))},_=function(e){t(Object($.h)(e))};return Object(v.jsx)(d.a,{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"auto",ref:o,children:Object(v.jsx)(N.e,{width:a,height:r,onMouseDown:m,onMousemove:function(e){},onMouseup:function(e){console.log("Mouse Up")},onTouchStart:m,onWheel:function(n){if(n.evt.preventDefault(),null!==e.current){var a=e.current,r=a.scaleX(),i=a.getPointerPosition(),c=i.x,o=i.y,l={x:(c-a.x())/r,y:(o-a.y())/r},s=n.evt.deltaY>0?1.2*r:r/1.2;t(Object(b.d)(s));var d={x:c-l.x*s,y:o-l.y*s};a.position(d),a.batchDraw()}},scaleX:s||1,scaleY:s||1,ref:e,draggable:!0,children:Object(v.jsxs)(N.b,{children:[Object(v.jsx)(N.d,{x:0,y:0,width:l.width,height:l.height,fill:"transparent"===h.base_color?h.base_color:"#"+h.base_color,listening:!1}),Object(v.jsx)(Y,{layers:p,handleImageSize:x}),Object(v.jsx)(W,{currentCarMake:j,paintingGuides:u,handleImageSize:x}),Object(v.jsx)(q,{layers:p,currentCarMake:j,handleImageSize:x}),Object(v.jsx)(H,{layers:p,handleImageSize:x,frameSize:l,currentLayer:g,setCurrentLayer:_,onChange:y}),Object(v.jsx)(J,{layers:p,fonts:f,loadedFontList:O,currentLayer:g,setCurrentLayer:_,onChange:y,onFontLoad:function(e){t(Object(Z.c)(e))}}),Object(v.jsx)(G,{currentCarMake:j,paintingGuides:u,handleImageSize:x,frameSize:l}),Object(v.jsx)(Q,{selectedLayer:g})]})})})},te=n(1055),ne=n(569),ae=n(1015),re=n(133),ie=n(1057),ce=function(){var e=Object(c.d)(),t=Object(i.useState)(!1),n=Object(a.a)(t,2),r=n[0],o=n[1],l=Object(c.e)((function(e){return e.schemeReducer.current}));return Object(v.jsxs)(d.a,{display:"flex",justifyContent:"space-between",alignItems:"center",px:1,mb:2,children:[Object(v.jsxs)(d.a,{display:"flex",flexDirection:"row",children:[Object(v.jsx)(te.a,{value:l.name,onChange:function(t){e(Object(re.g)(t.target.value)),o(!0)}}),r?Object(v.jsx)(f.a,{onClick:function(){e(Object(re.b)(l.id,l.name)),o(!1)},variant:"outlined",children:"Save"}):Object(v.jsx)(v.Fragment,{})]}),Object(v.jsx)(O.a,{children:Object(v.jsx)(ie.a,{})})]})},oe=n(134),le=n(10),se=n(877),de=n(1063),ue=n(1064),je=n(1065),be=n(1068),he=n(1069),pe=n(1066),fe=n(1067),Oe=n(880),ge=n(1053),me=n(1058),xe=n(1059),ye=n(1060),_e=n(1061),Ce=n(1062),ve=Object(r.c)(d.a).withConfig({displayName:"PartItem__Wrapper",componentId:"sc-1vufzst-0"})(["cursor:pointer;&.sortable-chosen{background:rgba(255,255,255,0.2);}&.activeItem{background:rgba(0,0,0,0.5);}"]),we=function(e){var t=e.layer_visible,n=e.layer_locked,a=e.text,r=e.toggleVisible,i=e.toggleLocked,c=e.selected,o=e.disableLock,l=e.onClick;return Object(v.jsx)(ve,{p:2,mb:1,display:"flex",width:"100%",border:1,borderColor:"grey.700",borderRadius:5,onClick:l,className:Object(le.a)(c&&"activeItem"),children:Object(v.jsxs)(me.a,{container:!0,justify:"space-between",alignItems:"center",spacing:2,children:[Object(v.jsx)(me.a,{item:!0,xs:10,children:Object(v.jsxs)(me.a,{container:!0,wrap:"nowrap",alignItems:"center",spacing:2,children:[Object(v.jsx)(me.a,{item:!0,xs:2,children:Object(v.jsx)(O.a,{onClick:function(){return r()},size:"small",children:t?Object(v.jsx)(xe.a,{}):Object(v.jsx)(ye.a,{})})}),Object(v.jsx)(me.a,{item:!0,xs:10,children:Object(v.jsx)(p.a,{noWrap:!0,children:a})})]})}),o?Object(v.jsx)(v.Fragment,{}):Object(v.jsx)(me.a,{item:!0,xs:2,children:Object(v.jsx)(O.a,{onClick:function(){return i()},size:"small",children:n?Object(v.jsx)(_e.a,{}):Object(v.jsx)(Ce.a,{})})})]})})},Ie=Object(ge.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),Se=Object(r.c)(f.a).withConfig({displayName:"PartGroup__Button",componentId:"d20ix9-0"})(h.b),ke=Object(r.c)(de.a).withConfig({displayName:"PartGroup__ButtonGroup",componentId:"d20ix9-1"})(h.b),Le=Object(r.c)(Se).withConfig({displayName:"PartGroup__AddButton",componentId:"d20ix9-2"})(["min-width:40px;padding:3px 5px;.MuiButton-startIcon{margin-right:2px;}.MuiButton-endIcon{margin:0;}.fa-lg{font-size:1.3333333333em !important;}"]),Re=function(e){var t=Ie(),n=Object(c.d)(),r=Object(i.useState)(!0),o=Object(a.a)(r,2),l=o[0],s=o[1],u=Object(c.e)((function(e){return e.layerReducer.current})),j=e.layerList,b=e.title,h=e.actions,p=e.extraChildren,f=e.disableLock,g=e.disableDnd,m=X.a.orderBy(j,["layer_order"],["asc"]),x=function(e,t){var a=j.find((function(t){return t.id===e}));n(Object($.j)(Object(F.a)(Object(F.a)({},a),{},Object(oe.a)({},t,!a[t]))))};return Object(v.jsx)(d.a,{mb:2,children:Object(v.jsxs)(ue.a,{children:[Object(v.jsx)(je.a,{title:b,action:Object(v.jsxs)(d.a,{display:"flex",children:[h?Object(v.jsx)(ke,{mr:1,children:h.map((function(e,t){return Object(v.jsx)(Le,{onClick:e.onClick,size:"small",startIcon:Object(v.jsx)(pe.a,{}),endIcon:Object(v.jsx)(Oe.a,{icon:e.icon,size:"lg"}),variant:"outlined"},t)}))}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)(O.a,{onClick:function(){s((function(e){return!e}))},className:Object(le.a)(t.expand,Object(oe.a)({},t.expandOpen,l)),children:Object(v.jsx)(fe.a,{})})]})}),Object(v.jsx)(be.a,{in:l,children:Object(v.jsxs)(he.a,{children:[Object(v.jsx)(se.ReactSortable,{list:m,setList:function(e){var t=function(t){var a=j.find((function(n){return n.id===e[t].id}));a.layer_order!==parseInt(t)+1&&n(Object($.j)(Object(F.a)(Object(F.a)({},a),{},{layer_order:parseInt(t)+1})))};for(var a in e)t(a)},animation:150,sort:!g,children:m.map((function(e){return Object(v.jsx)(we,{text:e.layer_data.name,layer_visible:e.layer_visible,layer_locked:e.layer_locked,toggleVisible:function(){return x(e.id,"layer_visible")},toggleLocked:function(){return x(e.id,"layer_locked")},selected:u&&u.id===e.id,onClick:function(){return t=e,void n(Object($.h)(t));var t},disableLock:f},e.id)}))}),p]})})]})})},Te=n(430),Fe=n(131),Ne=n(1070),Be=n(1071),De=n(1085),Me=n(1072),Pe=n(1073),ze=n(1074),Ee=n(1075),Ae=Object(r.c)(f.a).withConfig({displayName:"BasePaintDialog__Button",componentId:"sc-1dconu8-0"})(h.b),Ue=Object(r.c)(Te.a).withConfig({displayName:"BasePaintDialog__CustomInfiniteScroll",componentId:"sc-1dconu8-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),Ge=Object(r.c)(Ne.a).withConfig({displayName:"BasePaintDialog__CustomGridList",componentId:"sc-1dconu8-2"})(["overflow:hidden !important;margin:0 !important;"]),We=Object(r.c)(Be.a).withConfig({displayName:"BasePaintDialog__CustomGridListTile",componentId:"sc-1dconu8-3"})(["cursor:pointer;"]),Ve=r.c.img.withConfig({displayName:"BasePaintDialog__CustomImg",componentId:"sc-1dconu8-4"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),Xe=function(e){var t=Object(i.useState)(15),n=Object(a.a)(t,2),r=n[0],c=n[1],o=e.basePaints,l=e.onCancel,s=e.open,d=e.onOpenBase;return Object(v.jsxs)(De.a,{"aria-labelledby":"base-paints-title",open:s,onClose:l,children:[Object(v.jsx)(Me.a,{id:"base-paints-title",children:"Select Base Paint"}),Object(v.jsx)(Pe.a,{dividers:!0,id:"base-paint-dialog-content",children:Object(v.jsx)(Ue,{dataLength:r,next:function(){c(r+15)},hasMore:r<o.length,loader:Object(v.jsx)(Fe.a,{}),scrollableTarget:"base-paint-dialog-content",children:Object(v.jsx)(Ge,{cellHeight:178,cols:3,children:o.slice(0,r).map((function(e){return Object(v.jsxs)(We,{cols:1,onClick:function(){return d(e)},children:[Object(v.jsx)(Ve,{src:"".concat(U.a.assetsURL,"/bases/").concat(e.id,"/preview.jpg"),alt:e.base_description}),Object(v.jsx)(ze.a,{title:e.base_name,subtitle:e.base_description})]},e.id)}))})})}),Object(v.jsx)(Ee.a,{children:Object(v.jsx)(Ae,{onClick:l,color:"primary",children:"Cancel"})})]})},qe=n(1087),Ye=n(882),He=n.n(Ye),Ke=Object(ge.a)((function(e){return{search:Object(oe.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},border:"1px solid #8A8A8A",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}})),Je=function(e){var t=e.value,n=e.onChange,a=Ke();return Object(v.jsxs)("div",{className:a.search,children:[Object(v.jsx)("div",{className:a.searchIcon,children:Object(v.jsx)(He.a,{})}),Object(v.jsx)(qe.a,{placeholder:"Search",classes:{root:a.inputRoot,input:a.inputInput},value:t,inputProps:{"aria-label":"search"},onChange:function(e){n(e.target.value)}})]})},Qe=Object(r.c)(f.a).withConfig({displayName:"ShapeDialog__Button",componentId:"sc-12nk2gq-0"})(h.b),Ze=Object(r.c)(Te.a).withConfig({displayName:"ShapeDialog__CustomInfiniteScroll",componentId:"sc-12nk2gq-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),$e=Object(r.c)(Ne.a).withConfig({displayName:"ShapeDialog__CustomGridList",componentId:"sc-12nk2gq-2"})(["overflow:hidden !important;margin:0 !important;"]),et=Object(r.c)(Be.a).withConfig({displayName:"ShapeDialog__CustomGridListTile",componentId:"sc-12nk2gq-3"})(["cursor:pointer;"]),tt=Object(r.c)(Pe.a).withConfig({displayName:"ShapeDialog__CustomDialogContent",componentId:"sc-12nk2gq-4"})(["width:600px;"]),nt=r.c.img.withConfig({displayName:"ShapeDialog__CustomImg",componentId:"sc-12nk2gq-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),at=function(e){var t=Object(i.useState)(15),n=Object(a.a)(t,2),r=n[0],c=n[1],o=Object(i.useState)(""),l=Object(a.a)(o,2),s=l[0],u=l[1],j=e.shapes,b=e.onCancel,h=e.open,p=e.onOpenShape,f=j.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase())}));return Object(v.jsxs)(De.a,{"aria-labelledby":"shape-title",open:h,onClose:b,children:[Object(v.jsx)(Me.a,{id:"shape-title",children:"Insert Shape"}),Object(v.jsxs)(tt,{dividers:!0,children:[Object(v.jsx)(d.a,{mb:2,children:Object(v.jsx)(Je,{value:s,onChange:function(e){return u(e)}})}),Object(v.jsx)(d.a,{id:"shape-dialog-content",overflow:"auto",height:"70vh",children:Object(v.jsx)(Ze,{dataLength:r,next:function(){c(r+15)},hasMore:r<f.length,loader:Object(v.jsx)(Fe.a,{}),scrollableTarget:"shape-dialog-content",children:Object(v.jsx)($e,{cellHeight:178,cols:3,children:f.slice(0,r).map((function(e){return Object(v.jsxs)(et,{cols:1,onClick:function(){return p(e)},children:[Object(v.jsx)(nt,{src:"".concat(U.a.assetsURL,"/").concat(e.overlay_thumb),alt:e.name}),Object(v.jsx)(ze.a,{title:e.name,subtitle:e.description})]},e.id)}))})})})]}),Object(v.jsx)(Ee.a,{children:Object(v.jsx)(Qe,{onClick:b,color:"primary",children:"Cancel"})})]})},rt=n(1080),it=n(1076),ct=n(14),ot=Object(r.c)(f.a).withConfig({displayName:"LogoDialog__Button",componentId:"sc-39n1mp-0"})(h.b),lt=Object(r.c)(p.a).withConfig({displayName:"LogoDialog__Typography",componentId:"sc-39n1mp-1"})(h.b),st=Object(r.c)(Te.a).withConfig({displayName:"LogoDialog__CustomInfiniteScroll",componentId:"sc-39n1mp-2"})([".infinite-scroll-component{overflow:hidden !important;}"]),dt=Object(r.c)(Ne.a).withConfig({displayName:"LogoDialog__CustomGridList",componentId:"sc-39n1mp-3"})(["overflow:hidden !important;margin:0 !important;"]),ut=Object(r.c)(Be.a).withConfig({displayName:"LogoDialog__CustomGridListTile",componentId:"sc-39n1mp-4"})(["cursor:pointer;"]),jt=Object(r.c)(Pe.a).withConfig({displayName:"LogoDialog__CustomDialogContent",componentId:"sc-39n1mp-5"})(["width:600px;"]),bt=r.c.img.withConfig({displayName:"LogoDialog__CustomImg",componentId:"sc-39n1mp-6"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),ht=Object(ct.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:40,width:"100%",backgroundColor:"#635ee7"}}})((function(e){return Object(v.jsx)(rt.a,Object(F.a)(Object(F.a)({},e),{},{TabIndicatorProps:{children:Object(v.jsx)("span",{})}}))})),pt=Object(ct.a)((function(e){return{root:{textTransform:"none",color:"#fff",fontWeight:e.typography.fontWeightRegular,fontSize:"1rem",marginRight:0,padding:"6px 5px",minWidth:60,"&:focus":{opacity:1}}}}))((function(e){return Object(v.jsx)(it.a,Object(F.a)({disableRipple:!0},e))})),ft=function(e){var t=e.children,n=e.value,a=e.index,r=Object(z.a)(e,["children","value","index"]);return Object(v.jsx)("div",Object(F.a)(Object(F.a)({role:"tabpanel",hidden:n!==a,id:"logo-tabpanel-".concat(a),"aria-labelledby":"logo-tab-".concat(a)},r),{},{children:n===a&&Object(v.jsx)(v.Fragment,{children:t})}))};function Ot(e){return{id:"logo-tab-".concat(e),"aria-controls":"logo-tabpanel-".concat(e)}}var gt=function(e){var t=Object(i.useState)(15),n=Object(a.a)(t,2),r=n[0],c=n[1],o=Object(i.useState)(15),l=Object(a.a)(o,2),s=l[0],u=l[1],j=Object(i.useState)(0),b=Object(a.a)(j,2),h=b[0],p=b[1],f=Object(i.useState)(""),O=Object(a.a)(f,2),g=O[0],m=O[1],x=e.logos,y=e.onCancel,_=e.open,C=e.onOpenLogo,w=x.filter((function(e){return e.name.toLowerCase().includes(g.toLowerCase())&&"flag"!==e.type})),I=x.filter((function(e){return e.name.toLowerCase().includes(g.toLowerCase())&&"flag"===e.type}));return Object(v.jsxs)(De.a,{"aria-labelledby":"logo-title",open:_,onClose:y,children:[Object(v.jsx)(Me.a,{id:"logo-title",children:Object(v.jsxs)(d.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(v.jsx)(lt,{variant:"h5",mr:2,children:"Insert:"}),Object(v.jsxs)(ht,{value:h,onChange:function(e,t){p(t),m("")},"aria-label":"logo tab",children:[Object(v.jsx)(pt,Object(F.a)({label:"Logo"},Ot(0))),Object(v.jsx)(pt,Object(F.a)({label:"Flag"},Ot(1)))]})]})}),Object(v.jsxs)(jt,{dividers:!0,children:[Object(v.jsx)(d.a,{mb:2,children:Object(v.jsx)(Je,{value:g,onChange:function(e){return m(e)}})}),Object(v.jsx)(ft,{value:h,index:0,children:Object(v.jsx)(d.a,{id:"logo-dialog-content",overflow:"auto",height:"70vh",children:Object(v.jsx)(st,{dataLength:r,next:function(){c(r+15)},hasMore:r<w.length,loader:Object(v.jsx)(Fe.a,{}),scrollableTarget:"logo-dialog-content",children:Object(v.jsx)(dt,{cellHeight:178,cols:3,children:w.slice(0,r).map((function(e){return Object(v.jsxs)(ut,{cols:1,onClick:function(){return C(e)},children:[Object(v.jsx)(bt,{src:"".concat(U.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object(v.jsx)(ze.a,{title:e.name})]},e.id)}))})})})}),Object(v.jsx)(ft,{value:h,index:1,children:Object(v.jsx)(d.a,{id:"flag-dialog-content",overflow:"auto",height:"70vh",children:Object(v.jsx)(st,{dataLength:s,next:function(){u(s+15)},hasMore:s<I.length,loader:Object(v.jsx)(Fe.a,{}),scrollableTarget:"flag-dialog-content",children:Object(v.jsx)(dt,{cellHeight:178,cols:3,children:I.slice(0,s).map((function(e){return Object(v.jsxs)(ut,{cols:1,onClick:function(){return C(e)},children:[Object(v.jsx)(bt,{src:"".concat(U.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object(v.jsx)(ze.a,{title:e.name})]},e.id)}))})})})})]}),Object(v.jsx)(Ee.a,{children:Object(v.jsx)(ot,{onClick:y,color:"primary",children:"Cancel"})})]})},mt=n(1016),xt=n(137),yt=Object(r.c)(f.a).withConfig({displayName:"UploadDialog__Button",componentId:"vk7mct-0"})(h.b),_t=Object(r.c)(Te.a).withConfig({displayName:"UploadDialog__CustomInfiniteScroll",componentId:"vk7mct-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),Ct=Object(r.c)(Ne.a).withConfig({displayName:"UploadDialog__CustomGridList",componentId:"vk7mct-2"})(["overflow:hidden !important;margin:0 !important;"]),vt=Object(r.c)(Be.a).withConfig({displayName:"UploadDialog__CustomGridListTile",componentId:"vk7mct-3"})(["cursor:pointer;"]),wt=Object(r.c)(Pe.a).withConfig({displayName:"UploadDialog__CustomDialogContent",componentId:"vk7mct-4"})(["width:600px;"]),It=r.c.img.withConfig({displayName:"UploadDialog__CustomImg",componentId:"vk7mct-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),St=function(e){var t=Object(c.d)(),n=Object(c.e)((function(e){return e.authReducer.user})),r=Object(c.e)((function(e){return e.schemeReducer.current})),o=Object(i.useState)(15),l=Object(a.a)(o,2),s=l[0],u=l[1],j=Object(i.useState)([]),b=Object(a.a)(j,2),h=b[0],p=b[1],f=Object(i.useState)(1),O=Object(a.a)(f,2),g=O[0],m=O[1],x=e.uploads,y=e.onCancel,_=e.open,C=e.onOpenUpload,w=function(e){return e.substring(e.lastIndexOf("uploads/")+"uploads/".length,e.lastIndexOf("."))};return Object(v.jsxs)(De.a,{"aria-labelledby":"upload-title",open:_,onClose:y,children:[Object(v.jsx)(Me.a,{id:"upload-title",children:"My Uploads"}),Object(v.jsxs)(wt,{dividers:!0,children:[Object(v.jsx)(mt.a,{onChange:function(e){p(e),console.log(e)},value:h,showFileNamesInPreview:!0,showFileNames:!0,maxFiles:10},g),h.length?Object(v.jsx)(d.a,{mt:1,width:"100%",display:"flex",justifyContent:"center",children:Object(v.jsx)(yt,{variant:"contained",color:"primary",onClick:function(){console.log(h),t(Object(xt.c)(n.id,r.id,h)),p([]),m(g+1)},children:"Save To My Upload List"})}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)(d.a,{id:"upload-dialog-content",overflow:"auto",height:"40vh",mt:1,children:Object(v.jsx)(_t,{dataLength:s,next:function(){u(s+15)},hasMore:s<x.length,loader:Object(v.jsx)(Fe.a,{}),scrollableTarget:"upload-dialog-content",children:Object(v.jsx)(Ct,{cellHeight:178,cols:3,children:x.slice(0,s).map((function(e){return Object(v.jsxs)(vt,{cols:1,onClick:function(){return C(e)},children:[Object(v.jsx)(It,{src:"".concat(U.a.assetsURL,"/").concat(e.file_name),alt:w(e.file_name)}),Object(v.jsx)(ze.a,{title:w(e.file_name)})]},e.id)}))})})})]}),Object(v.jsx)(Ee.a,{children:Object(v.jsx)(yt,{onClick:y,color:"primary",children:"Cancel"})})]})},kt=n(568),Lt=n(567),Rt=n(1079),Tt=n(1050),Ft=n(1089),Nt=n(1092),Bt=n(1051),Dt=n(1090),Mt=n(1047),Pt=Object(r.c)(p.a).withConfig({displayName:"SliderInput__Typography",componentId:"sc-7loe1z-0"})(h.b),zt=Object(r.c)(Bt.a).withConfig({displayName:"SliderInput__CustomInput",componentId:"sc-7loe1z-1"})([".MuiInputBase-inputMarginDense{padding-top:4px;padding-bottom:5px;width:50px;}"]),Et=Object(r.c)(d.a).withConfig({displayName:"SliderInput__SliderWrapper",componentId:"sc-7loe1z-2"})(["width:80px;margin-left:8px;margin-right:8px;height:28px;"]),At=function(e){var t=e.label,n=e.min,a=e.max,r=e.value,i=e.setValue;e.width;return Object(v.jsxs)(d.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(v.jsx)(Pt,{variant:"body1",color:"textSecondary",mr:2,children:t}),Object(v.jsxs)(d.a,{display:"flex",alignItems:"center",children:[Object(v.jsx)(Et,{children:Object(v.jsx)(Dt.a,{min:n,max:a,value:r,onChange:function(e,t){return i(t)},"aria-labelledby":"shape-size",ValueLabelComponent:function(e){return Object(v.jsx)(Mt.a,{open:e.open,enterTouchDelay:0,placement:"top",title:e.value,children:e.children})}})}),Object(v.jsx)(zt,{value:r,margin:"dense",type:"number",onChange:function(e){return i(""===e.target.value?n||0:Number(e.target.value))},onBlur:function(){r<n?i(n):r>a&&i(a)},inputProps:{min:n,max:a,"aria-labelledby":"input-slider"}})]})]})},Ut=Object(r.c)(f.a).withConfig({displayName:"TextDialog__Button",componentId:"sc-18v4ol9-0"})(h.b),Gt=Object(r.c)(te.a).withConfig({displayName:"TextDialog__TextField",componentId:"sc-18v4ol9-1"})(h.b),Wt=Object(r.c)(Rt.a).withConfig({displayName:"TextDialog__Select",componentId:"sc-18v4ol9-2"})(h.b),Vt=Object(r.c)(p.a).withConfig({displayName:"TextDialog__Typography",componentId:"sc-18v4ol9-3"})(h.b),Xt=Object(r.c)(Gt).withConfig({displayName:"TextDialog__CustomeTextField",componentId:"sc-18v4ol9-4"})([".MuiInputBase-input{height:2rem;}"]),qt=r.c.img.withConfig({displayName:"TextDialog__FontImage",componentId:"sc-18v4ol9-5"})(["width:506px;filter:invert(1);"]),Yt=Object(r.c)(Wt).withConfig({displayName:"TextDialog__FontSelect",componentId:"sc-18v4ol9-6"})([".MuiSelect-selectMenu{display:flex;align-items:center;height:2rem;}"]),Ht=Object(r.c)(Gt).withConfig({displayName:"TextDialog__ColorInputField",componentId:"sc-18v4ol9-7"})(["width:80px;"]),Kt=function(e){var t=e.fontList,n=e.errors,a=e.handleBlur,r=e.handleChange,i=e.setFieldValue,c=e.touched,o=e.values;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Xt,{name:"text",label:"Text",placeholder:"Input Text here",variant:"outlined",value:o.text,error:Boolean(c.text&&n.text),helperText:c.text&&n.text,onBlur:a,onChange:r,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}),Object(v.jsxs)(Tt.a,{variant:"outlined",children:[Object(v.jsx)(Ft.a,{id:"font-select-label",children:"Font"}),Object(v.jsx)(Yt,{labelId:"font-select-label",id:"font-select-outlined",value:o.font,onChange:function(e){return i("font",e.target.value)},label:"Font",mb:4,renderValue:function(e){var n=t.find((function(t){return t.id===e}));return n?Object(v.jsx)(qt,{src:"".concat(U.a.assetsURL,"/").concat(n.font_preview),alt:n.font_name}):Object(v.jsx)(v.Fragment,{children:"Select Font"})},children:t.map((function(e){return Object(v.jsx)(Nt.a,{value:e.id,children:Object(v.jsx)(qt,{src:"".concat(U.a.assetsURL,"/").concat(e.font_preview),alt:e.font_name})},e.id)}))})]}),Object(v.jsxs)(me.a,{container:!0,spacing:2,children:[Object(v.jsx)(me.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(At,{label:"Font Size",width:80,min:6,max:72,value:o.size,setValue:function(e){return i("size",e)}})}),Object(v.jsx)(me.a,{item:!0,xs:12,sm:6,children:Object(v.jsxs)(d.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(v.jsx)(Vt,{variant:"body1",color:"textSecondary",mr:2,children:"Font Color"}),Object(v.jsxs)(d.a,{display:"flex",alignItems:"center",children:[Object(v.jsx)(ne.a,{value:o.color,onChange:function(e){return i("color",e.css.backgroundColor)},palette:u.d,deferred:!0,hideTextfield:!0}),Object(v.jsx)(Ht,{value:o.color,onChange:function(e){return i("color",e.target.value)}})]})]})})]}),Object(v.jsxs)(me.a,{container:!0,spacing:2,children:[Object(v.jsx)(me.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(At,{label:"Stroke Width",width:80,min:0,max:10,value:o.stroke,setValue:function(e){return i("stroke",e)}})}),Object(v.jsx)(me.a,{item:!0,xs:12,sm:6,children:Object(v.jsxs)(d.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(v.jsx)(Vt,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"}),Object(v.jsxs)(d.a,{display:"flex",alignItems:"center",children:[Object(v.jsx)(ne.a,{value:o.scolor,onChange:function(e){return i("scolor",e.css.backgroundColor)},palette:u.d,deferred:!0,hideTextfield:!0}),Object(v.jsx)(Ht,{value:o.scolor,onChange:function(e){return i("scolor",e.target.value)}})]})]})})]}),Object(v.jsx)(me.a,{container:!0,spacing:2,children:Object(v.jsx)(me.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(At,{label:"Rotation",width:80,min:-179,max:179,value:o.rotation,setValue:function(e){return i("rotation",e)}})})})]})},Jt=function(e){var t=e.fontList,n=e.onCancel,a=e.open,r=e.onCreate;return Object(v.jsxs)(De.a,{"aria-labelledby":"insert-text-title",open:a,onClose:n,children:[Object(v.jsx)(Me.a,{id:"insert-text-title",children:"Insert Text"}),Object(v.jsx)(Lt.b,{initialValues:{text:"",font:1,size:14,color:"#000000",stroke:0,scolor:"#000000",rotation:0},validationSchema:kt.b().shape({text:kt.c().required("Required")}),validate:function(e){return console.log(e),{}},onSubmit:r,children:function(e){return Object(v.jsxs)(Lt.a,{onSubmit:e.handleSubmit,children:[Object(v.jsx)(Pe.a,{dividers:!0,id:"insert-text-dialog-content",children:Object(v.jsx)(Kt,Object(F.a)(Object(F.a)({},e),{},{fontList:t}))}),Object(v.jsxs)(Ee.a,{children:[Object(v.jsx)(Ut,{onClick:n,color:"secondary",children:"Cancel"}),Object(v.jsx)(Ut,{type:"submit",color:"primary",variant:"outlined",disabled:e.isSubmitting,children:"Create"})]})]})}})]})},Qt=Object(r.c)(ne.a).withConfig({displayName:"sideBar__CustomColorPicker",componentId:"sc-10zcfrv-0"})([".MuiInputBase-input{width:70px;border-bottom:1px solid #8a8a8a;}"]),Zt=Object(r.c)(te.a).withConfig({displayName:"sideBar__ColorInputField",componentId:"sc-10zcfrv-1"})(["width:80px;.MuiInputBase-input.Mui-disabled{color:white;}"]),$t=Object(r.c)(d.a).withConfig({displayName:"sideBar__Wrapper",componentId:"sc-10zcfrv-2"})(["width:350px;background:#666666;overflow:auto;"]),en=function(){var e=Object(c.d)(),t=Object(i.useState)(null),n=Object(a.a)(t,2),r=n[0],o=n[1],l=Object(c.e)((function(e){return e.schemeReducer.current})),s=Object(c.e)((function(e){return e.layerReducer.list})),j=Object(c.e)((function(e){return e.overlayReducer.list})),b=Object(c.e)((function(e){return e.logoReducer.list})),h=Object(c.e)((function(e){return e.uploadReducer.list})),p=Object(c.e)((function(e){return e.fontReducer.list})),f=Object(c.e)((function(e){return e.boardReducer.frameSize})),O=Object(c.e)((function(e){return e.basePaintReducer.list}));return Object(v.jsxs)($t,{p:3,children:[Object(v.jsx)(ce,{}),Object(v.jsx)(Re,{title:"Car Parts",layerList:s.filter((function(e){return e.layer_type===u.b.CAR})),disableLock:!0,disableDnd:!0}),Object(v.jsx)(Re,{title:"Logos & Text",layerList:s.filter((function(e){return e.layer_type===u.b.LOGO||e.layer_type===u.b.TEXT||e.layer_type===u.b.UPLOAD})),actions:[{onClick:function(){return o(u.a.UPLOAD)},icon:ae.b},{onClick:function(){return o(u.a.LOGO)},icon:ae.d},{onClick:function(){return o(u.a.TEXT)},icon:ae.c}]}),Object(v.jsx)(Re,{title:"Shapes",layerList:s.filter((function(e){return e.layer_type===u.b.OVERLAY})),actions:[{onClick:function(){return o(u.a.SHAPE)},icon:ae.e}]}),Object(v.jsx)(Re,{title:"Base Paint",layerList:s.filter((function(e){return e.layer_type===u.b.BASE})),actions:[{onClick:function(){return o(u.a.BASEPAINT)},icon:ae.a}],disableLock:!0,extraChildren:Object(v.jsxs)(d.a,{display:"flex",alignItems:"center",children:[Object(v.jsx)(Qt,{value:"transparent"===l.base_color?l.base_color:"#"+l.base_color,deferred:!0,onChange:function(t){console.log("Color: ",t),e(Object(re.a)(l.id,t.css.backgroundColor))},palette:u.d,hideTextfield:!0}),Object(v.jsx)(Zt,{value:"transparent"===l.base_color?l.base_color:"#"+l.base_color,disabled:!0})]})}),Object(v.jsx)(Xe,{open:r===u.a.BASEPAINT,basePaints:O,onOpenBase:function(t){var n=s.filter((function(e){return u.b.BASE===e.layer_type})).length;e(Object($.d)(l.id,t,n+1)),o(null)},onCancel:function(){return o(null)}}),Object(v.jsx)(at,{open:r===u.a.SHAPE,shapes:j,onOpenShape:function(t){var n=s.filter((function(e){return u.b.OVERLAY===e.layer_type})).length;e(Object($.b)(l.id,t,n+1,f)),o(null)},onCancel:function(){return o(null)}}),Object(v.jsx)(gt,{open:r===u.a.LOGO,logos:b,onOpenLogo:function(t){var n=s.filter((function(e){return[u.b.LOGO,u.b.UPLOAD,u.b.TEXT].includes(e.layer_type)})).length;e(Object($.a)(l.id,t,n+1,f)),o(null)},onCancel:function(){return o(null)}}),Object(v.jsx)(St,{open:r===u.a.UPLOAD,uploads:h,onOpenUpload:function(t){var n=s.filter((function(e){return[u.b.LOGO,u.b.UPLOAD,u.b.TEXT].includes(e.layer_type)})).length;e(Object($.c)(l.id,t,n+1,f)),o(null)},onCancel:function(){return o(null)}}),Object(v.jsx)(Jt,{open:r===u.a.TEXT,fontList:p,onCreate:function(t){var n=s.filter((function(e){return[u.b.LOGO,u.b.UPLOAD,u.b.TEXT].includes(e.layer_type)})).length;e(Object($.e)(l.id,t,n+1,f)),o(null)},onCancel:function(){return o(null)}})]})},tn=Object(r.c)(p.a).withConfig({displayName:"GeneralProperty__TitleTypograhpy",componentId:"sc-55yoxm-0"})(["margin-top:5px;margin-bottom:5px;border-bottom:1px solid gray;padding-bottom:5px;"]),nn=Object(r.c)(te.a).withConfig({displayName:"GeneralProperty__CustomeTextField",componentId:"sc-55yoxm-1"})([".MuiInputBase-input{height:2rem;}"]),an=function(e){var t=e.errors,n=e.handleBlur,a=e.handleChange,r=(e.setFieldValue,e.touched),i=e.values;return Object(v.jsxs)(d.a,{display:"flex",flexDirection:"column",children:[Object(v.jsx)(tn,{children:"General"}),Object(v.jsx)(nn,{name:"layer_data.name",label:"Name",variant:"outlined",value:i.layer_data.name,error:Boolean(r.layer_data&&r.layer_data.name&&t.layer_data&&t.layer_data.name),helperText:r.layer_data&&r.layer_data.name&&t.layer_data&&t.layer_data.name,onBlur:n,onChange:a,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}),i.layer_type===u.b.TEXT?Object(v.jsx)(nn,{name:"layer_data.text",label:"Text",variant:"outlined",value:i.layer_data.text,error:Boolean(r.layer_data&&r.layer_data.text&&t.layer_data&&t.layer_data.text),helperText:r.layer_data&&r.layer_data.text&&t.layer_data&&t.layer_data.text,onBlur:n,onChange:a,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(v.jsx)(v.Fragment,{})]})},rn=Object(r.c)(p.a).withConfig({displayName:"SizeProperty__TitleTypograhpy",componentId:"sc-8yv6lk-0"})(["margin-top:5px;margin-bottom:5px;border-bottom:1px solid gray;padding-bottom:5px;"]),cn=Object(r.c)(te.a).withConfig({displayName:"SizeProperty__CustomeTextField",componentId:"sc-8yv6lk-1"})([".MuiInputBase-input{height:2rem;}"]),on=function(e){var t=e.errors,n=e.handleBlur,a=e.handleChange,r=(e.setFieldValue,e.touched),i=e.values;return Object(v.jsxs)(d.a,{display:"flex",flexDirection:"column",children:[Object(v.jsx)(rn,{children:"Size"}),Object(v.jsx)(cn,{name:"layer_data.width",label:"Width",variant:"outlined",type:"number",value:i.layer_data.width,error:Boolean(r.layer_data&&r.layer_data.width&&t.layer_data&&t.layer_data.width),helperText:r.layer_data&&r.layer_data.width&&t.layer_data&&t.layer_data.width,onBlur:n,onChange:a,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}),Object(v.jsx)(cn,{name:"layer_data.height",label:"Height",variant:"outlined",type:"number",value:i.layer_data.height,error:Boolean(r.layer_data&&r.layer_data.height&&t.layer_data&&t.layer_data.height),helperText:r.layer_data&&r.layer_data.height&&t.layer_data&&t.layer_data.height,onBlur:n,onChange:a,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}})]})},ln=Object(r.c)(p.a).withConfig({displayName:"PositionProperty__TitleTypograhpy",componentId:"sc-16v7yid-0"})(["margin-top:5px;margin-bottom:5px;border-bottom:1px solid gray;padding-bottom:5px;"]),sn=Object(r.c)(te.a).withConfig({displayName:"PositionProperty__CustomeTextField",componentId:"sc-16v7yid-1"})([".MuiInputBase-input{height:2rem;}"]),dn=function(e){var t=e.errors,n=e.handleBlur,a=e.handleChange,r=(e.setFieldValue,e.touched),i=e.values;return Object(v.jsxs)(d.a,{display:"flex",flexDirection:"column",children:[Object(v.jsx)(ln,{children:"Position"}),Object(v.jsx)(sn,{name:"layer_data.left",label:"Left",variant:"outlined",type:"number",value:i.layer_data.left,error:Boolean(r.layer_data&&r.layer_data.left&&t.layer_data&&t.layer_data.left),helperText:r.layer_data&&r.layer_data.left&&t.layer_data&&t.layer_data.left,onBlur:n,onChange:a,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}),Object(v.jsx)(sn,{name:"layer_data.top",label:"Top",variant:"outlined",type:"number",value:i.layer_data.top,error:Boolean(r.layer_data&&r.layer_data.top&&t.layer_data&&t.layer_data.top),helperText:r.layer_data&&r.layer_data.top&&t.layer_data&&t.layer_data.top,onBlur:n,onChange:a,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}})]})},un=n(1077),jn=n(1082),bn=Object(r.c)(p.a).withConfig({displayName:"RotationProperty__TitleTypograhpy",componentId:"h66kmu-0"})(["margin-top:5px;margin-bottom:5px;border-bottom:1px solid gray;padding-bottom:5px;"]),hn=function(e){e.errors,e.handleBlur,e.handleChange;var t=e.setFieldValue,n=(e.touched,e.values);return Object(v.jsxs)(d.a,{display:"flex",flexDirection:"column",children:[Object(v.jsx)(bn,{children:"Rotation"}),Object(v.jsx)(At,{label:"Rotation",width:80,min:-179,max:179,value:Math.round(n.layer_data.rotation),setValue:function(e){return t("layer_data.rotation",e)}}),Object(v.jsxs)(d.a,{display:"flex",justifyContent:"space-around",children:[Object(v.jsx)(Tt.a,{component:"fieldset",children:Object(v.jsx)(un.a,{control:Object(v.jsx)(jn.a,{color:"primary",checked:Boolean(n.layer_data.flop),onChange:function(e){return t("layer_data.flop",e.target.checked?1:0)}}),label:"Flop",labelPlacement:"start"})}),Object(v.jsx)(Tt.a,{component:"fieldset",children:Object(v.jsx)(un.a,{control:Object(v.jsx)(jn.a,{color:"primary",checked:Boolean(n.layer_data.flip),onChange:function(e){return t("layer_data.flip",e.target.checked?1:0)}}),label:"Flip",labelPlacement:"start"})})]})]})},pn=Object(r.c)(d.a).withConfig({displayName:"propertyBar__Wrapper",componentId:"sc-1e4csol-0"})(["width:350px;position:fixed;right:0;top:0;background:#666666;height:100%;overflow:auto;"]),fn=function(){var e=Object(c.d)(),t=Object(c.e)((function(e){return e.layerReducer.current})),n=function(e){for(var n in t.layer_data)if(e.layer_data[n]!==t.layer_data[n])return!0;return!1};if(t){return Object(v.jsx)(pn,{py:5,px:3,children:Object(v.jsx)(Lt.b,{initialValues:Object.assign({layer_data:{name:"",width:0,height:0,left:0,top:0,rotation:0,flop:0,flip:0}},Object(F.a)({},t)),validationSchema:kt.b({layer_data:kt.b({name:kt.c().required("Required"),width:kt.a().required("Required").moreThan(0,"Must be greater than 0"),height:kt.a().required("Required").moreThan(0,"Must be greater than 0"),left:kt.a().required("Required"),top:kt.a().required("Required"),rotation:kt.a().required("Required").moreThan(-180,"Must be greater than -180").lessThan(180,"Must be less than 180"),flop:kt.a(),flip:kt.a()})}),enableReinitialize:!0,validate:function(e){return console.log(e),{}},onSubmit:function(t){e(Object($.j)(t))},children:function(e){return Object(v.jsxs)(Lt.a,{onSubmit:e.handleSubmit,children:[Object(v.jsxs)(d.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"34px",children:[Object(v.jsx)(p.a,{variant:"h5",noWrap:!0,children:"Properties"}),e.isValid&&n(e.values)?Object(v.jsx)(f.a,{type:"submit",color:"primary",variant:"outlined",children:"Apply"}):Object(v.jsx)(v.Fragment,{})]}),Object(v.jsx)(an,Object(F.a)({},e)),Object(v.jsx)(on,Object(F.a)({},e)),Object(v.jsx)(dn,Object(F.a)({},e)),Object(v.jsx)(hn,Object(F.a)({},e))]})}})})}return Object(v.jsx)(v.Fragment,{})},On=Object(r.c)(f.a).withConfig({displayName:"ConfirmDialog__Button",componentId:"sc-1cd3vhn-0"})(h.b),gn=function(e){var t=e.text,n=e.open,a=e.onCancel,r=e.onConfirm;return Object(v.jsxs)(De.a,{"aria-labelledby":"confirm-title",open:n,children:[Object(v.jsx)(Me.a,{id:"confirm-title",children:"Confirm"}),Object(v.jsx)(Pe.a,{dividers:!0,children:Object(v.jsx)(p.a,{variant:"body1",children:t})}),Object(v.jsxs)(Ee.a,{children:[Object(v.jsx)(On,{onClick:a,color:"primary",children:"Cancel"}),Object(v.jsx)(On,{onClick:r,color:"default",variant:"outlined",autoFocus:!0,children:"Confirm"})]})]})},mn=n(175),xn=n(176),yn=Object(r.c)(d.a).withConfig({displayName:"scheme__Wrapper",componentId:"sc-188wpva-0"})(["background-color:",";"],(function(e){return e.background}));t.default=function(){var e=Object(c.d)(),t=Object(s.g)(),n=Object(i.useState)(""),r=Object(a.a)(n,2),o=r[0],b=r[1],h=Object(c.e)((function(e){return e.authReducer.user})),p=Object(c.e)((function(e){return e.schemeReducer.current})),f=Object(c.e)((function(e){return e.layerReducer.current})),O=Object(c.e)((function(e){return e.overlayReducer.list})),g=Object(c.e)((function(e){return e.logoReducer.list})),m=Object(c.e)((function(e){return e.fontReducer.list})),x=Object(c.e)((function(e){return e.schemeReducer.loading})),y=Object(c.e)((function(e){return e.carMakeReducer.loading})),_=Object(c.e)((function(e){return e.fontReducer.loading}));return Object(i.useEffect)((function(){h&&t.id&&(p||(e(Object(re.e)(t.id)),e(Object(xt.b)(h.id))),O.length||e(Object(mn.b)()),g.length||e(Object(xn.b)()),m.length||e(Object(Z.b)()))}),[h]),Object(v.jsxs)(v.Fragment,{children:[x||y||_||!p?Object(v.jsx)(j.a,{}):Object(v.jsxs)(d.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:[Object(v.jsx)(l.a,{handleKeys:["all"],onKeyEvent:function(e,t){console.log("KeyEvent: ",e,t),"del"===e&&"INPUT"!==t.target.tagName&&f&&f.layer_type!==u.b.CAR&&b('Are you sure to delete "'.concat(f.layer_data.name,'"?'))}}),Object(v.jsxs)(d.a,{width:"100%",height:"calc(100% - 50px)",display:"flex",children:[Object(v.jsx)(en,{}),Object(v.jsx)(yn,{width:"calc(100% - 350px)",background:"#282828",overflow:"hidden",children:Object(v.jsx)(ee,{})}),Object(v.jsx)(fn,{})]}),Object(v.jsx)(T,{})]}),Object(v.jsx)(gn,{text:o,open:0!==o.length,onCancel:function(){return b("")},onConfirm:function(){e(Object($.g)(f)),b("")}})]})}}}]);
//# sourceMappingURL=7.577f3c7c.chunk.js.map