(this["webpackJsonppaint-builder"]=this["webpackJsonppaint-builder"]||[]).push([[6],{1085:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a(358),c=a(31),l=a(0),o=a(36),i=a(582),s=a.n(i),d=a(76),u=a(13),j=a(320),b=a(32),h=a(80),p=a(136),y=a(322),O=a(128),f=a(318),x=a(346),m=a(1094),g=a(1049),_=a(1046),w=a(1096),C=a(1047),v=a(1048),I=a(6),S=Object(c.c)(O.a).withConfig({displayName:"Toolbar__Typography",componentId:"sc-1sow5sy-0"})(y.b),k=Object(c.c)(_.a).withConfig({displayName:"Toolbar__ToggleButton",componentId:"sc-1sow5sy-1"})(y.b),L=Object(c.c)(f.a).withConfig({displayName:"Toolbar__Button",componentId:"sc-1sow5sy-2"})(y.b),F=Object(c.c)(x.a).withConfig({displayName:"Toolbar__IconButton",componentId:"sc-1sow5sy-3"})(y.b),R=c.c.div.withConfig({displayName:"Toolbar__Wrapper",componentId:"sc-1sow5sy-4"})(["width:100%;height:50px;display:flex;padding:10px 20px;background:#151515;z-index:1201;"]),B=Object(c.c)(m.a).withConfig({displayName:"Toolbar__CustomOutlinedInput",componentId:"sc-1sow5sy-5"})([".MuiOutlinedInput-input{padding:6px 14px;border-bottom:none;width:40px;}"]),T=function(e){var t=Object(o.d)(),a=Object(o.e)((function(e){return e.boardReducer.paintingGuides})),n=Object(o.e)((function(e){return e.boardReducer.zoom}));return Object(I.jsx)(R,{children:Object(I.jsxs)(j.a,{display:"flex",justifyContent:"space-between",alignContent:"center",width:"100%",children:[Object(I.jsxs)(j.a,{display:"flex",justifyContent:"start",alignContent:"center",children:[Object(I.jsx)(S,{variant:"subtitle1",mr:2,children:"Painting Guides:"}),Object(I.jsxs)(w.a,{value:a,onChange:function(e,a){t(Object(p.c)(a))},"aria-label":"Painting Guides",children:[Object(I.jsx)(k,{value:b.d.CARMASK,"aria-label":"car-mask",children:Object(I.jsx)(S,{variant:"caption",children:"car mask"})}),Object(I.jsx)(k,{value:b.d.WIREFRAME,"aria-label":"wireframe",children:Object(I.jsx)(S,{variant:"caption",children:"wireframe"})}),Object(I.jsx)(k,{value:b.d.SPONSORBLOCKS,"aria-label":"sponsor-blocks",children:Object(I.jsx)(S,{variant:"caption",children:"sponsor blocks"})}),Object(I.jsx)(k,{value:b.d.NUMBERBLOCKS,"aria-label":"number-blocks",children:Object(I.jsx)(S,{variant:"caption",children:"number blocks"})}),Object(I.jsx)(k,{value:b.d.GRID,"aria-label":"grid",children:Object(I.jsx)(S,{variant:"caption",children:"grid"})})]})]}),Object(I.jsxs)(j.a,{display:"flex",justifyContent:"flex-end",alignContent:"center",children:[Object(I.jsx)(L,{mr:2,variant:"outlined",children:"SHORTCUTS"}),Object(I.jsx)(L,{mr:2,variant:"outlined",children:"SIM PREVIEW"}),Object(I.jsx)(F,{onClick:function(){t(Object(p.d)(Math.max(Math.min(n/1.25,10),.25)))},children:Object(I.jsx)(C.a,{})}),Object(I.jsx)(F,{onClick:function(){t(Object(p.d)(Math.max(Math.min(1.25*n,10),.25)))},mr:1,children:Object(I.jsx)(v.a,{})}),Object(I.jsx)(B,{id:"zoom-value",value:100*n,onChange:function(e){t(Object(p.d)(parseInt(e.target.value||0)/100))},endAdornment:Object(I.jsx)(g.a,{position:"end",children:"%"}),labelWidth:0})]})]})})},N=a(417),D=a(874),z=a(2),M=a.n(z),P=a(4),X=a(479),E=a(622),A=a(483),Y=a.n(A),U=a(392),W=function(e){var t=e.src,a=e.tellSize,c=(e.isSelected,e.onSelect),o=e.onChange,i=e.filterColor,s=e.frameSize,d=Object(X.a)(e,["src","tellSize","isSelected","onSelect","onChange","filterColor","frameSize"]),u=Object(l.useRef)(null),j=Object(l.useRef)(),b=Object(l.useState)(null),h=Object(r.a)(b,2),p=h[0],y=h[1],O=[];i&&O.push(Y.a.Filters.RGBA);var f=function(e){return u.current?Math.max(1,u.current.width/e.width(),u.current.height/e.height()):1};Object(l.useEffect)((function(){return m(),function(){u.current&&u.current.removeEventListener("load",x)}}),[]),Object(l.useEffect)((function(){j.current&&(i?j.current.cache({pixelRatio:f(j.current),imageSmoothingEnabled:!0}):j.current.clearCache())}),[i]);var x=function(){var e=Object(P.a)(M.a.mark((function e(){var n,r,c,l,b,h,p;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!s||u.current.width<=s.width&&u.current.height<=s.height?u.current.width:s.width/2,r=!s||u.current.width<s.width&&u.current.height<s.height?u.current.width:s.width/2*u.current.height/u.current.width,c=d.width||n,l=d.height||r,!t.toLowerCase().includes(".svg")||u.current.width&&u.current.height){e.next=19;break}return b=document.createElement("canvas"),h=b.getContext("2d"),e.next=9,E.a.from(h,t,{enableRedraw:!0});case 9:return p=e.sent,console.log(p),c=c||p.documentElement.node.width.baseVal.value||200,l=l||p.documentElement.node.height.baseVal.value||200,p.resize(c,l,"none"),e.next=16,p.render();case 16:y(b),e.next=20;break;case 19:y(u.current);case 20:!o||d.width||d.height||o({left:U.a.mathRound2(d.x-c/2),top:U.a.mathRound2(d.y-l/2),width:U.a.mathRound2(c),height:U.a.mathRound2(l)}),i&&j.current.cache({pixelRatio:f(j.current),imageSmoothingEnabled:!0}),a&&a({width:c,height:l});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(P.a)(M.a.mark((function e(){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new window.Image).src=t+"?timestamp=".concat((new Date).toISOString()),a.crossOrigin="anonymous",u.current=a,u.current.addEventListener("load",x);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(N.a,Object(n.a)(Object(n.a)({},d),{},{image:p,onClick:c,onTap:c,ref:j,draggable:o,filters:O.length?O:null,red:i?U.a.hexToRgba(i).r:null,green:i?U.a.hexToRgba(i).g:null,blue:i?U.a.hexToRgba(i).b:null,alpha:i?U.a.hexToRgba(i).a/255:null,onDragStart:function(e){c()},onDragEnd:function(e){o&&o({left:U.a.mathRound2(e.target.x()),top:U.a.mathRound2(e.target.y())})},onTransformEnd:function(e){if(o){var t=j.current,a=t.scaleX(),n=t.scaleY();console.log("scaleX, scaleY: ",a,n),t.scaleX(a>0?1:-1),t.scaleY(n>0?1:-1),o({left:U.a.mathRound2(t.x()),top:U.a.mathRound2(t.y()),width:U.a.mathRound2(Math.max(1,t.width()*Math.abs(a))),height:U.a.mathRound2(Math.max(1,t.height()*Math.abs(n))),rotation:U.a.mathRound2(t.rotation())||0,flop:a>0?0:1,flip:n>0?0:1}),i?t.cache({pixelRatio:f(j.current),imageSmoothingEnabled:!0}):t.clearCache()}}}))},V=a(71),G=function(e){var t=10,a=e.paintingGuides,n=e.currentCarMake,r=e.handleImageSize,c=e.frameSize;return Object(I.jsxs)(I.Fragment,{children:[a.includes(b.d.CARMASK)?Object(I.jsx)(W,{src:"".concat(V.a.assetsURL,"/templates/").concat(n.folder_directory.replace(" ","_"),"/mask.png"),tellSize:r,listening:!1}):Object(I.jsx)(I.Fragment,{}),a.includes(b.d.WIREFRAME)?Object(I.jsx)(W,{src:"".concat(V.a.assetsURL,"/templates/").concat(n.folder_directory.replace(" ","_"),"/wireframe.png"),tellSize:r,listening:!1}):Object(I.jsx)(I.Fragment,{}),a.includes(b.d.GRID)?Object(I.jsxs)(I.Fragment,{children:[Array.from(Array(Math.round(c.width/t)),(function(e,a){return Object(I.jsx)(N.c,{points:[Math.round(a*t),0,Math.round(a*t),c.width],stroke:"#ddd",strokeWidth:.1,listening:!1},"x-".concat(a))})),Array.from(Array(Math.round(c.height/t)),(function(e,a){return Object(I.jsx)(N.c,{points:[0,Math.round(a*t),c.height,Math.round(a*t)],stroke:"#ddd",strokeWidth:.1,listening:!1},"y-".concat(a))}))]}):Object(I.jsx)(I.Fragment,{})]})},q=function(e){var t=e.paintingGuides,a=e.currentCarMake,n=e.handleImageSize;return Object(I.jsxs)(I.Fragment,{children:[t.includes(b.d.SPONSORBLOCKS)?Object(I.jsx)(W,{src:"".concat(V.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/sponsor_blocks.png"),tellSize:n,listening:!1}):Object(I.jsx)(I.Fragment,{}),t.includes(b.d.NUMBERBLOCKS)?Object(I.jsx)(W,{src:"".concat(V.a.assetsURL,"/templates/").concat(a.folder_directory.replace(" ","_"),"/number_blocks.png"),tellSize:n,listening:!1}):Object(I.jsx)(I.Fragment,{})]})},K=a(227),H=a.n(K),J=function(e){var t=e.layers,a=e.currentCarMake,n=e.handleImageSize;return Object(I.jsx)(I.Fragment,{children:H.a.orderBy(t.filter((function(e){return e.layer_type===b.c.CAR&&e.layer_visible})),["layer_order"],["desc"]).map((function(e){return Object(I.jsx)(W,{src:V.a.assetsURL+"/templates/"+a.folder_directory.replace(" ","_")+"/".concat(e.layer_data.img),tellSize:n,filterColor:e.layer_data.color,listening:!1},e.id)}))})},$=function(e){var t=e.layers,a=e.handleImageSize;return Object(I.jsx)(I.Fragment,{children:H.a.orderBy(t.filter((function(e){return e.layer_type===b.c.BASE&&e.layer_visible})),["layer_order","desc"]).map((function(e){return Object(I.jsx)(W,{src:"".concat(V.a.assetsURL,"/bases/").concat(e.layer_data.id,"/").concat(e.layer_data.img),tellSize:a,opacity:e.layer_data.opacity,filterColor:e.layer_data.color,listening:!1},e.id)}))})},Q=function(e){var t=e.layers,a=e.currentLayer,n=e.setCurrentLayer,r=e.frameSize,c=e.onChange;return Object(I.jsx)(I.Fragment,{children:H.a.orderBy(t.filter((function(e){return e.layer_type===b.c.OVERLAY&&e.layer_visible})),["layer_order"],["desc"]).map((function(e){return Object(I.jsx)(W,{name:e.id.toString(),src:"".concat(V.a.assetsURL,"/").concat(e.layer_data.source_file),x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),filterColor:e.layer_data.color,width:e.layer_data.width,height:e.layer_data.height,rotation:e.layer_data.rotation,opacity:e.layer_data.opacity,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:e.layer_data.shadowOffsetX,shadowOffsetY:e.layer_data.shadowOffsetY,onSelect:function(){return n(e)},isSelected:a&&a.id===e.id,listening:!e.layer_locked,frameSize:r,onChange:function(t){return c(e,t)}},e.id)}))})},Z=function(e){var t=e.fontFamily,a=e.fontFile,c=e.loadedFontList,o=(e.loadedList,e.isSelected,e.shadowColor),i=e.shadowBlur,s=e.shadowOpacity,d=e.shadowOffsetX,u=e.shadowOffsetY,j=e.onSelect,b=e.onChange,h=e.onFontLoad,p=Object(X.a)(e,["fontFamily","fontFile","loadedFontList","loadedList","isSelected","shadowColor","shadowBlur","shadowOpacity","shadowOffsetX","shadowOffsetY","onSelect","onChange","onFontLoad"]),y=Object(l.useState)(null),O=Object(r.a)(y,2),f=O[0],x=O[1],m=Object(l.useRef)();Object(l.useEffect)((function(){t&&a&&(c.includes(t)?x(t):g())}),[t,a]);var g=function(){new FontFace(t,a).load().then((function(e){document.fonts.add(e),h(t),x(t)})).catch((function(e){console.warn(e,t)}))};return Object(I.jsx)(N.f,Object(n.a)(Object(n.a)({},p),{},{fontFamily:f,onClick:j,onTap:j,ref:m,shadowColor:m.current?o:null,shadowBlur:m.current?i:null,shadowOpacity:m.current?s:null,shadowOffsetX:m.current?d:null,shadowOffsetY:m.current?u:null,draggable:b,onDragStart:function(e){j()},onDragEnd:function(e){b&&b({left:U.a.mathRound2(e.target.x()),top:U.a.mathRound2(e.target.y())})},onTransformEnd:function(e){if(b){var t=m.current,a=t.scaleX(),n=t.scaleY();b({left:U.a.mathRound2(t.x()),top:U.a.mathRound2(t.y()),rotation:U.a.mathRound2(t.rotation())||0,scaleX:U.a.mathRound2(Math.max(.01,a)),scaleY:U.a.mathRound2(Math.max(.01,n)),flop:a>0?0:1,flip:n>0?0:1})}}}))},ee=function(e){var t=e.layers,a=e.loadedFontList,n=e.fonts,r=e.frameSize,c=e.currentLayer,l=e.setCurrentLayer,o=e.onChange,i=e.onFontLoad,s=t.filter((function(e){return(e.layer_type===b.c.LOGO||e.layer_type===b.c.UPLOAD||e.layer_type===b.c.TEXT)&&e.layer_visible}));return Object(I.jsx)(I.Fragment,{children:H.a.orderBy(s,["layer_order"],["desc"]).map((function(e){if(e.layer_type!==b.c.TEXT)return Object(I.jsx)(W,{name:e.id.toString(),src:"".concat(V.a.assetsURL,"/").concat(e.layer_data.source_file),x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),width:e.layer_data.width,height:e.layer_data.height,frameSize:r,rotation:e.layer_data.rotation,scaleX:1===e.layer_data.flop?-1:1,scaleY:1===e.layer_data.flip?-1:1,shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:e.layer_data.shadowOffsetX,shadowOffsetY:e.layer_data.shadowOffsetY,opacity:e.layer_data.opacity,onSelect:function(){return l(e)},isSelected:c&&c.id===e.id,listening:!e.layer_locked,onChange:function(t){return o(e,t)}},e.id);var t=n.length?n.find((function(t){return t.id===e.layer_data.font})):{};return Object(I.jsx)(Z,{name:e.id.toString(),text:e.layer_data.text,fontFamily:t.font_name,fontFile:t.font_file?"url(".concat(V.a.assetsURL,"/").concat(t.font_file,")"):null,loadedFontList:a,onFontLoad:i,fontSize:e.layer_data.size,fill:e.layer_data.color,strokeWidth:e.layer_data.stroke,stroke:e.layer_data.scolor,strokeEnabled:!0,x:parseFloat(e.layer_data.left||0),y:parseFloat(e.layer_data.top||0),offsetX:0,offsetY:0,opacity:e.layer_data.opacity,rotation:e.layer_data.rotation,scaleX:(e.layer_data.scaleX||1)*(1===e.layer_data.flop?-1:1),scaleY:(e.layer_data.scaleY||1)*(1===e.layer_data.flip?-1:1),shadowColor:e.layer_data.shadowColor,shadowBlur:e.layer_data.shadowBlur,shadowOpacity:e.layer_data.shadowOpacity,shadowOffsetX:e.layer_data.shadowOffsetX,shadowOffsetY:e.layer_data.shadowOffsetY,onSelect:function(){return l(e)},isSelected:c&&c.id===e.id,listening:!e.layer_locked,onChange:function(t){return o(e,t)}},e.id)}))})},te=function(e){var t=e.selectedLayer,a=Object(l.useRef)();return Object(l.useEffect)((function(){!function(){if(t){var e=a.current.getStage().findOne("."+t.id);if(e===a.current.node())return;e?a.current.nodes([e]):a.current.detach(),a.current.getLayer().batchDraw()}}()})),t?Object(I.jsx)(N.g,{ref:a,keepRatio:!(!t.layer_data.sizeLocked&&!t.layer_data.scaleLocked),enabledAnchors:t.layer_data.sizeLocked||t.layer_data.scaleLocked?["top-left","top-right","bottom-left","bottom-right"]:["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"]}):Object(I.jsx)(I.Fragment,{})},ae=a(138),ne=a(58),re=function(){var e=Object(l.useRef)(null),t=Object(o.d)(),a=Object(D.a)(),r=a.width,c=a.height,i=a.ref,s=Object(o.e)((function(e){return e.boardReducer.frameSize})),d=Object(o.e)((function(e){return e.boardReducer.zoom})),u=Object(o.e)((function(e){return e.boardReducer.paintingGuides})),b=Object(o.e)((function(e){return e.carMakeReducer.current})),h=Object(o.e)((function(e){return e.schemeReducer.current})),y=Object(o.e)((function(e){return e.layerReducer.list})),O=Object(o.e)((function(e){return e.fontReducer.list})),f=Object(o.e)((function(e){return e.fontReducer.loadedList})),x=Object(o.e)((function(e){return e.layerReducer.current})),m=function(e){e.target===e.target.getStage()&&x&&t(Object(ne.h)(null))},g=function(e){(s.width<e.width||s.height<e.height)&&t(Object(p.b)({width:Math.max(s.width,e.width),height:Math.max(s.height,e.height)}))},_=function(e,a){t(Object(ne.j)(Object(n.a)(Object(n.a)({},e),{},{layer_data:Object(n.a)(Object(n.a)({},e.layer_data),a)})))},w=function(e){t(Object(ne.h)(e))};return Object(I.jsx)(j.a,{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"auto",ref:i,children:Object(I.jsx)(N.e,{width:r,height:c,onMouseDown:m,onMousemove:function(e){},onMouseup:function(e){},onTouchStart:m,onWheel:function(a){if(a.evt.preventDefault(),null!==e.current&&a.evt.ctrlKey){var n=e.current,r=n.scaleX(),c=n.getPointerPosition(),l=c.x,o=c.y,i={x:(l-n.x())/r,y:(o-n.y())/r},s=Math.max(Math.min(a.evt.deltaY>0?r/1.2:1.2*r,10),.25);t(Object(p.d)(s));var d={x:l-i.x*s,y:o-i.y*s};n.position(d),n.batchDraw()}},scaleX:d||1,scaleY:d||1,ref:e,draggable:!0,children:Object(I.jsxs)(N.b,{children:[Object(I.jsx)(N.d,{x:0,y:0,width:s.width,height:s.height,fill:"transparent"===h.base_color?h.base_color:"#"+h.base_color,listening:!1}),Object(I.jsx)($,{layers:y,handleImageSize:g}),Object(I.jsx)(q,{currentCarMake:b,paintingGuides:u,handleImageSize:g}),Object(I.jsx)(J,{layers:y,currentCarMake:b,handleImageSize:g}),Object(I.jsx)(Q,{layers:y,handleImageSize:g,frameSize:s,currentLayer:x,setCurrentLayer:w,onChange:_}),Object(I.jsx)(ee,{layers:y,fonts:O,loadedFontList:f,currentLayer:x,frameSize:s,setCurrentLayer:w,onChange:_,onFontLoad:function(e){t(Object(ae.c)(e))}}),Object(I.jsx)(G,{currentCarMake:b,paintingGuides:u,handleImageSize:g,frameSize:s}),Object(I.jsx)(te,{selectedLayer:x})]})})})},ce=a(1016),le=a(134),oe=a(1050),ie=a(1057),se=function(){var e=Object(o.d)(),t=Object(l.useState)(!1),a=Object(r.a)(t,2),n=a[0],c=a[1],i=Object(o.e)((function(e){return e.schemeReducer.current}));return Object(I.jsxs)(j.a,{display:"flex",justifyContent:"space-between",alignItems:"center",px:1,mb:2,children:[Object(I.jsxs)(j.a,{display:"flex",flexDirection:"row",children:[Object(I.jsx)(oe.a,{value:i?i.name:"",onChange:function(t){e(Object(le.g)(t.target.value)),c(!0)}}),n?Object(I.jsx)(f.a,{onClick:function(){e(Object(le.b)(i.id,i.name)),c(!1)},variant:"outlined",children:"Save"}):Object(I.jsx)(I.Fragment,{})]}),Object(I.jsx)(x.a,{children:Object(I.jsx)(ie.a,{})})]})},de=a(42),ue=a(10),je=a(877),be=a(1064),he=a(1065),pe=a(1066),ye=a(1069),Oe=a(1070),fe=a(1067),xe=a(1068),me=a(880),ge=a(1063),_e=a(1058),we=a(1059),Ce=a(1060),ve=a(1061),Ie=a(1062),Se=Object(c.c)(j.a).withConfig({displayName:"PartItem__Wrapper",componentId:"sc-1vufzst-0"})(["cursor:pointer;&.sortable-chosen{background:rgba(255,255,255,0.2);}&.activeItem{background:rgba(0,0,0,0.5);}"]),ke=function(e){var t=e.layer_visible,a=e.layer_locked,n=e.text,r=e.toggleVisible,c=e.toggleLocked,l=e.selected,o=e.disableLock,i=e.onSelect;return Object(I.jsx)(Se,{p:2,mb:1,display:"flex",width:"100%",border:1,borderColor:"grey.700",borderRadius:5,onClick:i,className:Object(ue.a)(l&&"activeItem"),children:Object(I.jsxs)(_e.a,{container:!0,justify:"space-between",alignItems:"center",spacing:2,children:[Object(I.jsx)(_e.a,{item:!0,xs:10,children:Object(I.jsxs)(_e.a,{container:!0,wrap:"nowrap",alignItems:"center",spacing:2,children:[Object(I.jsx)(_e.a,{item:!0,xs:2,children:Object(I.jsx)(x.a,{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r()},size:"small",children:t?Object(I.jsx)(we.a,{}):Object(I.jsx)(Ce.a,{})})}),Object(I.jsx)(_e.a,{item:!0,xs:10,children:Object(I.jsx)(O.a,{noWrap:!0,children:n})})]})}),o?Object(I.jsx)(I.Fragment,{}):Object(I.jsx)(_e.a,{item:!0,xs:2,children:Object(I.jsx)(x.a,{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),c()},size:"small",children:a?Object(I.jsx)(ve.a,{}):Object(I.jsx)(Ie.a,{})})})]})})},Le=Object(ge.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),Fe=Object(c.c)(f.a).withConfig({displayName:"PartGroup__Button",componentId:"d20ix9-0"})(y.b),Re=Object(c.c)(be.a).withConfig({displayName:"PartGroup__ButtonGroup",componentId:"d20ix9-1"})(y.b),Be=Object(c.c)(Fe).withConfig({displayName:"PartGroup__AddButton",componentId:"d20ix9-2"})(["min-width:40px;padding:3px 5px;.MuiButton-startIcon{margin-right:2px;}.MuiButton-endIcon{margin:0;}.fa-lg{font-size:1.3333333333em !important;}"]),Te=function(e){var t=Le(),a=Object(o.d)(),c=Object(l.useState)(!0),i=Object(r.a)(c,2),s=i[0],d=i[1],u=Object(o.e)((function(e){return e.layerReducer.current})),b=e.layerList,h=e.title,p=e.actions,y=e.extraChildren,O=e.disableLock,f=e.disableDnd,m=H.a.orderBy(b,["layer_order"],["asc"]);Object(l.useEffect)((function(){for(var e in m)m[e].layer_order!==parseInt(e)+1&&a(Object(ne.j)(Object(n.a)(Object(n.a)({},m[e]),{},{layer_order:parseInt(e)+1})))}),[b.length]);var g=function(e,t){var r=b.find((function(t){return t.id===e}));a(Object(ne.j)(Object(n.a)(Object(n.a)({},r),{},Object(de.a)({},t,r[t]?0:1))))};return Object(I.jsx)(j.a,{mb:2,children:Object(I.jsxs)(he.a,{children:[Object(I.jsx)(pe.a,{title:h,action:Object(I.jsxs)(j.a,{display:"flex",children:[p?Object(I.jsx)(Re,{mr:1,children:p.map((function(e,t){return Object(I.jsx)(Be,{onClick:e.onClick,size:"small",startIcon:Object(I.jsx)(fe.a,{}),endIcon:Object(I.jsx)(me.a,{icon:e.icon,size:"lg"}),variant:"outlined"},t)}))}):Object(I.jsx)(I.Fragment,{}),Object(I.jsx)(x.a,{onClick:function(){d((function(e){return!e}))},className:Object(ue.a)(t.expand,Object(de.a)({},t.expandOpen,s)),children:Object(I.jsx)(xe.a,{})})]})}),Object(I.jsx)(ye.a,{in:s,children:Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(je.ReactSortable,{list:m,setList:function(e){var t=function(t){var r=b.find((function(a){return a.id==e[t].id}));r&&r.layer_order!==parseInt(t)+1&&a(Object(ne.j)(Object(n.a)(Object(n.a)({},r),{},{layer_order:parseInt(t)+1})))};for(var r in e)t(r)},animation:150,onChoose:function(e){return console.log(e)},onSelect:function(e){return console.log(e)},sort:!f,children:m.map((function(e){return Object(I.jsx)(ke,{text:e.layer_data.name,layer_visible:e.layer_visible,layer_locked:e.layer_locked,toggleVisible:function(){return g(e.id,"layer_visible")},toggleLocked:function(){return g(e.id,"layer_locked")},selected:u&&u.id===e.id,onSelect:function(){return t=e,void a(Object(ne.h)(t));var t},disableLock:O},e.id)}))}),y]})})]})})},Ne=a(432),De=a(132),ze=a(1071),Me=a(1072),Pe=a(1092),Xe=a(1073),Ee=a(1074),Ae=a(1075),Ye=a(1076),Ue=Object(c.c)(f.a).withConfig({displayName:"BasePaintDialog__Button",componentId:"sc-1dconu8-0"})(y.b),We=Object(c.c)(Ne.a).withConfig({displayName:"BasePaintDialog__CustomInfiniteScroll",componentId:"sc-1dconu8-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),Ve=Object(c.c)(ze.a).withConfig({displayName:"BasePaintDialog__CustomGridList",componentId:"sc-1dconu8-2"})(["overflow:hidden !important;margin:0 !important;"]),Ge=Object(c.c)(Me.a).withConfig({displayName:"BasePaintDialog__CustomGridListTile",componentId:"sc-1dconu8-3"})(["cursor:pointer;"]),qe=c.c.img.withConfig({displayName:"BasePaintDialog__CustomImg",componentId:"sc-1dconu8-4"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),Ke=function(e){var t=Object(l.useState)(15),a=Object(r.a)(t,2),n=a[0],c=a[1],o=e.basePaints,i=e.onCancel,s=e.open,d=e.onOpenBase;return Object(I.jsxs)(Pe.a,{"aria-labelledby":"base-paints-title",open:s,onClose:i,children:[Object(I.jsx)(Xe.a,{id:"base-paints-title",children:"Select Base Paint"}),Object(I.jsx)(Ee.a,{dividers:!0,id:"base-paint-dialog-content",children:Object(I.jsx)(We,{dataLength:n,next:function(){c(n+15)},hasMore:n<o.length,loader:Object(I.jsx)(De.a,{}),scrollableTarget:"base-paint-dialog-content",children:Object(I.jsx)(Ve,{cellHeight:178,cols:3,children:o.slice(0,n).map((function(e){return Object(I.jsxs)(Ge,{cols:1,onClick:function(){return d(e)},children:[Object(I.jsx)(qe,{src:"".concat(V.a.assetsURL,"/bases/").concat(e.id,"/preview.jpg"),alt:e.base_description}),Object(I.jsx)(Ae.a,{title:e.base_name,subtitle:e.base_description})]},e.id)}))})})}),Object(I.jsx)(Ye.a,{children:Object(I.jsx)(Ue,{onClick:i,color:"primary",children:"Cancel"})})]})},He=a(1095),Je=a(882),$e=a.n(Je),Qe=Object(ge.a)((function(e){return{search:Object(de.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},border:"1px solid #8A8A8A",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}})),Ze=function(e){var t=e.value,a=e.onChange,n=Qe();return Object(I.jsxs)("div",{className:n.search,children:[Object(I.jsx)("div",{className:n.searchIcon,children:Object(I.jsx)($e.a,{})}),Object(I.jsx)(He.a,{placeholder:"Search",classes:{root:n.inputRoot,input:n.inputInput},value:t,inputProps:{"aria-label":"search"},onChange:function(e){a(e.target.value)}})]})},et=Object(c.c)(f.a).withConfig({displayName:"ShapeDialog__Button",componentId:"sc-12nk2gq-0"})(y.b),tt=Object(c.c)(Ne.a).withConfig({displayName:"ShapeDialog__CustomInfiniteScroll",componentId:"sc-12nk2gq-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),at=Object(c.c)(ze.a).withConfig({displayName:"ShapeDialog__CustomGridList",componentId:"sc-12nk2gq-2"})(["overflow:hidden !important;margin:0 !important;"]),nt=Object(c.c)(Me.a).withConfig({displayName:"ShapeDialog__CustomGridListTile",componentId:"sc-12nk2gq-3"})(["cursor:pointer;"]),rt=Object(c.c)(Ee.a).withConfig({displayName:"ShapeDialog__CustomDialogContent",componentId:"sc-12nk2gq-4"})(["width:600px;"]),ct=c.c.img.withConfig({displayName:"ShapeDialog__CustomImg",componentId:"sc-12nk2gq-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),lt=function(e){var t=Object(l.useState)(15),a=Object(r.a)(t,2),n=a[0],c=a[1],o=Object(l.useState)(""),i=Object(r.a)(o,2),s=i[0],d=i[1],u=e.shapes,b=e.onCancel,h=e.open,p=e.onOpenShape,y=u.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase())}));return Object(I.jsxs)(Pe.a,{"aria-labelledby":"shape-title",open:h,onClose:b,children:[Object(I.jsx)(Xe.a,{id:"shape-title",children:"Insert Shape"}),Object(I.jsxs)(rt,{dividers:!0,children:[Object(I.jsx)(j.a,{mb:2,children:Object(I.jsx)(Ze,{value:s,onChange:function(e){return d(e)}})}),Object(I.jsx)(j.a,{id:"shape-dialog-content",overflow:"auto",height:"70vh",children:Object(I.jsx)(tt,{dataLength:n,next:function(){c(n+15)},hasMore:n<y.length,loader:Object(I.jsx)(De.a,{}),scrollableTarget:"shape-dialog-content",children:Object(I.jsx)(at,{cellHeight:178,cols:3,children:y.slice(0,n).map((function(e){return Object(I.jsxs)(nt,{cols:1,onClick:function(){return p(e)},children:[Object(I.jsx)(ct,{src:"".concat(V.a.assetsURL,"/").concat(e.overlay_thumb),alt:e.name}),Object(I.jsx)(Ae.a,{title:e.name,subtitle:e.description})]},e.id)}))})})})]}),Object(I.jsx)(Ye.a,{children:Object(I.jsx)(et,{onClick:b,color:"primary",children:"Cancel"})})]})},ot=a(1087),it=a(1077),st=a(14),dt=Object(c.c)(f.a).withConfig({displayName:"LogoDialog__Button",componentId:"sc-39n1mp-0"})(y.b),ut=Object(c.c)(O.a).withConfig({displayName:"LogoDialog__Typography",componentId:"sc-39n1mp-1"})(y.b),jt=Object(c.c)(Ne.a).withConfig({displayName:"LogoDialog__CustomInfiniteScroll",componentId:"sc-39n1mp-2"})([".infinite-scroll-component{overflow:hidden !important;}"]),bt=Object(c.c)(ze.a).withConfig({displayName:"LogoDialog__CustomGridList",componentId:"sc-39n1mp-3"})(["overflow:hidden !important;margin:0 !important;"]),ht=Object(c.c)(Me.a).withConfig({displayName:"LogoDialog__CustomGridListTile",componentId:"sc-39n1mp-4"})(["cursor:pointer;"]),pt=Object(c.c)(Ee.a).withConfig({displayName:"LogoDialog__CustomDialogContent",componentId:"sc-39n1mp-5"})(["width:600px;"]),yt=c.c.img.withConfig({displayName:"LogoDialog__CustomImg",componentId:"sc-39n1mp-6"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),Ot=Object(st.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:40,width:"100%",backgroundColor:"#635ee7"}}})((function(e){return Object(I.jsx)(ot.a,Object(n.a)(Object(n.a)({},e),{},{TabIndicatorProps:{children:Object(I.jsx)("span",{})}}))})),ft=Object(st.a)((function(e){return{root:{textTransform:"none",color:"#fff",fontWeight:e.typography.fontWeightRegular,fontSize:"1rem",marginRight:0,padding:"6px 5px",minWidth:60,"&:focus":{opacity:1}}}}))((function(e){return Object(I.jsx)(it.a,Object(n.a)({disableRipple:!0},e))})),xt=function(e){var t=e.children,a=e.value,r=e.index,c=Object(X.a)(e,["children","value","index"]);return Object(I.jsx)("div",Object(n.a)(Object(n.a)({role:"tabpanel",hidden:a!==r,id:"logo-tabpanel-".concat(r),"aria-labelledby":"logo-tab-".concat(r)},c),{},{children:a===r&&Object(I.jsx)(I.Fragment,{children:t})}))};function mt(e){return{id:"logo-tab-".concat(e),"aria-controls":"logo-tabpanel-".concat(e)}}var gt=function(e){var t=Object(l.useState)(15),a=Object(r.a)(t,2),c=a[0],o=a[1],i=Object(l.useState)(15),s=Object(r.a)(i,2),d=s[0],u=s[1],b=Object(l.useState)(0),h=Object(r.a)(b,2),p=h[0],y=h[1],O=Object(l.useState)(""),f=Object(r.a)(O,2),x=f[0],m=f[1],g=e.logos,_=e.onCancel,w=e.open,C=e.onOpenLogo,v=g.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())&&"flag"!==e.type})),S=g.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())&&"flag"===e.type}));return Object(I.jsxs)(Pe.a,{"aria-labelledby":"logo-title",open:w,onClose:_,children:[Object(I.jsx)(Xe.a,{id:"logo-title",children:Object(I.jsxs)(j.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(I.jsx)(ut,{variant:"h5",mr:2,children:"Insert:"}),Object(I.jsxs)(Ot,{value:p,onChange:function(e,t){y(t),m("")},"aria-label":"logo tab",children:[Object(I.jsx)(ft,Object(n.a)({label:"Logo"},mt(0))),Object(I.jsx)(ft,Object(n.a)({label:"Flag"},mt(1)))]})]})}),Object(I.jsxs)(pt,{dividers:!0,children:[Object(I.jsx)(j.a,{mb:2,children:Object(I.jsx)(Ze,{value:x,onChange:function(e){return m(e)}})}),Object(I.jsx)(xt,{value:p,index:0,children:Object(I.jsx)(j.a,{id:"logo-dialog-content",overflow:"auto",height:"70vh",children:Object(I.jsx)(jt,{dataLength:c,next:function(){o(c+15)},hasMore:c<v.length,loader:Object(I.jsx)(De.a,{}),scrollableTarget:"logo-dialog-content",children:Object(I.jsx)(bt,{cellHeight:178,cols:3,children:v.slice(0,c).map((function(e){return Object(I.jsxs)(ht,{cols:1,onClick:function(){return C(e)},children:[Object(I.jsx)(yt,{src:"".concat(V.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object(I.jsx)(Ae.a,{title:e.name})]},e.id)}))})})})}),Object(I.jsx)(xt,{value:p,index:1,children:Object(I.jsx)(j.a,{id:"flag-dialog-content",overflow:"auto",height:"70vh",children:Object(I.jsx)(jt,{dataLength:d,next:function(){u(d+15)},hasMore:d<S.length,loader:Object(I.jsx)(De.a,{}),scrollableTarget:"flag-dialog-content",children:Object(I.jsx)(bt,{cellHeight:178,cols:3,children:S.slice(0,d).map((function(e){return Object(I.jsxs)(ht,{cols:1,onClick:function(){return C(e)},children:[Object(I.jsx)(yt,{src:"".concat(V.a.assetsURL,"/").concat(e.preview_file),alt:e.name}),Object(I.jsx)(Ae.a,{title:e.name})]},e.id)}))})})})})]}),Object(I.jsx)(Ye.a,{children:Object(I.jsx)(dt,{onClick:_,color:"primary",children:"Cancel"})})]})},_t=a(1017),wt=a(137),Ct=Object(c.c)(f.a).withConfig({displayName:"UploadDialog__Button",componentId:"vk7mct-0"})(y.b),vt=Object(c.c)(Ne.a).withConfig({displayName:"UploadDialog__CustomInfiniteScroll",componentId:"vk7mct-1"})([".infinite-scroll-component{overflow:hidden !important;}"]),It=Object(c.c)(ze.a).withConfig({displayName:"UploadDialog__CustomGridList",componentId:"vk7mct-2"})(["overflow:hidden !important;margin:0 !important;"]),St=Object(c.c)(Me.a).withConfig({displayName:"UploadDialog__CustomGridListTile",componentId:"vk7mct-3"})(["cursor:pointer;"]),kt=Object(c.c)(Ee.a).withConfig({displayName:"UploadDialog__CustomDialogContent",componentId:"vk7mct-4"})(["width:600px;"]),Lt=c.c.img.withConfig({displayName:"UploadDialog__CustomImg",componentId:"vk7mct-5"})(["width:100%;height:100%;position:relative;object-fit:contain;"]),Ft=function(e){var t=Object(o.d)(),a=Object(o.e)((function(e){return e.authReducer.user})),n=Object(o.e)((function(e){return e.schemeReducer.current})),c=Object(l.useState)(15),i=Object(r.a)(c,2),s=i[0],d=i[1],u=Object(l.useState)([]),b=Object(r.a)(u,2),h=b[0],p=b[1],y=Object(l.useState)(1),O=Object(r.a)(y,2),f=O[0],x=O[1],m=e.uploads,g=e.onCancel,_=e.open,w=e.onOpenUpload,C=function(e){return e.substring(e.lastIndexOf("uploads/")+"uploads/".length,e.lastIndexOf("."))};return Object(I.jsxs)(Pe.a,{"aria-labelledby":"upload-title",open:_,onClose:g,children:[Object(I.jsx)(Xe.a,{id:"upload-title",children:"My Uploads"}),Object(I.jsxs)(kt,{dividers:!0,children:[Object(I.jsx)(_t.a,{onChange:function(e){p(e),console.log(e)},value:h,showFileNamesInPreview:!0,showFileNames:!0,maxFiles:10},f),h.length?Object(I.jsx)(j.a,{mt:1,width:"100%",display:"flex",justifyContent:"center",children:Object(I.jsx)(Ct,{variant:"contained",color:"primary",onClick:function(){console.log(h),t(Object(wt.c)(a.id,n.id,h)),p([]),x(f+1)},children:"Save To My Upload List"})}):Object(I.jsx)(I.Fragment,{}),Object(I.jsx)(j.a,{id:"upload-dialog-content",overflow:"auto",height:"40vh",mt:1,children:Object(I.jsx)(vt,{dataLength:s,next:function(){d(s+15)},hasMore:s<m.length,loader:Object(I.jsx)(De.a,{}),scrollableTarget:"upload-dialog-content",children:Object(I.jsx)(It,{cellHeight:178,cols:3,children:m.slice(0,s).map((function(e){return Object(I.jsxs)(St,{cols:1,onClick:function(){return w(e)},children:[Object(I.jsx)(Lt,{src:"".concat(V.a.assetsURL,"/").concat(e.file_name),alt:C(e.file_name)}),Object(I.jsx)(Ae.a,{title:C(e.file_name)})]},e.id)}))})})})]}),Object(I.jsx)(Ye.a,{children:Object(I.jsx)(Ct,{onClick:g,color:"primary",children:"Cancel"})})]})},Rt=a(571),Bt=a(570),Tt=a(1053),Nt=a(1097),Dt=a(1051),zt=a(1099),Mt=a(1078),Pt=Object(c.c)(O.a).withConfig({displayName:"SliderInput__Typography",componentId:"sc-7loe1z-0"})(y.b),Xt=Object(c.c)(Dt.a).withConfig({displayName:"SliderInput__CustomInput",componentId:"sc-7loe1z-1"})([".MuiInputBase-inputMarginDense{padding-top:4px;padding-bottom:5px;width:50px;}"]),Et=Object(c.c)(j.a).withConfig({displayName:"SliderInput__SliderWrapper",componentId:"sc-7loe1z-2"})(["width:80px;margin-left:8px;margin-right:8px;height:28px;"]),At=function(e){var t=e.label,a=e.min,n=e.max,r=e.value,c=e.setValue,l=e.step;return Object(I.jsxs)(_e.a,{container:!0,spacing:2,children:[Object(I.jsx)(_e.a,{item:!0,xs:6,children:Object(I.jsx)(Pt,{variant:"body1",color:"textSecondary",mr:2,children:t})}),Object(I.jsx)(_e.a,{item:!0,xs:6,children:Object(I.jsxs)(j.a,{display:"flex",alignItems:"center",children:[Object(I.jsx)(Et,{children:Object(I.jsx)(zt.a,{min:a,max:n,step:l,value:r,onChange:function(e,t){return c(t)},"aria-labelledby":"shape-size",ValueLabelComponent:function(e){return Object(I.jsx)(Mt.a,{open:e.open,enterTouchDelay:0,placement:"top",title:e.value,children:e.children})}})}),Object(I.jsx)(Xt,{value:r,margin:"dense",type:"number",onChange:function(e){return c(""===e.target.value?a||0:Number(e.target.value))},onBlur:function(){r<a?c(a):r>n&&c(n)},inputProps:{min:a,max:n,"aria-labelledby":"input-slider"}})]})})]})},Yt=a(1086),Ut=a(1100),Wt=Object(c.c)(Yt.a).withConfig({displayName:"FontSelect__Select",componentId:"sc-79nr26-0"})(y.b),Vt=Object(c.c)(Wt).withConfig({displayName:"FontSelect__CustomSelect",componentId:"sc-79nr26-1"})([".MuiSelect-selectMenu{display:flex;align-items:center;height:2rem;}"]),Gt=c.c.img.withConfig({displayName:"FontSelect__FontImage",componentId:"sc-79nr26-2"})(["width:506px;filter:invert(1);"]),qt=function(e){var t=e.fontList,a=e.value,n=e.onChange;return Object(I.jsx)(Vt,{labelId:"font-select-label",id:"font-select-outlined",value:a,onChange:n,label:"Font",mb:4,renderValue:function(e){var a=t.find((function(t){return t.id===e}));return a?Object(I.jsx)(Gt,{src:"".concat(V.a.assetsURL,"/").concat(a.font_preview),alt:a.font_name}):Object(I.jsx)(I.Fragment,{children:"Select Font"})},children:t.map((function(e){return Object(I.jsx)(Ut.a,{value:e.id,children:Object(I.jsx)(Gt,{src:"".concat(V.a.assetsURL,"/").concat(e.font_preview),alt:e.font_name})},e.id)}))})},Kt=a(1018),Ht=Object(c.c)(oe.a).withConfig({displayName:"ColorPickerInput__ColorInputField",componentId:"sc-98haji-0"})(["width:80px;"]),Jt=function(e){var t=e.value,a=e.onChange,n=e.onInputChange;return Object(I.jsxs)(j.a,{display:"flex",alignItems:"center",children:[Object(I.jsx)(Kt.a,{value:t||"",onChange:function(e){return a(e.css.backgroundColor)},palette:b.e,deferred:!0,hideTextfield:!0}),Object(I.jsx)(Ht,{value:t||"",onChange:function(e){return n(e.target.value)}})]})},$t=Object(c.c)(f.a).withConfig({displayName:"TextDialog__Button",componentId:"sc-18v4ol9-0"})(y.b),Qt=Object(c.c)(oe.a).withConfig({displayName:"TextDialog__TextField",componentId:"sc-18v4ol9-1"})(y.b),Zt=Object(c.c)(O.a).withConfig({displayName:"TextDialog__Typography",componentId:"sc-18v4ol9-2"})(y.b),ea=Object(c.c)(Qt).withConfig({displayName:"TextDialog__CustomeTextField",componentId:"sc-18v4ol9-3"})([".MuiInputBase-input{height:2rem;}"]),ta=function(e){var t=e.fontList,a=e.errors,n=e.handleBlur,r=e.handleChange,c=e.setFieldValue,l=e.touched,o=e.values;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ea,{name:"text",label:"Text",placeholder:"Input Text here",variant:"outlined",value:o.text,error:Boolean(l.text&&a.text),helperText:l.text&&a.text,onBlur:n,onChange:r,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}),Object(I.jsxs)(Tt.a,{variant:"outlined",children:[Object(I.jsx)(Nt.a,{id:"font-select-label",children:"Font"}),Object(I.jsx)(qt,{value:o.font,onChange:function(e){return c("font",e.target.value)},fontList:t})]}),Object(I.jsxs)(_e.a,{container:!0,spacing:2,children:[Object(I.jsx)(_e.a,{item:!0,xs:12,sm:6,children:Object(I.jsx)(At,{label:"Font Size",min:6,max:72,value:o.size,setValue:function(e){return c("size",e)}})}),Object(I.jsx)(_e.a,{item:!0,xs:12,sm:6,children:Object(I.jsxs)(j.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(I.jsx)(Zt,{variant:"body1",color:"textSecondary",mr:2,children:"Font Color"}),Object(I.jsx)(Jt,{value:o.color,onChange:function(e){return c("color",e)},onInputChange:function(e){return c("color",e)}})]})})]}),Object(I.jsxs)(_e.a,{container:!0,spacing:2,children:[Object(I.jsx)(_e.a,{item:!0,xs:12,sm:6,children:Object(I.jsx)(At,{label:"Stroke Width",min:0,max:10,value:o.stroke,setValue:function(e){return c("stroke",e)}})}),Object(I.jsx)(_e.a,{item:!0,xs:12,sm:6,children:Object(I.jsxs)(j.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(I.jsx)(Zt,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"}),Object(I.jsx)(Jt,{value:o.scolor,onChange:function(e){return c("scolor",e)},onInputChange:function(e){return c("scolor",e)}})]})})]}),Object(I.jsx)(_e.a,{container:!0,spacing:2,children:Object(I.jsx)(_e.a,{item:!0,xs:12,sm:6,children:Object(I.jsx)(At,{label:"Rotation",min:-179,max:179,value:o.rotation,setValue:function(e){return c("rotation",e)}})})})]})},aa=function(e){var t=e.fontList,a=e.onCancel,r=e.open,c=e.onCreate;return Object(I.jsxs)(Pe.a,{"aria-labelledby":"insert-text-title",open:r,onClose:a,children:[Object(I.jsx)(Xe.a,{id:"insert-text-title",children:"Insert Text"}),Object(I.jsx)(Bt.b,{initialValues:{text:"",font:1,size:14,color:"#000000",stroke:0,scolor:"#000000",rotation:0},validationSchema:Rt.b().shape({text:Rt.c().required("Required")}),validate:function(e){return console.log(e),{}},onSubmit:c,children:function(e){return Object(I.jsxs)(Bt.a,{onSubmit:e.handleSubmit,children:[Object(I.jsx)(Ee.a,{dividers:!0,id:"insert-text-dialog-content",children:Object(I.jsx)(ta,Object(n.a)(Object(n.a)({},e),{},{fontList:t}))}),Object(I.jsxs)(Ye.a,{children:[Object(I.jsx)($t,{onClick:a,color:"secondary",children:"Cancel"}),Object(I.jsx)($t,{type:"submit",color:"primary",variant:"outlined",disabled:e.isSubmitting,children:"Create"})]})]})}})]})},na=Object(c.c)(j.a).withConfig({displayName:"sideBar__Wrapper",componentId:"sc-10zcfrv-0"})(["width:350px;background:#666666;overflow:auto;"]),ra=Object(c.c)(f.a).withConfig({displayName:"sideBar__ColorApplyButton",componentId:"sc-10zcfrv-1"})(["padding:3px 15px 5px;"]),ca=function(){var e=Object(o.d)(),t=Object(o.e)((function(e){return e.schemeReducer.current})),a=Object(o.e)((function(e){return e.layerReducer.list})),n=Object(o.e)((function(e){return e.overlayReducer.list})),c=Object(o.e)((function(e){return e.logoReducer.list})),i=Object(o.e)((function(e){return e.uploadReducer.list})),s=Object(o.e)((function(e){return e.fontReducer.list})),d=Object(o.e)((function(e){return e.boardReducer.frameSize})),u=Object(o.e)((function(e){return e.basePaintReducer.list})),h="transparent"===t.base_color?t.base_color:"#"+t.base_color,p=Object(l.useState)(null),y=Object(r.a)(p,2),O=y[0],f=y[1],x=Object(l.useState)(h),m=Object(r.a)(x,2),g=m[0],_=m[1],w=Object(l.useState)(!1),C=Object(r.a)(w,2),v=C[0],S=C[1];return Object(I.jsxs)(na,{p:3,children:[Object(I.jsx)(se,{}),Object(I.jsx)(Te,{title:"Car Parts",layerList:a.filter((function(e){return e.layer_type===b.c.CAR})),disableLock:!0,disableDnd:!0}),Object(I.jsx)(Te,{title:"Logos & Text",layerList:a.filter((function(e){return e.layer_type===b.c.LOGO||e.layer_type===b.c.TEXT||e.layer_type===b.c.UPLOAD})),actions:[{onClick:function(){return f(b.b.UPLOAD)},icon:ce.b},{onClick:function(){return f(b.b.LOGO)},icon:ce.d},{onClick:function(){return f(b.b.TEXT)},icon:ce.c}]}),Object(I.jsx)(Te,{title:"Shapes",layerList:a.filter((function(e){return e.layer_type===b.c.OVERLAY})),actions:[{onClick:function(){return f(b.b.SHAPE)},icon:ce.e}]}),Object(I.jsx)(Te,{title:"Base Paint",layerList:a.filter((function(e){return e.layer_type===b.c.BASE})),actions:[{onClick:function(){return f(b.b.BASEPAINT)},icon:ce.a}],disableLock:!0,extraChildren:Object(I.jsxs)(j.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(I.jsx)(Jt,{value:g,onChange:function(a){e(Object(le.a)(t.id,a)),_(a)},onInputChange:function(e){_(e),S(e!==h)}}),v?Object(I.jsx)(ra,{onClick:function(){e(Object(le.a)(t.id,g)),S(!1)},variant:"outlined",children:"Apply"}):Object(I.jsx)(I.Fragment,{})]})}),Object(I.jsx)(Ke,{open:O===b.b.BASEPAINT,basePaints:u,onOpenBase:function(a){e(Object(ne.d)(t.id,a)),f(null)},onCancel:function(){return f(null)}}),Object(I.jsx)(lt,{open:O===b.b.SHAPE,shapes:n,onOpenShape:function(a){e(Object(ne.b)(t.id,a,d)),f(null)},onCancel:function(){return f(null)}}),Object(I.jsx)(gt,{open:O===b.b.LOGO,logos:c,onOpenLogo:function(a){e(Object(ne.a)(t.id,a,d)),f(null)},onCancel:function(){return f(null)}}),Object(I.jsx)(Ft,{open:O===b.b.UPLOAD,uploads:i,onOpenUpload:function(a){e(Object(ne.c)(t.id,a,d)),f(null)},onCancel:function(){return f(null)}}),Object(I.jsx)(aa,{open:O===b.b.TEXT,fontList:s,onCreate:function(a){e(Object(ne.e)(t.id,a,d)),f(null)},onCancel:function(){return f(null)}})]})},la=a(1093),oa=a(1080),ia=a(1081),sa=Object(c.c)(oe.a).withConfig({displayName:"GeneralProperty__CustomeTextField",componentId:"sc-55yoxm-0"})([".MuiInputBase-input{height:2rem;}"]),da=function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,c=(e.setFieldValue,e.touched),o=e.values,i=e.toggleField,s=Object(l.useState)(!0),d=Object(r.a)(s,2),u=d[0],h=d[1];return t!=={}&&console.log(t),b.a[o.layer_type].includes("layer_data.name")||b.a[o.layer_type].includes("layer_data.text")?Object(I.jsxs)(la.a,{expanded:u,onChange:function(){return h(!u)},children:[Object(I.jsx)(oa.a,{expandIcon:Object(I.jsx)(xe.a,{}),children:Object(I.jsx)(O.a,{children:"General"})}),Object(I.jsx)(ia.a,{children:Object(I.jsxs)(j.a,{display:"flex",flexDirection:"column",width:"100%",children:[b.a[o.layer_type].includes("layer_data.name")?Object(I.jsx)(sa,{name:"layer_data.name",label:"Name",variant:"outlined",value:o.layer_data.name,error:Boolean(c.layer_data&&c.layer_data.name&&t.layer_data&&t.layer_data.name),helperText:c.layer_data&&c.layer_data.name&&t.layer_data&&t.layer_data.name,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(I.jsx)(I.Fragment,{}),b.a[o.layer_type].includes("layer_data.text")?Object(I.jsx)(sa,{name:"layer_data.text",label:"Text",variant:"outlined",value:o.layer_data.text,error:Boolean(c.layer_data&&c.layer_data.text&&t.layer_data&&t.layer_data.text),helperText:c.layer_data&&c.layer_data.text&&t.layer_data&&t.layer_data.text,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(I.jsx)(I.Fragment,{}),b.a[o.layer_type].includes("layer_visible")?Object(I.jsxs)(j.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object(I.jsx)(O.a,{variant:"body1",color:"textSecondary",mr:2,children:"Visibility"}),Object(I.jsx)(x.a,{onClick:function(){return i("layer_visible")},size:"small",children:o.layer_visible?Object(I.jsx)(we.a,{}):Object(I.jsx)(Ce.a,{})})]}):Object(I.jsx)(I.Fragment,{}),b.a[o.layer_type].includes("layer_locked")?Object(I.jsxs)(j.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",children:[Object(I.jsx)(O.a,{variant:"body1",color:"textSecondary",mr:2,children:"Locking"}),Object(I.jsx)(x.a,{onClick:function(){return i("layer_locked")},size:"small",children:o.layer_locked?Object(I.jsx)(ve.a,{}):Object(I.jsx)(Ie.a,{})})]}):Object(I.jsx)(I.Fragment,{})]})})]}):Object(I.jsx)(I.Fragment,{})},ua=a(1082),ja=a(1083),ba=Object(c.c)(oe.a).withConfig({displayName:"SizeProperty__CustomeTextField",componentId:"sc-8yv6lk-0"})([".MuiInputBase-input{height:2rem;}"]),ha=Object(c.c)(x.a).withConfig({displayName:"SizeProperty__CustomIconButton",componentId:"sc-8yv6lk-1"})(["margin:0 5px;height:50px;"]),pa=function(e){var t=e.errors,a=e.handleBlur,n=(e.handleChange,e.setFieldValue),c=e.touched,o=e.values,i=e.toggleLayerDataField,s=e.currentLayer,d=Object(l.useState)(!0),u=Object(r.a)(d,2),h=u[0],p=u[1];return b.a[o.layer_type].includes("layer_data.width")||b.a[o.layer_type].includes("layer_data.height")||b.a[o.layer_type].includes("layer_data.scaleX")||b.a[o.layer_type].includes("layer_data.scaleY")?Object(I.jsxs)(la.a,{expanded:h,onChange:function(){return p(!h)},children:[Object(I.jsx)(oa.a,{expandIcon:Object(I.jsx)(xe.a,{}),children:Object(I.jsx)(O.a,{children:"Size"})}),Object(I.jsx)(ia.a,{children:Object(I.jsxs)(j.a,{display:"flex",flexDirection:"column",width:"100%",children:[Object(I.jsxs)(j.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[b.a[o.layer_type].includes("layer_data.width")?Object(I.jsx)(ba,{name:"layer_data.width",label:"Width",variant:"outlined",type:"number",value:U.a.mathRound2(o.layer_data.width),error:Boolean(c.layer_data&&c.layer_data.width&&t.layer_data&&t.layer_data.width),helperText:c.layer_data&&c.layer_data.width&&t.layer_data&&t.layer_data.width,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;o.layer_data.sizeLocked&&n("layer_data.height",t*s.layer_data.height/s.layer_data.width),n("layer_data.width",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(I.jsx)(I.Fragment,{}),b.a[o.layer_type].includes("layer_data.width")&&b.a[o.layer_type].includes("layer_data.height")?Object(I.jsx)(ha,{onClick:function(){return i("sizeLocked")},children:o.layer_data.sizeLocked?Object(I.jsx)(ua.a,{}):Object(I.jsx)(ja.a,{})}):Object(I.jsx)(I.Fragment,{}),b.a[o.layer_type].includes("layer_data.height")?Object(I.jsx)(ba,{name:"layer_data.height",label:"Height",variant:"outlined",type:"number",value:U.a.mathRound2(o.layer_data.height),error:Boolean(c.layer_data&&c.layer_data.height&&t.layer_data&&t.layer_data.height),helperText:c.layer_data&&c.layer_data.height&&t.layer_data&&t.layer_data.height,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;o.layer_data.sizeLocked&&n("layer_data.width",t*s.layer_data.width/s.layer_data.height),n("layer_data.height",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(I.jsx)(I.Fragment,{})]}),Object(I.jsxs)(j.a,{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",children:[b.a[o.layer_type].includes("layer_data.scaleX")?Object(I.jsx)(ba,{name:"layer_data.scaleX",label:"ScaleX",variant:"outlined",type:"number",value:U.a.mathRound2(o.layer_data.scaleX),error:Boolean(c.layer_data&&c.layer_data.scaleX&&t.layer_data&&t.layer_data.scaleX),helperText:c.layer_data&&c.layer_data.scaleX&&t.layer_data&&t.layer_data.scaleX,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;o.layer_data.scaleLocked&&n("layer_data.scaleY",t*s.layer_data.scaleY/s.layer_data.scaleX),n("layer_data.scaleX",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(I.jsx)(I.Fragment,{}),b.a[o.layer_type].includes("layer_data.scaleX")&&b.a[o.layer_type].includes("layer_data.scaleY")?Object(I.jsx)(ha,{onClick:function(){return i("scaleLocked")},children:o.layer_data.scaleLocked?Object(I.jsx)(ua.a,{}):Object(I.jsx)(ja.a,{})}):Object(I.jsx)(I.Fragment,{}),b.a[o.layer_type].includes("layer_data.scaleY")?Object(I.jsx)(ba,{name:"layer_data.scaleY",label:"ScaleY",variant:"outlined",type:"number",value:U.a.mathRound2(o.layer_data.scaleY),error:Boolean(c.layer_data&&c.layer_data.scaleY&&t.layer_data&&t.layer_data.scaleY),helperText:c.layer_data&&c.layer_data.scaleY&&t.layer_data&&t.layer_data.scaleY,onBlur:a,onChange:function(e){var t=parseFloat(e.target.value)||0;o.layer_data.scaleLocked&&n("layer_data.scaleX",t*s.layer_data.scaleX/s.layer_data.scaleY),n("layer_data.scaleY",parseFloat(e.target.value)||0)},fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(I.jsx)(I.Fragment,{})]})]})})]}):Object(I.jsx)(I.Fragment,{})},ya=Object(c.c)(oe.a).withConfig({displayName:"PositionProperty__CustomeTextField",componentId:"sc-16v7yid-0"})([".MuiInputBase-input{height:2rem;}"]),Oa=function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,c=(e.setFieldValue,e.touched),o=e.values,i=Object(l.useState)(!0),s=Object(r.a)(i,2),d=s[0],u=s[1];return b.a[o.layer_type].includes("layer_data.left")||b.a[o.layer_type].includes("layer_data.top")?Object(I.jsxs)(la.a,{expanded:d,onChange:function(){return u(!d)},children:[Object(I.jsx)(oa.a,{expandIcon:Object(I.jsx)(xe.a,{}),children:Object(I.jsx)(O.a,{children:"Position"})}),Object(I.jsx)(ia.a,{children:Object(I.jsxs)(j.a,{display:"flex",flexDirection:"column",width:"100%",children:[b.a[o.layer_type].includes("layer_data.left")?Object(I.jsx)(ya,{name:"layer_data.left",label:"Left",variant:"outlined",type:"number",value:U.a.mathRound2(o.layer_data.left),error:Boolean(c.layer_data&&c.layer_data.left&&t.layer_data&&t.layer_data.left),helperText:c.layer_data&&c.layer_data.left&&t.layer_data&&t.layer_data.left,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(I.jsx)(I.Fragment,{}),b.a[o.layer_type].includes("layer_data.top")?Object(I.jsx)(ya,{name:"layer_data.top",label:"Top",variant:"outlined",type:"number",value:U.a.mathRound2(o.layer_data.top),error:Boolean(c.layer_data&&c.layer_data.top&&t.layer_data&&t.layer_data.top),helperText:c.layer_data&&c.layer_data.top&&t.layer_data&&t.layer_data.top,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(I.jsx)(I.Fragment,{})]})})]}):Object(I.jsx)(I.Fragment,{})},fa=Object(c.c)(Tt.a).withConfig({displayName:"FontProperty__FormControl",componentId:"sc-8xx6kn-0"})(y.b),xa=function(e){e.errors,e.handleBlur,e.handleChange;var t=e.setFieldValue,a=(e.touched,e.values),n=e.fontList,c=Object(l.useState)(!0),o=Object(r.a)(c,2),i=o[0],s=o[1];return b.a[a.layer_type].includes("layer_data.font")?Object(I.jsxs)(la.a,{expanded:i,onChange:function(){return s(!i)},children:[Object(I.jsx)(oa.a,{expandIcon:Object(I.jsx)(xe.a,{}),children:Object(I.jsx)(O.a,{children:"Font"})}),Object(I.jsx)(ia.a,{children:Object(I.jsxs)(j.a,{display:"flex",flexDirection:"column",width:"100%",children:[b.a[a.layer_type].includes("layer_data.font")?Object(I.jsxs)(fa,{variant:"outlined",mt:2,children:[Object(I.jsx)(Nt.a,{id:"font-select-label",children:"Font"}),Object(I.jsx)(qt,{value:a.layer_data.font,onChange:function(e){return t("layer_data.font",e.target.value)},fontList:n})]}):Object(I.jsx)(I.Fragment,{}),b.a[a.layer_type].includes("layer_data.color")?Object(I.jsxs)(_e.a,{container:!0,spacing:2,children:[Object(I.jsx)(_e.a,{item:!0,xs:6,children:Object(I.jsx)(O.a,{variant:"body1",color:"textSecondary",mr:2,children:"Font Color"})}),Object(I.jsx)(_e.a,{item:!0,xs:6,children:Object(I.jsx)(Jt,{value:a.layer_data.color,onChange:function(e){return t("layer_data.color",e)},onInputChange:function(e){return t("layer_data.color",e)}})})]}):Object(I.jsx)(I.Fragment,{}),b.a[a.layer_type].includes("layer_data.size")?Object(I.jsx)(At,{label:"Font Size",min:6,max:72,value:a.layer_data.size,setValue:function(e){return t("layer_data.size",e)}}):Object(I.jsx)(I.Fragment,{})]})})]}):Object(I.jsx)(I.Fragment,{})},ma=function(e){e.errors,e.handleBlur,e.handleChange;var t=e.setFieldValue,a=(e.touched,e.values),n=Object(l.useState)(!0),c=Object(r.a)(n,2),o=c[0],i=c[1];return b.a[a.layer_type].includes("layer_data.stroke")||b.a[a.layer_type].includes("layer_data.scolor")?Object(I.jsxs)(la.a,{expanded:o,onChange:function(){return i(!o)},children:[Object(I.jsx)(oa.a,{expandIcon:Object(I.jsx)(xe.a,{}),children:Object(I.jsx)(O.a,{children:"Stroke"})}),Object(I.jsx)(ia.a,{children:Object(I.jsxs)(j.a,{display:"flex",flexDirection:"column",width:"100%",children:[b.a[a.layer_type].includes("layer_data.scolor")?Object(I.jsxs)(_e.a,{container:!0,spacing:2,children:[Object(I.jsx)(_e.a,{item:!0,xs:6,children:Object(I.jsx)(O.a,{variant:"body1",color:"textSecondary",mr:2,children:"Stroke Color"})}),Object(I.jsx)(_e.a,{item:!0,xs:6,children:Object(I.jsx)(Jt,{value:a.layer_data.scolor,onChange:function(e){return t("layer_data.scolor",e)},onInputChange:function(e){return t("layer_data.scolor",e)}})})]}):Object(I.jsx)(I.Fragment,{}),b.a[a.layer_type].includes("layer_data.stroke")?Object(I.jsx)(At,{label:"Stroke Width",min:0,max:10,value:a.layer_data.stroke,setValue:function(e){return t("layer_data.stroke",e)}}):Object(I.jsx)(I.Fragment,{})]})})]}):Object(I.jsx)(I.Fragment,{})},ga=function(e){e.errors,e.handleBlur,e.handleChange;var t=e.setFieldValue,a=(e.touched,e.values),n=Object(l.useState)(!0),c=Object(r.a)(n,2),o=c[0],i=c[1];return b.a[a.layer_type].includes("layer_data.color")||b.a[a.layer_type].includes("layer_data.opacity")?Object(I.jsxs)(la.a,{expanded:o,onChange:function(){return i(!o)},children:[Object(I.jsx)(oa.a,{expandIcon:Object(I.jsx)(xe.a,{}),children:Object(I.jsx)(O.a,{children:"Color/Opacity"})}),Object(I.jsx)(ia.a,{children:Object(I.jsxs)(j.a,{display:"flex",flexDirection:"column",width:"100%",children:[b.a[a.layer_type].includes("layer_data.color")&&a.layer_type!==b.c.TEXT?Object(I.jsxs)(_e.a,{container:!0,spacing:2,children:[Object(I.jsx)(_e.a,{item:!0,xs:6,children:Object(I.jsx)(O.a,{variant:"body1",color:"textSecondary",mr:2,children:"Color"})}),Object(I.jsx)(_e.a,{item:!0,xs:6,children:Object(I.jsx)(Jt,{value:a.layer_data.color,onChange:function(e){return t("layer_data.color",e)},onInputChange:function(e){return t("layer_data.color",e)}})})]}):Object(I.jsx)(I.Fragment,{}),b.a[a.layer_type].includes("layer_data.opacity")?Object(I.jsx)(At,{label:"Opacity",min:0,max:1,step:.01,value:a.layer_data.opacity,setValue:function(e){return t("layer_data.opacity",e)}}):Object(I.jsx)(I.Fragment,{})]})})]}):Object(I.jsx)(I.Fragment,{})},_a=a(1084),wa=a(1089),Ca=function(e){e.errors,e.handleBlur,e.handleChange;var t=e.setFieldValue,a=(e.touched,e.values),n=Object(l.useState)(!0),c=Object(r.a)(n,2),o=c[0],i=c[1];return b.a[a.layer_type].includes("layer_data.rotation")||b.a[a.layer_type].includes("layer_data.flip")||b.a[a.layer_type].includes("layer_data.flop")?Object(I.jsxs)(la.a,{expanded:o,onChange:function(){return i(!o)},children:[Object(I.jsx)(oa.a,{expandIcon:Object(I.jsx)(xe.a,{}),children:Object(I.jsx)(O.a,{children:"Rotation"})}),Object(I.jsx)(ia.a,{children:Object(I.jsxs)(j.a,{display:"flex",flexDirection:"column",width:"100%",children:[b.a[a.layer_type].includes("layer_data.rotation")?Object(I.jsx)(At,{label:"Rotation",min:-179,max:179,value:Math.round(a.layer_data.rotation),setValue:function(e){return t("layer_data.rotation",e)}}):Object(I.jsx)(I.Fragment,{}),Object(I.jsxs)(j.a,{display:"flex",justifyContent:"space-around",children:[b.a[a.layer_type].includes("layer_data.flop")?Object(I.jsx)(Tt.a,{component:"fieldset",children:Object(I.jsx)(_a.a,{control:Object(I.jsx)(wa.a,{color:"primary",checked:Boolean(a.layer_data.flop),onChange:function(e){return t("layer_data.flop",e.target.checked?1:0)}}),label:"Flop",labelPlacement:"start"})}):Object(I.jsx)(I.Fragment,{}),b.a[a.layer_type].includes("layer_data.flip")?Object(I.jsx)(Tt.a,{component:"fieldset",children:Object(I.jsx)(_a.a,{control:Object(I.jsx)(wa.a,{color:"primary",checked:Boolean(a.layer_data.flip),onChange:function(e){return t("layer_data.flip",e.target.checked?1:0)}}),label:"Flip",labelPlacement:"start"})}):Object(I.jsx)(I.Fragment,{})]})]})})]}):Object(I.jsx)(I.Fragment,{})},va=Object(c.c)(oe.a).withConfig({displayName:"ShadowProperty__CustomeTextField",componentId:"sc-1d6vteb-0"})([".MuiInputBase-input{height:2rem;}"]),Ia=function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,c=e.setFieldValue,o=e.touched,i=e.values,s=Object(l.useState)(!0),d=Object(r.a)(s,2),u=d[0],h=d[1];return b.a[i.layer_type].includes("layer_data.shadowColor")||b.a[i.layer_type].includes("layer_data.shadowBlur")||b.a[i.layer_type].includes("layer_data.shadowOpacity")||b.a[i.layer_type].includes("layer_data.shadowOffsetX")||b.a[i.layer_type].includes("layer_data.shadowOffsetY")?Object(I.jsxs)(la.a,{expanded:u,onChange:function(){return h(!u)},children:[Object(I.jsx)(oa.a,{expandIcon:Object(I.jsx)(xe.a,{}),children:Object(I.jsx)(O.a,{children:"Shadow"})}),Object(I.jsx)(ia.a,{children:Object(I.jsxs)(j.a,{display:"flex",flexDirection:"column",width:"100%",children:[b.a[i.layer_type].includes("layer_data.shadowColor")?Object(I.jsxs)(_e.a,{container:!0,spacing:2,children:[Object(I.jsx)(_e.a,{item:!0,xs:6,children:Object(I.jsx)(O.a,{variant:"body1",color:"textSecondary",mr:2,children:"Shadow Color"})}),Object(I.jsx)(_e.a,{item:!0,xs:6,children:Object(I.jsx)(Jt,{value:i.layer_data.shadowColor,onChange:function(e){return c("layer_data.shadowColor",e)},onInputChange:function(e){return c("layer_data.shadowColor",e)}})})]}):Object(I.jsx)(I.Fragment,{}),b.a[i.layer_type].includes("layer_data.shadowBlur")?Object(I.jsx)(va,{name:"layer_data.shadowBlur",label:"Shadow Blur",variant:"outlined",type:"number",value:U.a.mathRound2(i.layer_data.shadowBlur),error:Boolean(o.layer_data&&o.layer_data.shadowBlur&&t.layer_data&&t.layer_data.shadowBlur),helperText:o.layer_data&&o.layer_data.shadowBlur&&t.layer_data&&t.layer_data.shadowBlur,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(I.jsx)(I.Fragment,{}),b.a[i.layer_type].includes("layer_data.shadowOpacity")?Object(I.jsx)(At,{label:"Shadow Opacity",min:0,max:1,step:.01,value:i.layer_data.shadowOpacity,setValue:function(e){return c("layer_data.shadowOpacity",e)}}):Object(I.jsx)(I.Fragment,{}),b.a[i.layer_type].includes("layer_data.shadowOffsetX")?Object(I.jsx)(va,{name:"layer_data.shadowOffsetX",label:"Shadow OffsetX",variant:"outlined",type:"number",value:U.a.mathRound2(i.layer_data.shadowOffsetX),error:Boolean(o.layer_data&&o.layer_data.shadowOffsetX&&t.layer_data&&t.layer_data.shadowOffsetX),helperText:o.layer_data&&o.layer_data.shadowOffsetX&&t.layer_data&&t.layer_data.shadowOffsetX,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(I.jsx)(I.Fragment,{}),b.a[i.layer_type].includes("layer_data.shadowOffsetY")?Object(I.jsx)(va,{name:"layer_data.shadowOffsetY",label:"Shadow OffsetX",variant:"outlined",type:"number",value:U.a.mathRound2(i.layer_data.shadowOffsetY),error:Boolean(o.layer_data&&o.layer_data.shadowOffsetY&&t.layer_data&&t.layer_data.shadowOffsetY),helperText:o.layer_data&&o.layer_data.shadowOffsetY&&t.layer_data&&t.layer_data.shadowOffsetY,onBlur:a,onChange:n,fullWidth:!0,margin:"normal",mb:4,InputLabelProps:{shrink:!0}}):Object(I.jsx)(I.Fragment,{})]})})]}):Object(I.jsx)(I.Fragment,{})},Sa=Object(c.c)(j.a).withConfig({displayName:"propertyBar__Wrapper",componentId:"sc-1e4csol-0"})(["width:350px;position:fixed;right:0;top:0;background:#666666;height:calc(100% - 50px);overflow:auto;"]),ka=function(){var e=Object(o.d)(),t=Object(o.e)((function(e){return e.layerReducer.current})),a=Object(o.e)((function(e){return e.fontReducer.list})),r=function(a){e(Object(ne.j)(Object(n.a)(Object(n.a)({},t),{},Object(de.a)({},a,t[a]?0:1))))},c=function(a){e(Object(ne.j)(Object(n.a)(Object(n.a)({},t),{},{layer_data:Object(n.a)(Object(n.a)({},t.layer_data),{},Object(de.a)({},a,t.layer_data[a]?0:1))})))},l=function(e){for(var a in e.layer_data)if(e.layer_data[a]!=t.layer_data[a])return!0;for(var n in e)if("layer_data"!=n&&e[n]!=t[n])return!0;return!1};if(t){var i=H.a.pick({layer_visible:1,layer_locked:0,layer_data:H.a.pick({name:"",text:"",width:0,height:0,left:0,top:0,rotation:0,flop:0,flip:0,scaleX:1,scaleY:1,stroke:0,font:0,size:0,scolor:"#000000",color:null,opacity:1,shadowColor:null,shadowBlur:0,shadowOpacity:1,shadowOffsetX:0,shadowOffsetY:0},b.a[t.layer_type].filter((function(e){return e.includes("layer_data.")})).map((function(e){return e.replace("layer_data.","")})))},b.a[t.layer_type].filter((function(e){return!e.includes("layer_data.")})));return Object(I.jsx)(Sa,{py:5,px:3,children:Object(I.jsx)(Bt.b,{initialValues:Object(n.a)(Object(n.a)(Object(n.a)({},i),t),{},{layer_data:Object(n.a)(Object(n.a)({},i.layer_data),t.layer_data)}),validationSchema:Rt.b({layer_order:Rt.a(),layer_visible:Rt.a(),layer_locked:Rt.a(),layer_data:Rt.b({name:Rt.c().required("Required"),text:Rt.c().test("text-validation","Required",(function(e){return e&&e.length||t.layer_type!==b.c.TEXT})),width:Rt.a().moreThan(0,"Must be greater than 0").test("width-validation","Required",(function(e){return e||t.layer_type===b.c.TEXT||t.layer_type===b.c.CAR||t.layer_type===b.c.BASE})),height:Rt.a().moreThan(0,"Must be greater than 0").test("height-validation","Required",(function(e){return e||t.layer_type===b.c.TEXT||t.layer_type===b.c.CAR||t.layer_type===b.c.BASE})),left:Rt.a(),top:Rt.a(),rotation:Rt.a().moreThan(-180,"Must be greater than -180").lessThan(180,"Must be less than 180"),flop:Rt.a(),flip:Rt.a(),scaleX:Rt.a().moreThan(0,"Must be greater than 0"),scaleY:Rt.a().moreThan(0,"Must be greater than 0"),color:Rt.c().nullable(),size:Rt.a(),scolor:Rt.c().nullable(),stroke:Rt.a(),font:Rt.a(),opacity:Rt.a(),shadowColor:Rt.c().nullable(),shadowBlur:Rt.a(),shadowOpacity:Rt.a(),shadowOffsetX:Rt.a(),shadowOffsetY:Rt.a()})}),enableReinitialize:!0,validate:function(e){return console.log(e),{}},onSubmit:function(t){e(Object(ne.j)(t))},children:function(e){return Object(I.jsxs)(Bt.a,{onSubmit:e.handleSubmit,noValidate:!0,children:[Object(I.jsxs)(j.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"34px",children:[Object(I.jsx)(O.a,{variant:"h5",noWrap:!0,children:"Properties"}),e.isValid&&l(e.values)?Object(I.jsx)(f.a,{type:"submit",color:"primary",variant:"outlined",children:"Apply"}):Object(I.jsx)(I.Fragment,{})]}),Object(I.jsx)(da,Object(n.a)(Object(n.a)({},e),{},{toggleField:r})),Object(I.jsx)(xa,Object(n.a)(Object(n.a)({},e),{},{fontList:a})),Object(I.jsx)(ga,Object(n.a)({},e)),Object(I.jsx)(ma,Object(n.a)({},e)),Object(I.jsx)(pa,Object(n.a)(Object(n.a)({},e),{},{toggleLayerDataField:c,currentLayer:t})),Object(I.jsx)(Oa,Object(n.a)({},e)),Object(I.jsx)(Ca,Object(n.a)({},e)),Object(I.jsx)(Ia,Object(n.a)({},e))]})}})})}return Object(I.jsx)(I.Fragment,{})},La=Object(c.c)(f.a).withConfig({displayName:"ConfirmDialog__Button",componentId:"sc-1cd3vhn-0"})(y.b),Fa=function(e){var t=e.text,a=e.open,n=e.onCancel,r=e.onConfirm;return Object(I.jsxs)(Pe.a,{"aria-labelledby":"confirm-title",open:a,children:[Object(I.jsx)(Xe.a,{id:"confirm-title",children:"Confirm"}),Object(I.jsx)(Ee.a,{dividers:!0,children:Object(I.jsx)(O.a,{variant:"body1",children:t})}),Object(I.jsxs)(Ye.a,{children:[Object(I.jsx)(La,{onClick:n,color:"primary",children:"Cancel"}),Object(I.jsx)(La,{onClick:r,color:"default",variant:"outlined",autoFocus:!0,children:"Confirm"})]})]})},Ra=a(178),Ba=a(179),Ta=Object(c.c)(j.a).withConfig({displayName:"scheme__Wrapper",componentId:"sc-188wpva-0"})(["background-color:",";"],(function(e){return e.background}));t.default=function(){var e=Object(o.d)(),t=Object(u.g)(),a=Object(l.useState)(""),c=Object(r.a)(a,2),i=c[0],p=c[1],y=Object(l.useState)(0),O=Object(r.a)(y,2),f=O[0],x=O[1],m=Object(l.useState)(0),g=Object(r.a)(m,2),_=g[0],w=g[1],C=Object(o.e)((function(e){return e.authReducer.user})),v=Object(o.e)((function(e){return e.schemeReducer.current})),S=Object(o.e)((function(e){return e.layerReducer.current})),k=Object(o.e)((function(e){return e.overlayReducer.list})),L=Object(o.e)((function(e){return e.logoReducer.list})),F=Object(o.e)((function(e){return e.fontReducer.list})),R=Object(o.e)((function(e){return e.schemeReducer.loading})),B=Object(o.e)((function(e){return e.carMakeReducer.loading})),N=Object(o.e)((function(e){return e.fontReducer.loading})),D=Object(o.e)((function(e){return e.uploadReducer.initialized})),z=function(t,a){if(console.log("KeyEvent: ",t,a),"INPUT"!==a.target.tagName&&"keydown"===a.type&&("del"!==t&&"backspace"!==t||!S||S.layer_type===b.c.CAR||p('Are you sure to delete "'.concat(S.layer_data.name,'"?')),"esc"===t&&S&&e(Object(ne.h)(null))),"INPUT"!==a.target.tagName&&["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(a.key)&&S&&![b.c.CAR,b.c.BASE].includes(S.layer_type)){var r=a.shiftKey?50:5,c="ArrowLeft"===a.key?-r:"ArrowRight"===a.key?r:0,l="ArrowUp"===a.key?-r:"ArrowDown"===a.key?r:0;"keyup"===a.type?e(Object(ne.j)(Object(n.a)(Object(n.a)({},S),{},{layer_data:Object(n.a)(Object(n.a)({},S.layer_data),{},{left:S.layer_data.left+c,top:S.layer_data.top+l})}))):_!==f&&(e(Object(ne.k)(Object(n.a)(Object(n.a)({},S),{},{layer_data:Object(n.a)(Object(n.a)({},S.layer_data),{},{left:S.layer_data.left+c,top:S.layer_data.top+l})}))),w(f))}};return Object(l.useEffect)((function(){C&&C.id&&t.id&&(v||e(Object(le.e)(t.id)),D||e(Object(wt.b)(C.id)),k.length||e(Object(Ra.b)()),L.length||e(Object(Ba.b)()),F.length||e(Object(ae.b)()))}),[C]),Object(l.useEffect)((function(){var e=setInterval((function(){x((function(e){return e+1}))}),200);return function(){return clearInterval(e)}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(d.b,{title:v?v.name:null}),R||B||N||!v?Object(I.jsx)(h.a,{}):Object(I.jsxs)(j.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",children:[Object(I.jsx)(s.a,{handleKeys:["all"],onKeyEvent:z}),Object(I.jsx)(s.a,{handleKeys:["all"],handleEventType:"keyup",onKeyEvent:z}),Object(I.jsxs)(j.a,{width:"100%",height:"calc(100% - 50px)",display:"flex",children:[Object(I.jsx)(ca,{}),Object(I.jsx)(Ta,{width:"calc(100% - 350px)",background:"#282828",overflow:"hidden",children:Object(I.jsx)(re,{})}),Object(I.jsx)(ka,{})]}),Object(I.jsx)(T,{})]}),Object(I.jsx)(Fa,{text:i,open:0!==i.length,onCancel:function(){return p("")},onConfirm:function(){e(Object(ne.g)(S)),p("")}})]})}},392:function(e,t,a){"use strict";a(227);t.a={getDifferenceFromToday:function(e){var t=(new Date).getTime()/1e3-new Date(e).getTime();if(t<60)return"".concat(Math.round(t)," seconds ago");var a=t/60;if(a<60)return"".concat(Math.round(a)," minutes ago");var n=a/60;if(n<24)return"".concat(Math.round(n)," hours ago");var r=n/24;return"".concat(Math.round(r)," days ago")},mathRound2:function(e){return Math.round(100*(e+Number.EPSILON))/100},hexToRgba:function(e){var t=e.length>7?/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e):/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:e.length>7?parseInt(t[4],16):255}:null}}}}]);
//# sourceMappingURL=6.ea7b20bc.chunk.js.map